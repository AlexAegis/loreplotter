(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/S1o":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("G5J1"),o=n("p0ib"),i=n("F/XL"),a=n("GDxn"),l=n("15JJ"),u=n("2WpN"),s=n("xMyE");function c(e,t){return function(n){return n.pipe(Object(l.a)(function(e){return e?Object(o.a)(Object(i.a)(e),a.a).pipe(Object(u.a)(t(e))):r.a}),Object(s.a)(e))}}},0:function(e,t){},"0agC":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("pugT"),o=function(){function e(){this.subscriptions=new r.a}return Object.defineProperty(e.prototype,"teardown",{set:function(e){this.subscriptions.add(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},e}()},1:function(e,t,n){e.exports=n("zUnb")},2:function(e,t){},"2Zeu":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("Womt");function o(e,t){return r.D.mapLinear(t,e.last?e.last.k.unix:-1/0,e.first?e.first.k.unix:1/0,0,1)}},"3w/k":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mrSG"),o=n("6HfZ"),i=function(){function e(e,t){this.key=e,this.value=t}return r.__decorate([o.jsonMember,r.__metadata("design:type",String)],e.prototype,"key",void 0),r.__decorate([o.jsonMember,r.__metadata("design:type",String)],e.prototype,"value",void 0),r.__decorate([o.jsonObject,o.toJson,r.__metadata("design:paramtypes",[String,String])],e)}()},"4aCP":function(e,t,n){"use strict";var r,o,i,a,l,u=n("mrSG"),s=n("Womt"),c=(r=new s.ib,o=new s.ib,i=new s.ib,a=new s.ib,l=new s.ib,function(e,t,n,u){return r.copy(e).cross(t).normalize(),o.copy(n).cross(u).normalize(),i.copy(r).cross(o).normalize(),a.copy(o).cross(r).normalize(),l.copy(e).add(n).add(t).add(u),(l.dot(i)>0?i:a).normalize()}),p=n("m6Ai"),d=n("K9Ia"),h=n("dzgT"),b=n("67Y/"),f=n("VnD/"),y=n("klSw"),m=n("xMyE"),g=n("ny24"),_=n("QcA2"),v=function(){function e(){this.position=new s.ib,this.quaternion=new s.R,this.distanceP=1/0,this.valid=!1}return e.prototype.reset=function(){this.valid=!1},e}(),x=function(){function e(){this.a=new v,this.b=new v,this.abDist=1/0,this.abNorm=new s.ib,this.center=new s.ib}return e.prototype.reset=function(){this.a.reset(),this.b.reset()},e}(),E=function(){function e(){this.position=new s.ib,this.nearestAllowedPosition=new s.ib,this.normToPointer=new s.ib,this.time=1/0,this.requestedAngle=1/0,this.requestedDistance=1/0,this.allowedDistance=1/0,this.allowedAngle=1/0,this.missingAngle=1/0,this.intADist=1/0,this.intBDist=1/0,this.toIntA=new s.ib,this.toIntB=new s.ib,this.iVect=new s.ib,this.toCenter=new s.ib,this.toNearestAllowed=new s.ib,this.toFlatNearestAllowed=new s.ib,this.circleNormal=new s.ib,this.toOther=new s.ib,this.angleBetweenOtherAndCenter=1/0,this.valid=!1,this.flatCenter=new s.ib}return e.prototype.setFromEvent=function(e,t,n,r){this.position.copy(e.value.position),this.time=Math.abs(e.key.unix-n.cursor),this.allowedDistance=this.time/3600*n.accumulator.maxSpeed.value,this.allowedAngle=this.allowedDistance/t.radius,n.cursor>e.key.unix?(t.indicatorFrom.setTargetRadian(this.allowedAngle),t.indicatorFrom.parent.lookAt(this.position),t.indicatorFrom.doShow()):(t.indicatorTo.setTargetRadian(this.allowedAngle),t.indicatorTo.parent.lookAt(this.position),t.indicatorTo.doShow()),this.valid=!0,r.lookAt(this.position),this.quaternion=r.quaternion.clone()},e.prototype.reset=function(){this.valid=!1},e.prototype.preparePan=function(e,t,n,r){this.requestedAngle=this.position.angleTo(t),this.missingAngle=this.requestedAngle-this.allowedAngle,this.normToPointer.copy(this.position).cross(t).normalize(),this.nearestAllowedPosition.copy(this.position).applyAxisAngle(this.normToPointer,this.allowedAngle),this.requestedDistance=this.requestedAngle*n.radius,r.lookAt(this.nearestAllowedPosition),this.nearestQuaternion=r.quaternion.clone(),e.a.valid&&(this.intADist=this.position.angleTo(e.a.position)),e.b.valid&&(this.intBDist=this.position.angleTo(e.b.position))},e.prototype.isOnCorrectArc=function(){var e=this.toIntA.angleTo(this.toIntB);this.circleNormal.copy(this.toIntA).cross(this.toIntB).normalize(),this.toFlatNearestAllowed.copy(this.toNearestAllowed).projectOnPlane(this.circleNormal);var t=this.toIntA.angleTo(this.toFlatNearestAllowed),n=this.toIntB.angleTo(this.toFlatNearestAllowed),r=Math.abs(t+n-e)<=1e-4;return this.angleBetweenOtherAndCenter<Math.PI/2?r:!r},e}(),O=function(){function e(){this.left=new E,this.right=new E,this.progressFromFirst=1/0,this.normal=new s.ib,this.lrDist=1/0,this.intersection=new x,this.distanceSorter=[{d:1/0,q:void 0},{d:1/0,q:void 0},{d:1/0,q:void 0},{d:1/0,q:void 0}],this.distanceSortFunction=function(e,t){return e.d-t.d}}return e.prototype.reset=function(){this.left.reset(),this.right.reset(),this.intersection.reset()},e.prototype.calculateIntersection=function(e,t,n){if(this.left.valid&&this.right.valid){this.normal.copy(this.left.position).cross(this.right.position).normalize(),this.left.toOther.copy(this.right.position).sub(this.left.position),this.right.toOther.copy(this.left.position).sub(this.right.position);var r=function(e,t,n){var r=[],o=e.center.clone().normalize(),i=t.center.clone().normalize(),a=e.radius/n,l=t.radius/n,u=o.clone().dot(i),s=u*u;if(1===s)return r;var c=(Math.cos(a)-u*Math.cos(l))/(1-s),p=(Math.cos(l)-u*Math.cos(a))/(1-s),d=o.clone().multiplyScalar(c).add(i.clone().multiplyScalar(p));if(d.clone().dot(d)>1)return r;var h=o.clone().cross(i).normalize(),b=h.clone().dot(h);if(0===b)return r;var f=Math.sqrt((1-d.clone().dot(d))/b);return r.push(d.clone().add(h.clone().multiplyScalar(f))),f>0&&r.push(d.clone().add(h.clone().multiplyScalar(-f))),r}({center:this.left.position,radius:this.left.allowedDistance},{center:this.right.position,radius:this.right.allowedDistance},e.radius);r.length>0?(this.intersection.a.position.copy(r[0]),t.lookAt(this.intersection.a.position),this.intersection.a.quaternion=t.quaternion.clone(),this.intersection.a.valid=!0,n&&e.putPin("debugIntersectA").position.copy(this.intersection.a.position)):this.intersection.a.valid=!1,r.length>1?(this.intersection.b.position.copy(r[1]),t.lookAt(this.intersection.b.position),this.intersection.b.quaternion=t.quaternion.clone(),this.intersection.b.valid=!0,n&&e.putPin("debugIntersectB").position.copy(this.intersection.b.position)):this.intersection.b.valid=!1}},e}(),w=function(e){function t(t,n,r,o,i){var a=e.call(this,new s.bb(.02,40,40),void 0)||this;return a.actor=t,a.storeFacade=n,a.loreService=r,a.actorService=o,a.globe=i,a.lastWorldPosition=new s.ib,a.baseHeight=1.02,a.scalarScale=1,a.scalarScaleBias=0,a.positionHelper=new s.ib,a.prelookHelper=new s.w,a.panFinishedSubject=new d.a,a.panEventSubject=new d.a,a.panHelper=new O,a.material=new s.G({color:1726182}),a.actorAccumulator$=a.actorService.actorDeltasAtCursor$.pipe(Object(b.a)(function(e){return e.find(function(e){return e.actor.id===a.actor.id})}),Object(f.a)(function(e){return void 0!==e}),Object(y.a)(1)),a.actorAccumulator$.subscribe(function(e){a.material.color.set(e.accumulator.color.value)}),a.name=t.id,a.type="Point",a.position.set(0,0,a.baseHeight),a.rotateX(90*s.D.DEG2RAD),a.geometry.computeFaceNormals(),a.geometry.computeVertexNormals(),a.geometry.computeBoundingSphere(),a.geometry.computeBoundsTree(),a.addEventListener("panstart",a.onPanStart),a.addEventListener("pan",function(e){a.panEventSubject.next(e)}),a.addEventListener("panend",function(e){a.panFinishedSubject.next(!0),a.loreService.spawnOnWorld.next({point:a,position:a.getWorldPosition(new s.ib)}),a.storeFacade.clearCursorOverride(),a.positionAtStart=void 0,a.positionHelper.set(0,0,0),a.parent.userData.override=!1,a.panHelper.reset(),a.globe.indicatorFrom.doHide(),a.globe.indicatorTo.doHide()}),a.storeFacade.actorObjectSizeBias$.pipe(Object(f.a)(function(e){return void 0!==e})).subscribe(function(e){a.scalarScaleBias=e,a.scale.setScalar(a.scalarScale+a.scalarScaleBias)}),a}return u.__extends(t,e),t.prototype.onPanStart=function(e){var t=this;this.positionAtStart=this.parent.quaternion.clone(),this.parent.userData.override=!0,Object(h.a)([this.storeFacade.isDebugMode$,Object(h.a)([this.actorAccumulator$,this.storeFacade.isDebugMode$]).pipe(Object(m.a)(function(e){var n=u.__read(e,2),r=n[0],o=n[1];t.enclosing=t.actor._states.enclosingNodes(new p.e(r.cursor)),t.enclosing.first&&t.enclosing.first.key.unix===r.cursor&&(t.enclosing.first=t.actor._states.enclosingNodes(new p.e(r.cursor-1)).first,t.enclosing.last=t.actor._states.enclosingNodes(new p.e(r.cursor+1)).last),t.enclosing.first&&t.panHelper.left.setFromEvent(t.enclosing.first,t.globe,r,t.prelookHelper),t.enclosing.last&&t.panHelper.right.setFromEvent(t.enclosing.last,t.globe,r,t.prelookHelper),t.enclosing.first&&t.enclosing.last&&(t.panHelper.calculateIntersection(t.globe,t.prelookHelper,o),t.panHelper.progressFromFirst=s.D.mapLinear(r.cursor,t.enclosing.first.key.unix,t.enclosing.last.key.unix,0,1),t.panHelper.lrDist=t.panHelper.left.position.angleTo(t.panHelper.right.position),o&&(t.globe.putArrowHelper("debugLeftToOther",t.panHelper.left.position,t.panHelper.left.toOther),t.globe.putArrowHelper("debugRightToOther",t.panHelper.right.position,t.panHelper.right.toOther)))})),this.panEventSubject]).pipe(Object(g.a)(this.panFinishedSubject)).subscribe(function(e){var n=u.__read(e,3),r=n[0],o=n[2];if(t.enclosing.first&&t.panHelper.left.preparePan(t.panHelper.intersection,o.point,t.globe,t.prelookHelper),t.enclosing.last&&t.panHelper.right.preparePan(t.panHelper.intersection,o.point,t.globe,t.prelookHelper),t.panHelper.intersection.a.valid&&(t.panHelper.intersection.a.distanceP=t.panHelper.intersection.a.position.angleTo(o.point),t.panHelper.left.toIntA.copy(t.panHelper.intersection.a.position).sub(t.panHelper.left.position),t.panHelper.right.toIntA.copy(t.panHelper.intersection.a.position).sub(t.panHelper.right.position),r&&(t.globe.putArrowHelper("debugLeftToIntA",t.panHelper.left.position,t.panHelper.left.toIntA,16711714),t.globe.putArrowHelper("debugRightToIntA",t.panHelper.right.position,t.panHelper.right.toIntA,16759808))),t.panHelper.intersection.b.valid&&(t.panHelper.intersection.b.distanceP=t.panHelper.intersection.b.position.angleTo(o.point),t.panHelper.left.toIntB.copy(t.panHelper.intersection.b.position).sub(t.panHelper.left.position),t.panHelper.right.toIntB.copy(t.panHelper.intersection.b.position).sub(t.panHelper.right.position),r&&(t.globe.putArrowHelper("debugLeftToIntB",t.panHelper.left.position,t.panHelper.left.toIntB,16711937),t.globe.putArrowHelper("debugRightToIntB",t.panHelper.right.position,t.panHelper.right.toIntB,65358))),t.panHelper.intersection.a.valid&&t.panHelper.intersection.b.valid&&(t.panHelper.intersection.abNorm.copy(t.panHelper.intersection.a.position).cross(t.panHelper.intersection.b.position).normalize(),t.panHelper.intersection.abDist=t.panHelper.intersection.a.position.angleTo(t.panHelper.intersection.b.position),t.panHelper.intersection.center.copy(c(t.panHelper.intersection.a.position,t.panHelper.intersection.b.position,t.panHelper.left.position,t.panHelper.right.position)),t.panHelper.left.toCenter.copy(t.panHelper.intersection.center).sub(t.panHelper.left.position),t.panHelper.right.toCenter.copy(t.panHelper.intersection.center).sub(t.panHelper.right.position),t.panHelper.left.toNearestAllowed.copy(t.panHelper.left.nearestAllowedPosition).sub(t.panHelper.left.position),t.panHelper.right.toNearestAllowed.copy(t.panHelper.right.nearestAllowedPosition).sub(t.panHelper.right.position),t.panHelper.left.angleBetweenOtherAndCenter=t.panHelper.left.toOther.angleTo(t.panHelper.left.toCenter),t.panHelper.right.angleBetweenOtherAndCenter=t.panHelper.right.toOther.angleTo(t.panHelper.right.toCenter),t.panHelper.left.iVect.copy(t.panHelper.intersection.center).sub(t.panHelper.left.position),t.panHelper.right.iVect.copy(t.panHelper.intersection.center).sub(t.panHelper.right.position),r&&(t.globe.putArrowHelper("debugLeftToCenter",t.panHelper.left.position,t.panHelper.left.toCenter,65280),t.globe.putArrowHelper("debugRightToCenter",t.panHelper.right.position,t.panHelper.right.toCenter,255),t.globe.putArrowHelper("debugLeftToNearestAllowed",t.panHelper.left.position,t.panHelper.left.toNearestAllowed,12517305),t.globe.putArrowHelper("debugRightToNearestAllowed",t.panHelper.right.position,t.panHelper.right.toNearestAllowed,9487871),t.globe.putPin("debugIntersectCenter","#4a00ff").position.copy(t.panHelper.intersection.center),t.globe.putArrowHelper("debugLeftIVect",t.panHelper.left.position,t.panHelper.left.iVect,16711680),t.globe.putArrowHelper("debugRightIVect",t.panHelper.right.position,t.panHelper.right.iVect,10354943))),t.panHelper.left.valid&&!t.panHelper.right.valid)t.panHelper.left.allowedAngle>=t.panHelper.left.requestedAngle?t.parent.lookAt(o.point):t.parent.quaternion.copy(t.panHelper.left.nearestQuaternion);else if(!t.panHelper.left.valid&&t.panHelper.right.valid)t.panHelper.right.allowedAngle>=t.panHelper.right.requestedAngle?t.parent.lookAt(o.point):t.parent.quaternion.copy(t.panHelper.right.nearestQuaternion);else if(t.panHelper.left.allowedAngle>=t.panHelper.left.requestedAngle&&t.panHelper.right.allowedAngle>=t.panHelper.right.requestedAngle)t.parent.lookAt(o.point);else if(t.panHelper.intersection.a.valid&&!t.panHelper.intersection.b.valid)t.parent.quaternion.copy(t.panHelper.intersection.a.quaternion);else if(t.panHelper.intersection.a.valid||t.panHelper.intersection.b.valid){var i=t.panHelper.left.isOnCorrectArc(),a=t.panHelper.right.isOnCorrectArc();t.panHelper.distanceSorter[0].d=i?Math.abs(t.panHelper.left.missingAngle):1/0,t.panHelper.distanceSorter[0].q=t.panHelper.left.nearestQuaternion,t.panHelper.distanceSorter[1].d=a?Math.abs(t.panHelper.right.missingAngle):1/0,t.panHelper.distanceSorter[1].q=t.panHelper.right.nearestQuaternion,t.panHelper.distanceSorter[2].d=t.panHelper.intersection.a.distanceP,t.panHelper.distanceSorter[2].q=t.panHelper.intersection.a.quaternion,t.panHelper.distanceSorter[3].d=t.panHelper.intersection.b.distanceP,t.panHelper.distanceSorter[3].q=t.panHelper.intersection.b.quaternion,t.parent.quaternion.copy(t.panHelper.distanceSorter.sort(t.panHelper.distanceSortFunction)[0].q)}else t.panHelper.lrDist+t.panHelper.left.allowedAngle<=t.panHelper.right.allowedAngle?t.parent.quaternion.copy(t.panHelper.left.nearestQuaternion):t.panHelper.lrDist+t.panHelper.right.allowedAngle<=t.panHelper.left.allowedAngle?t.parent.quaternion.copy(t.panHelper.right.nearestQuaternion):(t.positionHelper.copy(t.panHelper.left.position).applyAxisAngle(t.panHelper.normal,t.panHelper.progressFromFirst*t.panHelper.lrDist),t.parent.lookAt(t.positionHelper));t.updateHeightAndWorldPosAndScale()})},t.prototype.updateHeightAndWorldPosAndScale=function(e){this.parent&&this.parent.updateWorldMatrix(!1,!0),e&&(this.scalarScale=e),this.scale.setScalar(Math.max(this.scalarScale+this.scalarScaleBias,.2)),this.updateHeight()},t.prototype.updateHeight=function(){var e=this.stage.engineService,t=this.parent.parent,n=this.getWorldPosition(this.lastWorldPosition);n.multiplyScalar(1.1);var r=n.clone().multiplyScalar(-1).normalize();e.raycaster.set(n,r);var o=e.raycaster.intersectObject(t)[0];if(o){var i=t.displacementTexture.heightAt(o.uv);this.position.set(0,0,this.baseHeight+i*t.displacementScale+t.displacementBias)}},t}(_.a),j=function(e){function t(n){void 0===n&&(n=t.NATURAL_LEVEL_RATIO);var r=e.call(this,new s.bb(n,128,128),void 0)||this;return r.radius=n,r.type="Water",r.geometry.computeFaceNormals(),r.geometry.computeVertexNormals(),r.geometry.computeBoundingSphere(),r.geometry.computeBoundsTree(),r.material=new s.K({color:new s.l("#4985ff"),emissive:new s.l("#63acff"),emissiveIntensity:.001,opacity:.6,transparent:!0,blendEquationAlpha:.6,blending:s.a,roughness:.9}),r.frustumCulled=!1,r.name="water",r.castShadow=!0,r.receiveShadow=!0,r}return u.__extends(t,e),t.prototype.setRadius=function(e){this.radius=e*t.NATURAL_LEVEL_RATIO},t.NATURAL_LEVEL_RATIO=.98,t}(_.a),k=function(e){function t(t){void 0===t&&(t=1.2);var n=e.call(this)||this;return n.radius=t,n.type="Sun",n.directionalLightBaseIntensity=.6,n.originalPosition=new s.ib(40,0,0),n.name="sun",n.position.copy(n.originalPosition),n.material=new s.J({emissive:"#ffd3a8",emissiveIntensity:.7,shininess:0}),n.frustumCulled=!1,n.geometry=new s.bb(t,30,30),n.geometry.normalizeNormals(),n.geometry.computeBoundingSphere(),n.geometry.computeBoundsTree(),n.addEventListener("click",function(e){console.log("You clicked the sun")}),n.castShadow=!1,n.directionalLight=new s.q(16765864,n.directionalLightBaseIntensity),n.directionalLight.castShadow=!0,n.directionalLight.receiveShadow=!0,n.add(n.directionalLight),n}return u.__extends(t,e),t.prototype.resetPosition=function(){this.position.copy(this.originalPosition)},t}(_.a),S=function(e){function t(t){var n=e.call(this)||this;return n.engineService=t,n.baseAmbientIntensity=2.6,n.name="stage",n.camera=new s.P(120,window.innerWidth/window.innerHeight,.1,1e4),n.camera.name="camera",n.camera.position.z=1e3,n.camera.zoom=window.innerHeight/2,n.camera.updateProjectionMatrix(),n.add(n.camera),n.background=new s.l("#121212"),n.sun=new k,n.add(n.sun),n.ambient=new s.b("#d3f3ff",n.baseAmbientIntensity),n.add(n.ambient),n}return u.__extends(t,e),t}(s.Y),C=function(e){function t(t,n){void 0===n&&(n="#e6e000");var r=e.call(this,new s.bb(.003,20,20),void 0)||this;return r.material=new s.G({color:n}),r.name=t,r.position.set(0,0,1.01),r.rotateX(90*s.D.DEG2RAD),r.geometry.computeFaceNormals(),r.geometry.computeVertexNormals(),r.geometry.computeBoundingSphere(),r.geometry.computeBoundsTree(),r}return u.__extends(t,e),t}(_.a),A=n("Rney"),D=n("dC0D"),P=function(e){function t(t,n){var r=e.call(this)||this;return r.from=t,r.to=n,r}return u.__extends(t,e),t.prototype.getPoint=function(e){var t=this.from.angleTo(this.to);return(new s.ib).addVectors(this.from.clone().multiplyScalar(Math.sin((1-e)*t)),this.to.clone().multiplyScalar(Math.sin(e*t))).divideScalar(Math.sin(t))},t}(s.m),M=function(e){function t(t,n,r,o){var i=e.call(this,r)||this;return i.globe=o,i.canvas=r,i.canvasContext=r.getContext("2d"),i.canvasContext.imageSmoothingEnabled=!0,i.anisotropy=2,t&&i.loadFromDataURL(t),i.onUpdate=function(){i.globe&&i.globe.pointUpdateAudit.next(void 0)},i}return u.__extends(t,e),t.prototype.loadFromBlob=function(e){this.loadFromDataURL(URL.createObjectURL(e))},t.prototype.loadFromDataURL=function(e){var t=this,n=new Image;n.src=e,n.onload=function(){t.canvasContext.drawImage(n,0,0,n.width,n.height,0,0,t.canvas.width,t.canvas.height),t.needsUpdate=!0}},t.prototype.draw=function(e,t,n,r,o){this.canvasContext.fillStyle=e,this.canvasContext.fillRect(t,n,r,void 0!==o?o:r*Math.PI/1.9),this.needsUpdate=!0},t.prototype.heightAt=function(e){var t=this.canvasContext.getImageData(e.x*this.canvas.width-.5,(1-e.y)*this.canvas.height-.5,1,1);return s.D.mapLinear(t.data[0],0,255,0,1)},t.prototype.update=function(){this.image.src=this.canvas.toDataURL(),this.needsUpdate=!0},t.prototype.clear=function(){this.canvasContext.fillStyle="#202020",this.canvasContext.fillRect(0,0,this.canvas.width,this.canvas.height),this.needsUpdate=!0},t}(s.j),T=function(e){function t(t,n,r){void 0===n&&(n=1);var o,i=e.call(this)||this;i.zoomSubject=t,i.radius=n,i.storeFacade=r,i.putArrowHelper=(o=new s.ib,function(e,t,n,r){var a=i.getObjectByName(e);return o.copy(n).normalize(),void 0===a?((a=new s.c(o,t,n.length(),r)).name=e,i.add(a)):(a.position.copy(t),a.setDirection(o),a.setLength(n.length())),a}),i.water=new j,i.displacementBias=-.0345,i.displacementScale=.15,i.pointUpdateAudit=new d.a,i.type="Globe",i.name="globe";var a=document.createElement("canvas");return a.width=2048,a.height=2048,i.storeFacade.selectedLorePlanet$.subscribe(function(e){i.name=e.name,i.radius=e.radius}),i.displacementTexture=new M(void 0,"#747474",a,i),i.material=new s.L({color:"#ffffff",emissive:"#ffffff",emissiveIntensity:.033,displacementMap:i.displacementTexture,emissiveMap:i.displacementTexture,metalnessMap:i.displacementTexture,bumpMap:i.displacementTexture,map:i.displacementTexture,displacementScale:i.displacementScale,displacementBias:i.displacementBias,bumpScale:.008,side:s.r}),i.geometry=new s.bb(n,512,512),i.geometry.computeFaceNormals(),i.geometry.computeVertexNormals(),i.geometry.computeBoundingSphere(),i.geometry.normalizeNormals(),i.geometry.computeBoundsTree({maxDepth:140,maxLeafTris:20}),i.addEventListener("click",function(e){i.stage.engineService.selected.next(void 0)}),i.addEventListener("hover",function(e){i.stage.engineService.hovered.next(void 0)}),i.addEventListener("draw",function(e){i.drawTo(e.uv,e.mode,e.value,e.size),e.final&&i.stage.engineService.textureChange$.next(i.displacementTexture)}),i.add(i.water),i.zoomSubject.subscribe(i.pointUpdateAudit),i.pointUpdateAudit.pipe(Object(A.a)(1e3/60),Object(D.a)(function(e,t){return t||e})).subscribe(function(e){i.points.forEach(function(t){return t.updateHeightAndWorldPosAndScale(e)}),i.changed()}),i}return u.__extends(t,e),Object.defineProperty(t.prototype,"points",{get:function(){return this.children.filter(function(e){return 1===e.children.length}).reduce(function(e,t){return e.push.apply(e,u.__spread(t.children))&&e},[]).filter(function(e){return"Point"===e.type}).map(function(e){return e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indicatorFrom",{get:function(){return this._indicatorFrom},set:function(e){this._indicatorFrom=e,this.add((new s.w).add(this._indicatorFrom))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indicatorTo",{get:function(){return this._indicatorTo},set:function(e){this._indicatorTo=e,this.add((new s.w).add(this._indicatorTo))},enumerable:!0,configurable:!0}),t.prototype.removeDebugItems=function(){this.children.filter(function(e){return e.name.startsWith("debug")}).forEach(function(e){return e.parent.remove(e)})},t.prototype.putPin=function(e,t){var n=this.getObjectByName(e);return void 0===n&&(n=new C(e,t),this.add(n)),n},t.prototype.drawTo=function(e,t,n,r){this.displacementTexture.draw("rgb("+(n*=255)+","+n+","+n+")",e.x*this.displacementTexture.canvas.width-r/2,(1-e.y)*this.displacementTexture.canvas.height-r/2,r)},t.prototype.put=function(e,t,n){void 0===n&&(n=0),t.radius=this.radius+n+e.geometry.boundingBox.max.y,e.position.setFromSpherical(t),e.lookAt(this.position),this.add(e)},t.prototype.putWithAnchor=function(e,t){var n=new s.w;n.lookAt(t),e.position.set(0,0,this.radius),e.lookAt(n.position),n.add(e),this.add(n),this.add(n)},t.prototype.putCurve=function(e,t){var n=new P(e.multiplyScalar(1.01),t.multiplyScalar(1.01)),r=n.getPoints(50),o=(new s.i).setFromPoints(r);this.castShadow=!0,this.receiveShadow=!0;var i=new s.z({color:16711680}),a=new s.x(o,i);return this.add(a),n},t.prototype.findPointByActor=function(e){return this.points.filter(function(t){return t.actor.id===e.id}).shift()},t.prototype.removeActor=function(e){var t=this.findPointByActor(e);t.parent.remove(t)},t}(_.a);n.d(t,"a",function(){return w}),n.d(t,"c",function(){return S}),n.d(t,"b",function(){return T})},"6Sbd":function(e,t,n){"use strict";var r=n("CcnG"),o=n("seP3"),i=n("Ip0R"),a=n("bujt"),l=n("UodH"),u=n("lLAP"),s=n("wFw1"),c=function(){function e(){}return e.prototype.transform=function(e){return Math.round(e)},e}(),p=n("o3x0"),d=n("gIcY"),h=n("dJrM"),b=n("Wf4p"),f=n("Fzqc"),y=n("dWZg"),m=n("b716"),g=n("/VYK"),_=n("6uYy"),v=n("gPZA"),x=n("oWvL"),E=n("8N5C"),O=n("i6Y3");n.d(t,"a",function(){return L});var w=r.sb({encapsulation:0,styles:[["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:grid;grid-auto-columns:1fr 3fr;align-items:center}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin:1rem}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{transition:background-color .2s}[_nghost-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;grid-template-columns:1fr 1fr}[_nghost-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{grid-column:-1}"]],data:{}});function j(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),r.tb(1,16384,[[6,4]],0,o.b,[],null,null),(e()(),r.Lb(-1,null,["Duplicate found"]))],null,function(e,t){e(t,0,0,r.Eb(t,1).id)})}function k(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),r.tb(1,16384,[[6,4]],0,o.b,[],null,null),(e()(),r.Lb(-1,null,["Required"]))],null,function(e,t){e(t,0,0,r.Eb(t,1).id)})}function S(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),r.tb(1,16384,[[15,4]],0,o.b,[],null,null),(e()(),r.Lb(-1,null,["Required"]))],null,function(e,t){e(t,0,0,r.Eb(t,1).id)})}function C(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),r.tb(1,16384,[[24,4]],0,o.b,[],null,null),(e()(),r.Lb(-1,null,["Too large for current paths!"]))],null,function(e,t){e(t,0,0,r.Eb(t,1).id)})}function A(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),r.tb(1,16384,[[24,4]],0,o.b,[],null,null),(e()(),r.Lb(-1,null,["Too small, must be larger than 500! "]))],null,function(e,t){e(t,0,0,r.Eb(t,1).id)})}function D(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),r.tb(1,16384,[[24,4]],0,o.b,[],null,null),(e()(),r.Lb(-1,null,["Required"]))],null,function(e,t){e(t,0,0,r.Eb(t,1).id)})}function P(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),r.Lb(1,null,[" Max radius: "," "])),r.Fb(131072,i.b,[r.h]),r.Hb(3,1)],null,function(e,t){var n=t.component,o=r.Mb(t,1,0,e(t,3,0,r.Eb(t.parent,0),r.Mb(t,1,0,r.Eb(t,2).transform(n.maxPossiblePlanetRadius$))));e(t,1,0,o)})}function M(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,2,"button",[["aria-label","Load Default Earth"],["color","accent"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.loadDefaultEarth()&&r),r},a.b,a.a)),r.tb(1,180224,null,0,l.b,[r.k,u.h,[2,s.a]],{color:[0,"color"]},null),(e()(),r.Lb(-1,0,[" Load Earth "]))],function(e,t){e(t,1,0,"accent")},function(e,t){e(t,0,0,r.Eb(t,1).disabled||null,"NoopAnimations"===r.Eb(t,1)._animationMode)})}function T(e){return r.Nb(2,[r.Fb(0,c,[]),(e()(),r.ub(1,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),r.tb(2,81920,null,0,p.m,[[2,p.l],r.k,p.e],null,null),(e()(),r.Lb(3,null,["",""])),(e()(),r.ub(4,0,null,null,103,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),r.tb(5,16384,null,0,p.j,[],null,null),(e()(),r.ub(6,0,null,null,101,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==r.Eb(e,8).onSubmit(n)&&o),"reset"===t&&(o=!1!==r.Eb(e,8).onReset()&&o),o},null,null)),r.tb(7,16384,null,0,d.u,[],null,null),r.tb(8,540672,null,0,d.g,[[8,null],[8,null]],{form:[0,"form"]},null),r.Ib(2048,null,d.c,null,[d.g]),r.tb(10,16384,null,0,d.n,[[4,d.c]],null,null),(e()(),r.ub(11,0,null,null,2,"mat-label",[["class","nameLabel"]],null,null,null,null,null)),r.tb(12,16384,null,0,o.f,[],null,null),(e()(),r.Lb(-1,null,["Name:"])),(e()(),r.ub(14,0,null,null,25,"mat-form-field",[["class","name mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,h.b,h.a)),r.tb(15,7520256,null,9,o.c,[r.k,r.h,[2,b.j],[2,f.b],[2,o.a],y.a,r.B,[2,s.a]],{floatLabel:[0,"floatLabel"]},null),r.Jb(603979776,1,{_controlNonStatic:0}),r.Jb(335544320,2,{_controlStatic:0}),r.Jb(603979776,3,{_labelChildNonStatic:0}),r.Jb(335544320,4,{_labelChildStatic:0}),r.Jb(603979776,5,{_placeholderChild:0}),r.Jb(603979776,6,{_errorChildren:1}),r.Jb(603979776,7,{_hintChildren:1}),r.Jb(603979776,8,{_prefixChildren:1}),r.Jb(603979776,9,{_suffixChildren:1}),(e()(),r.ub(25,0,null,3,2,"mat-label",[],null,null,null,null,null)),r.tb(26,16384,[[3,4],[4,4]],0,o.f,[],null,null),(e()(),r.Lb(27,null,["",""])),(e()(),r.ub(28,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","name"],["matInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r.Eb(e,29)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r.Eb(e,29).onTouched()&&o),"compositionstart"===t&&(o=!1!==r.Eb(e,29)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r.Eb(e,29)._compositionEnd(n.target.value)&&o),"blur"===t&&(o=!1!==r.Eb(e,34)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==r.Eb(e,34)._focusChanged(!0)&&o),"input"===t&&(o=!1!==r.Eb(e,34)._onInput()&&o),o},null,null)),r.tb(29,16384,null,0,d.d,[r.H,r.k,[2,d.a]],null,null),r.Ib(1024,null,d.k,function(e){return[e]},[d.d]),r.tb(31,671744,null,0,d.f,[[3,d.c],[8,null],[8,null],[6,d.k],[2,d.t]],{name:[0,"name"]},null),r.Ib(2048,null,d.l,null,[d.f]),r.tb(33,16384,null,0,d.m,[[4,d.l]],null,null),r.tb(34,999424,null,0,m.b,[r.k,y.a,[6,d.l],[2,d.o],[2,d.g],b.d,[8,null],g.a,r.B],null,null),r.Ib(2048,[[1,4],[2,4]],o.d,null,[m.b]),(e()(),r.jb(16777216,null,5,1,null,j)),r.tb(37,16384,null,0,i.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null),(e()(),r.jb(16777216,null,5,1,null,k)),r.tb(39,16384,null,0,i.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null),(e()(),r.ub(40,0,null,null,0,"hr",[["class","divider"]],null,null,null,null,null)),(e()(),r.ub(41,0,null,null,66,"div",[["formGroupName","planet"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),r.tb(42,212992,null,0,d.h,[[3,d.c],[8,null],[8,null]],{name:[0,"name"]},null),r.Ib(2048,null,d.c,null,[d.h]),r.tb(44,16384,null,0,d.n,[[4,d.c]],null,null),(e()(),r.ub(45,0,null,null,2,"mat-label",[["class","planetNameLabel"]],null,null,null,null,null)),r.tb(46,16384,null,0,o.f,[],null,null),(e()(),r.Lb(-1,null,["Planet Name:"])),(e()(),r.ub(48,0,null,null,23,"mat-form-field",[["class","speed mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,h.b,h.a)),r.tb(49,7520256,null,9,o.c,[r.k,r.h,[2,b.j],[2,f.b],[2,o.a],y.a,r.B,[2,s.a]],{floatLabel:[0,"floatLabel"]},null),r.Jb(603979776,10,{_controlNonStatic:0}),r.Jb(335544320,11,{_controlStatic:0}),r.Jb(603979776,12,{_labelChildNonStatic:0}),r.Jb(335544320,13,{_labelChildStatic:0}),r.Jb(603979776,14,{_placeholderChild:0}),r.Jb(603979776,15,{_errorChildren:1}),r.Jb(603979776,16,{_hintChildren:1}),r.Jb(603979776,17,{_prefixChildren:1}),r.Jb(603979776,18,{_suffixChildren:1}),(e()(),r.ub(59,0,null,3,2,"mat-label",[],null,null,null,null,null)),r.tb(60,16384,[[12,4],[13,4]],0,o.f,[],null,null),(e()(),r.Lb(61,null,["",""])),(e()(),r.ub(62,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","name"],["matInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r.Eb(e,63)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r.Eb(e,63).onTouched()&&o),"compositionstart"===t&&(o=!1!==r.Eb(e,63)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r.Eb(e,63)._compositionEnd(n.target.value)&&o),"blur"===t&&(o=!1!==r.Eb(e,68)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==r.Eb(e,68)._focusChanged(!0)&&o),"input"===t&&(o=!1!==r.Eb(e,68)._onInput()&&o),o},null,null)),r.tb(63,16384,null,0,d.d,[r.H,r.k,[2,d.a]],null,null),r.Ib(1024,null,d.k,function(e){return[e]},[d.d]),r.tb(65,671744,null,0,d.f,[[3,d.c],[8,null],[8,null],[6,d.k],[2,d.t]],{name:[0,"name"]},null),r.Ib(2048,null,d.l,null,[d.f]),r.tb(67,16384,null,0,d.m,[[4,d.l]],null,null),r.tb(68,999424,null,0,m.b,[r.k,y.a,[6,d.l],[2,d.o],[2,d.g],b.d,[8,null],g.a,r.B],null,null),r.Ib(2048,[[10,4],[11,4]],o.d,null,[m.b]),(e()(),r.jb(16777216,null,5,1,null,S)),r.tb(71,16384,null,0,i.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null),(e()(),r.ub(72,0,null,null,2,"mat-label",[["class","planetRadius"]],null,null,null,null,null)),r.tb(73,16384,null,0,o.f,[],null,null),(e()(),r.Lb(-1,null,["Planet Radius:"])),(e()(),r.ub(75,0,null,null,30,"mat-form-field",[["class","radius mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,h.b,h.a)),r.tb(76,7520256,null,9,o.c,[r.k,r.h,[2,b.j],[2,f.b],[2,o.a],y.a,r.B,[2,s.a]],{floatLabel:[0,"floatLabel"]},null),r.Jb(603979776,19,{_controlNonStatic:0}),r.Jb(335544320,20,{_controlStatic:0}),r.Jb(603979776,21,{_labelChildNonStatic:0}),r.Jb(335544320,22,{_labelChildStatic:0}),r.Jb(603979776,23,{_placeholderChild:0}),r.Jb(603979776,24,{_errorChildren:1}),r.Jb(603979776,25,{_hintChildren:1}),r.Jb(603979776,26,{_prefixChildren:1}),r.Jb(603979776,27,{_suffixChildren:1}),(e()(),r.ub(86,0,null,3,2,"mat-label",[],null,null,null,null,null)),r.tb(87,16384,[[21,4],[22,4]],0,o.f,[],null,null),(e()(),r.Lb(88,null,["",""])),(e()(),r.ub(89,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","radius"],["mask","9*"],["matInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"click"],[null,"keydown"],[null,"paste"],[null,"focus"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r.Eb(e,90)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r.Eb(e,90).onTouched()&&o),"compositionstart"===t&&(o=!1!==r.Eb(e,90)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r.Eb(e,90)._compositionEnd(n.target.value)&&o),"input"===t&&(o=!1!==r.Eb(e,92).onInput(n)&&o),"blur"===t&&(o=!1!==r.Eb(e,92).onBlur()&&o),"click"===t&&(o=!1!==r.Eb(e,92).onFocus(n)&&o),"keydown"===t&&(o=!1!==r.Eb(e,92).a(n)&&o),"paste"===t&&(o=!1!==r.Eb(e,92).onPaste()&&o),"blur"===t&&(o=!1!==r.Eb(e,98)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==r.Eb(e,98)._focusChanged(!0)&&o),"input"===t&&(o=!1!==r.Eb(e,98)._onInput()&&o),o},null,null)),r.tb(90,16384,null,0,d.d,[r.H,r.k,[2,d.a]],null,null),r.Ib(512,null,_.c,_.c,[i.d,_.g,r.k,r.H]),r.tb(92,540672,null,0,_.b,[i.d,_.c],{maskExpression:[0,"maskExpression"]},null),r.Ib(1024,null,d.j,function(e){return[e]},[_.b]),r.Ib(1024,null,d.k,function(e,t){return[e,t]},[d.d,_.b]),r.tb(95,671744,null,0,d.f,[[3,d.c],[6,d.j],[8,null],[6,d.k],[2,d.t]],{name:[0,"name"]},null),r.Ib(2048,null,d.l,null,[d.f]),r.tb(97,16384,null,0,d.m,[[4,d.l]],null,null),r.tb(98,999424,null,0,m.b,[r.k,y.a,[6,d.l],[2,d.o],[2,d.g],b.d,[8,null],g.a,r.B],null,null),r.Ib(2048,[[19,4],[20,4]],o.d,null,[m.b]),(e()(),r.jb(16777216,null,5,1,null,C)),r.tb(101,16384,null,0,i.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null),(e()(),r.jb(16777216,null,5,1,null,A)),r.tb(103,16384,null,0,i.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null),(e()(),r.jb(16777216,null,5,1,null,D)),r.tb(105,16384,null,0,i.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null),(e()(),r.jb(16777216,null,null,1,null,P)),r.tb(107,16384,null,0,i.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null),(e()(),r.ub(108,0,null,null,2,"mat-label",[],null,null,null,null,null)),r.tb(109,16384,null,0,o.f,[],null,null),(e()(),r.Lb(110,null,["Landscape texture ",":"])),(e()(),r.ub(111,0,null,null,8,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),r.tb(112,16384,null,0,p.f,[],null,null),(e()(),r.ub(113,0,null,null,0,"input",[["type","file"]],null,[[null,"change"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.handleFileInput(n)&&r),r},null,null)),(e()(),r.jb(16777216,null,null,1,null,M)),r.tb(115,16384,null,0,i.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null),(e()(),r.ub(116,0,null,null,3,"button",[["aria-label","Save Form"],["class","save"],["color","accent"],["mat-flat-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0]],[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==r.Eb(e,118).dialogRef.close(r.Eb(e,118).dialogResult)&&o),o},a.b,a.a)),r.tb(117,180224,null,0,l.b,[r.k,u.h,[2,s.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),r.tb(118,606208,null,0,p.g,[[2,p.l],r.k,p.e],{ariaLabel:[0,"ariaLabel"],dialogResult:[1,"dialogResult"]},null),(e()(),r.Lb(119,0,[" "," "]))],function(e,t){var n=t.component;e(t,2,0),e(t,8,0,n.loreForm),e(t,15,0,"never"),e(t,31,0,"name"),e(t,34,0),e(t,37,0,n.loreForm.hasError("duplicate","name")),e(t,39,0,n.loreForm.hasError("required","name")),e(t,42,0,"planet"),e(t,49,0,"never"),e(t,65,0,"name"),e(t,68,0),e(t,71,0,n.loreForm.hasError("required","planet.name")),e(t,76,0,"never"),e(t,92,0,"9*"),e(t,95,0,"radius"),e(t,98,0),e(t,101,0,n.loreForm.hasError("large","planet.radius")),e(t,103,0,n.loreForm.hasError("small","planet.radius")),e(t,105,0,n.loreForm.hasError("required","planet.radius")),e(t,107,0,n.originalData.id),e(t,115,0,n.originalData.id),e(t,117,0,!n.loreForm.valid,"accent"),e(t,118,0,"Save Form",n.loreForm.value)},function(e,t){var n=t.component;e(t,1,0,r.Eb(t,2).id),e(t,3,0,n.originalData.id?"Edit":"Create"),e(t,6,0,r.Eb(t,10).ngClassUntouched,r.Eb(t,10).ngClassTouched,r.Eb(t,10).ngClassPristine,r.Eb(t,10).ngClassDirty,r.Eb(t,10).ngClassValid,r.Eb(t,10).ngClassInvalid,r.Eb(t,10).ngClassPending),e(t,14,1,["standard"==r.Eb(t,15).appearance,"fill"==r.Eb(t,15).appearance,"outline"==r.Eb(t,15).appearance,"legacy"==r.Eb(t,15).appearance,r.Eb(t,15)._control.errorState,r.Eb(t,15)._canLabelFloat,r.Eb(t,15)._shouldLabelFloat(),r.Eb(t,15)._hasFloatingLabel(),r.Eb(t,15)._hideControlPlaceholder(),r.Eb(t,15)._control.disabled,r.Eb(t,15)._control.autofilled,r.Eb(t,15)._control.focused,"accent"==r.Eb(t,15).color,"warn"==r.Eb(t,15).color,r.Eb(t,15)._shouldForward("untouched"),r.Eb(t,15)._shouldForward("touched"),r.Eb(t,15)._shouldForward("pristine"),r.Eb(t,15)._shouldForward("dirty"),r.Eb(t,15)._shouldForward("valid"),r.Eb(t,15)._shouldForward("invalid"),r.Eb(t,15)._shouldForward("pending"),!r.Eb(t,15)._animationsEnabled]),e(t,27,0,null==n.originalData?null:n.originalData.name),e(t,28,1,[r.Eb(t,33).ngClassUntouched,r.Eb(t,33).ngClassTouched,r.Eb(t,33).ngClassPristine,r.Eb(t,33).ngClassDirty,r.Eb(t,33).ngClassValid,r.Eb(t,33).ngClassInvalid,r.Eb(t,33).ngClassPending,r.Eb(t,34)._isServer,r.Eb(t,34).id,r.Eb(t,34).placeholder,r.Eb(t,34).disabled,r.Eb(t,34).required,r.Eb(t,34).readonly&&!r.Eb(t,34)._isNativeSelect||null,r.Eb(t,34)._ariaDescribedby||null,r.Eb(t,34).errorState,r.Eb(t,34).required.toString()]),e(t,41,0,r.Eb(t,44).ngClassUntouched,r.Eb(t,44).ngClassTouched,r.Eb(t,44).ngClassPristine,r.Eb(t,44).ngClassDirty,r.Eb(t,44).ngClassValid,r.Eb(t,44).ngClassInvalid,r.Eb(t,44).ngClassPending),e(t,48,1,["standard"==r.Eb(t,49).appearance,"fill"==r.Eb(t,49).appearance,"outline"==r.Eb(t,49).appearance,"legacy"==r.Eb(t,49).appearance,r.Eb(t,49)._control.errorState,r.Eb(t,49)._canLabelFloat,r.Eb(t,49)._shouldLabelFloat(),r.Eb(t,49)._hasFloatingLabel(),r.Eb(t,49)._hideControlPlaceholder(),r.Eb(t,49)._control.disabled,r.Eb(t,49)._control.autofilled,r.Eb(t,49)._control.focused,"accent"==r.Eb(t,49).color,"warn"==r.Eb(t,49).color,r.Eb(t,49)._shouldForward("untouched"),r.Eb(t,49)._shouldForward("touched"),r.Eb(t,49)._shouldForward("pristine"),r.Eb(t,49)._shouldForward("dirty"),r.Eb(t,49)._shouldForward("valid"),r.Eb(t,49)._shouldForward("invalid"),r.Eb(t,49)._shouldForward("pending"),!r.Eb(t,49)._animationsEnabled]),e(t,61,0,null==n.originalData?null:null==n.originalData.planet?null:n.originalData.planet.name),e(t,62,1,[r.Eb(t,67).ngClassUntouched,r.Eb(t,67).ngClassTouched,r.Eb(t,67).ngClassPristine,r.Eb(t,67).ngClassDirty,r.Eb(t,67).ngClassValid,r.Eb(t,67).ngClassInvalid,r.Eb(t,67).ngClassPending,r.Eb(t,68)._isServer,r.Eb(t,68).id,r.Eb(t,68).placeholder,r.Eb(t,68).disabled,r.Eb(t,68).required,r.Eb(t,68).readonly&&!r.Eb(t,68)._isNativeSelect||null,r.Eb(t,68)._ariaDescribedby||null,r.Eb(t,68).errorState,r.Eb(t,68).required.toString()]),e(t,75,1,["standard"==r.Eb(t,76).appearance,"fill"==r.Eb(t,76).appearance,"outline"==r.Eb(t,76).appearance,"legacy"==r.Eb(t,76).appearance,r.Eb(t,76)._control.errorState,r.Eb(t,76)._canLabelFloat,r.Eb(t,76)._shouldLabelFloat(),r.Eb(t,76)._hasFloatingLabel(),r.Eb(t,76)._hideControlPlaceholder(),r.Eb(t,76)._control.disabled,r.Eb(t,76)._control.autofilled,r.Eb(t,76)._control.focused,"accent"==r.Eb(t,76).color,"warn"==r.Eb(t,76).color,r.Eb(t,76)._shouldForward("untouched"),r.Eb(t,76)._shouldForward("touched"),r.Eb(t,76)._shouldForward("pristine"),r.Eb(t,76)._shouldForward("dirty"),r.Eb(t,76)._shouldForward("valid"),r.Eb(t,76)._shouldForward("invalid"),r.Eb(t,76)._shouldForward("pending"),!r.Eb(t,76)._animationsEnabled]),e(t,88,0,null==n.originalData?null:null==n.originalData.planet?null:n.originalData.planet.radius),e(t,89,1,[r.Eb(t,97).ngClassUntouched,r.Eb(t,97).ngClassTouched,r.Eb(t,97).ngClassPristine,r.Eb(t,97).ngClassDirty,r.Eb(t,97).ngClassValid,r.Eb(t,97).ngClassInvalid,r.Eb(t,97).ngClassPending,r.Eb(t,98)._isServer,r.Eb(t,98).id,r.Eb(t,98).placeholder,r.Eb(t,98).disabled,r.Eb(t,98).required,r.Eb(t,98).readonly&&!r.Eb(t,98)._isNativeSelect||null,r.Eb(t,98)._ariaDescribedby||null,r.Eb(t,98).errorState,r.Eb(t,98).required.toString()]),e(t,110,0,n.originalData.id?"change":""),e(t,116,0,r.Eb(t,117).disabled||null,"NoopAnimations"===r.Eb(t,117)._animationMode,r.Eb(t,118).ariaLabel||null),e(t,119,0,n.originalData.id?"Save":"Create")})}function F(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,1,"app-lore-form",[],null,[[null,"keydown"]],function(e,t,n){var o=!0;return"keydown"===t&&(o=!1!==r.Eb(e,1).onKeyDown(n)&&o),o},T,w)),r.tb(1,245760,null,0,v.a,[p.a,p.l,p.e,d.e,x.a,E.a,O.a],null,null)],function(e,t){e(t,1,0)},null)}var L=r.qb("app-lore-form",v.a,F,{},{},[])},"8N5C":function(e,t,n){"use strict";n.d(t,"b",function(){return O}),n.d(t,"a",function(){return k});var r=n("mrSG"),o=n("UemR"),i=n("2Zeu"),a=(n("xdJh"),n("m6Ai")),l=(n("oWvL"),n("i6Y3"),n("K9Ia")),u=n("dzgT"),s=n("F/XL"),c=n("0/uQ"),p=n("psW0"),d=n("67Y/"),h=n("R+r5"),b=n("klSw"),f=n("VnD/"),y=n("15JJ"),m=n("xMyE"),g=n("lA9V"),_=n("qyHS"),v=n("dC0D"),x=n("Womt"),E=n("3w/k"),O="__FORGET__",w=function(){return function(){}}(),j=function(){return function(){this.id=new w,this.unix=new w,this.name=new w,this.maxSpeed=new w,this.color=new w,this.position=new w,this.properties=[]}}(),k=function(){function e(e,t,n){var i,k,S,C,A=this;this.engineService=e,this.storeFacade=t,this.databaseService=n,this.actorFormSave=new l.a,this._w=new a.e(0),this.lookAtInterpolated=(i=new x.ib,k=new x.ib,S=new x.ib,C=new x.ib,function(e,t,n,r){if(S.copy(e),C.copy(t),n===1/0||isNaN(n))i.copy(S);else if(n===-1/0)i.copy(C);else{var o=S.angleTo(C);k.copy(S).cross(C).normalize(),i.copy(S).applyAxisAngle(k,n*o)}return r&&r.lookAt(i),i}),this._va=new x.ib,this.actorDeltasAtCursor$=Object(u.a)([this.databaseService.currentLoreActors$,this.storeFacade.cursor$]).pipe(Object(p.a)(function(e){var t=r.__read(e,2),n=t[1];return s.a.apply(void 0,r.__spread(t[0])).pipe(Object(d.a)(function(e){var t,o,i,l,u,s,c,p,d=new j,h=new Map;d.color.value=a.a.DEFAULT_COLOR,d.maxSpeed.value=a.a.DEFAULT_MAX_SPEED;var b=!1,f=function(e){void 0===u&&(u=e),e.key.unix<n&&(s=e),p=e,e.key.unix>n&&(b=!0,void 0===c&&(c=e)),b?(void 0!==e.key.unix&&void 0===d.unix.nextAppearance&&(d.unix.nextValue=e.key.unix,d.unix.nextAppearance=e),e.value.name&&void 0===d.name.nextAppearance&&(d.name.nextValue=e.value.name,d.name.nextAppearance=e),void 0!==e.value.maxSpeed&&void 0===d.maxSpeed.nextAppearance&&(d.maxSpeed.nextValue=e.value.maxSpeed,d.maxSpeed.nextAppearance=e),e.value.color&&void 0===d.color.nextAppearance&&(d.color.nextValue=e.value.color,d.color.nextAppearance=e),void 0!==e.value.position&&void 0===d.position.nextAppearance&&(d.position.nextValue=e.value.position,d.position.nextAppearance=e),e.value.properties&&e.value.properties.forEach(function(t){var n=t.key,r=t.value,o=h.get(n);if(o)void 0!==r&&void 0===o.nextAppearance&&(o.nextValue=r,o.nextAppearance=e);else{var i=new w;i.nextValue=r,i.nextAppearance=e,h.set(n,i)}})):(void 0!==e.key.unix&&(d.unix.value=e.key.unix,d.unix.appearedIn=e),e.value.name&&(d.name.value=e.value.name,d.name.appearedIn=e),void 0!==e.value.maxSpeed&&(d.maxSpeed.value=e.value.maxSpeed,d.maxSpeed.appearedIn=e),e.value.color&&(d.color.value=e.value.color,d.color.appearedIn=e),void 0!==e.value.position&&(d.position.value=e.value.position,d.position.appearedIn=e),e.value.properties&&e.value.properties.forEach(function(t){var n=t.key,r=t.value,o=h.get(n);if(o)r&&(r===O?o.value.startsWith(O)||(o.value=O+"."+o.value):o.value=r,o.appearedIn=e);else{var i=new w;i.value=r,i.appearedIn=e,h.set(n,i)}}))};try{for(var y=r.__values(e._states.nodes()),m=y.next();!m.done;m=y.next())f(m.value)}catch(S){t={error:S}}finally{try{m&&!m.done&&(o=y.return)&&o.call(y)}finally{if(t)throw t.error}}try{for(var g=r.__values(h.entries()),_=g.next();!_.done;_=g.next()){var v=r.__read(_.value,2),x=v[0],E=v[1],k=new w;k.nextValue={key:x,value:E.nextValue},k.nextAppearance=E.nextAppearance,k.appearedIn=E.appearedIn,k.value={key:x,value:E.value},d.properties.push(k)}}catch(C){i={error:C}}finally{try{_&&!_.done&&(l=g.return)&&l.call(g)}finally{if(i)throw i.error}}return{cursor:n,actor:e,accumulator:d,firstEvent:u,lastEvent:p,previousEvent:s,nextEvent:c}}),Object(h.a)())}),Object(b.a)(1)),this.selectedActorAccumulatorAtCursor$=Object(u.a)([this.actorDeltasAtCursor$,this.engineService.selected.pipe(Object(f.a)(function(e){return void 0!==e}),Object(d.a)(function(e){return e.actor}))]).pipe(Object(d.a)(function(e){var t=r.__read(e,2),n=t[1];return t[0].find(function(e){return e.actor.id===n.id})}),Object(f.a)(function(e){return void 0!==e})),this._vb=new x.ib,this.actorDialogSubscription=this.actorFormSave.pipe(Object(f.a)(function(e){return void 0!==e}),Object(y.a)(function(e){var t,n,o=e.actor,i=e.name,l=e.maxSpeed,u=e.properties,s=e.newProperties,p=e.color,h=new a.e(Math.floor(e.date.unix())),b=A.actorPositionAt(o,h.unix),f=new Map;u.filter(function(e){return e.value||e.forget}).map(function(e){return e.forget&&(e.value=O),e}).forEach(function(e){return f.set(e.key,e.value)}),s.filter(function(e){return!!e.value}).forEach(function(e){return f.set(e.key,e.value)});var y=[];try{for(var m=r.__values(f.entries()),g=m.next();!g.done;g=m.next()){var _=r.__read(g.value,2);y.push(new E.a(_[0],_[1]))}}catch(x){t={error:x}}finally{try{g&&!g.done&&(n=m.return)&&n.call(m)}finally{if(t)throw t.error}}var v=new a.b(i||void 0,b,y,l,p);return o._states.set(h,v),Object(c.a)(o.atomicUpdate(function(e){return e._states=o._states,e})).pipe(Object(d.a)(function(e){return o}))}),Object(m.a)(function(e){return Object(o.d)(e)})).subscribe(),this.maxPossiblePlanetRadius$=this.databaseService.currentLoreActors$.pipe(Object(p.a)(function(e){return s.a.apply(void 0,r.__spread(e)).pipe(Object(g.a)(function(e,t){return s.a.apply(void 0,r.__spread(t._states.nodes())).pipe(Object(_.a)(),Object(v.a)(function(e,t){var n=r.__read(t,2),o=n[0],i=n[1];void 0!==o.value.maxSpeed&&(e.lastMaxSpeed=o.value.maxSpeed),A._va.copy(o.value.position),A._vb.copy(i.value.position);var a=Math.abs(i.key.unix-o.key.unix),l=e.lastMaxSpeed*(a/3600)/A._va.angleTo(A._vb);return e.maxRadius>=l&&(e.maxRadius=l),e},{lastMaxSpeed:a.a.DEFAULT_MAX_SPEED,maxRadius:1/0}),Object(d.a)(function(t){var n=t.maxRadius;return e>n?n:e}))},1/0))}),Object(b.a)(1)),this.slerperHelper=new x.w,this.pseudoPoint=new x.w,this.pseudoPoint.position.set(0,0,1),this.slerperHelper.add(this.pseudoPoint),this.latestSlerpsWorldPositionHolder=new x.ib}return e.prototype.actorPositionAt=function(e,t){var n;this._w.unix=t;var r=e._states.enclosingNodes(this._w);if(void 0===r.first||void 0===r.last){var o=r.first;o||(o=r.last),n={x:o.value.position.x,y:o.value.position.y,z:o.value.position.z}}else{var a=Object(i.a)(r,t),l=void 0;r.last&&(l=r.last.value.position),r.first&&(l=r.first.value.position),r.last&&r.first&&(l=this.lookAtInterpolated(r.last.value.position,r.first.value.position,a)),n={x:l.x,y:l.y,z:l.z}}return n},e.prototype.accumulatorOf=function(e){return this.actorDeltasAtCursor$.pipe(Object(d.a)(function(t){return t.find(function(t){return t.actor.id===e.id})}),Object(f.a)(function(e){return void 0!==e}))},e}()},"9acP":function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"loadActors",function(){return u}),n.d(r,"loadActorsSuccess",function(){return c}),n.d(r,"loadActorsFailure",function(){return d}),n.d(r,"createActor",function(){return b}),n.d(r,"createActorSuccess",function(){return y}),n.d(r,"createActorFailure",function(){return g}),n.d(r,"updateActor",function(){return v}),n.d(r,"updateActorSuccess",function(){return E}),n.d(r,"updateActorFailure",function(){return w}),n.d(r,"deleteActor",function(){return k}),n.d(r,"deleteActorSuccess",function(){return C}),n.d(r,"deleteActorFailure",function(){return D}),n.d(r,"changeSelectedActor",function(){return M}),n.d(r,"toggleActorCreateMode",function(){return T}),n.d(r,"setActorCreateMode",function(){return L}),n.d(r,"\u02750",function(){return l}),n.d(r,"\u02751",function(){return s}),n.d(r,"\u02752",function(){return p}),n.d(r,"\u02753",function(){return h}),n.d(r,"\u02754",function(){return f}),n.d(r,"\u02755",function(){return m}),n.d(r,"\u02756",function(){return _}),n.d(r,"\u02757",function(){return x}),n.d(r,"\u02758",function(){return O}),n.d(r,"\u02759",function(){return j}),n.d(r,"\u027510",function(){return S}),n.d(r,"\u027511",function(){return A}),n.d(r,"\u027512",function(){return P}),n.d(r,"\u027513",function(){return F});var o={};n.r(o),n.d(o,"loadLores",function(){return I}),n.d(o,"loadLoresSuccess",function(){return H}),n.d(o,"loadLoresFailure",function(){return R}),n.d(o,"createLore",function(){return V}),n.d(o,"createLoreSuccess",function(){return J}),n.d(o,"createLoreFailure",function(){return q}),n.d(o,"updateLore",function(){return G}),n.d(o,"updateLoreSuccess",function(){return K}),n.d(o,"updateLoreFailure",function(){return Q}),n.d(o,"deleteLore",function(){return te}),n.d(o,"deleteLoreSuccess",function(){return re}),n.d(o,"deleteLoreFailure",function(){return ie}),n.d(o,"changeSelectedLore",function(){return le}),n.d(o,"changeSelectedLoreSuccess",function(){return se}),n.d(o,"changeSelectedLoreFailure",function(){return pe}),n.d(o,"\u02750",function(){return z}),n.d(o,"\u02751",function(){return U}),n.d(o,"\u02752",function(){return W}),n.d(o,"\u02753",function(){return N}),n.d(o,"\u02754",function(){return $}),n.d(o,"\u02755",function(){return B}),n.d(o,"\u02756",function(){return Y}),n.d(o,"\u02757",function(){return X}),n.d(o,"\u02758",function(){return Z}),n.d(o,"\u02759",function(){return ee}),n.d(o,"\u027510",function(){return ne}),n.d(o,"\u027511",function(){return oe}),n.d(o,"\u027512",function(){return ae}),n.d(o,"\u027513",function(){return ue}),n.d(o,"\u027514",function(){return ce});var i={};n.r(i),n.d(i,"setPlaySpeed",function(){return he}),n.d(i,"changePlaySpeed",function(){return fe}),n.d(i,"changePlayDirection",function(){return me}),n.d(i,"setPlaying",function(){return _e}),n.d(i,"setPlayingSuccess",function(){return xe}),n.d(i,"setPlayingFailure",function(){return Oe}),n.d(i,"togglePlaying",function(){return je}),n.d(i,"_play",function(){return Se}),n.d(i,"_stop",function(){return Ae}),n.d(i,"changeCursorBy",function(){return Pe}),n.d(i,"changeCursorOverrideTo",function(){return Te}),n.d(i,"bakeCursorOverride",function(){return Le}),n.d(i,"clearCursorOverride",function(){return Ie}),n.d(i,"setFrameTo",function(){return He}),n.d(i,"setFrameStartTo",function(){return Re}),n.d(i,"setFrameStartDeltaTo",function(){return Ve}),n.d(i,"setFrameEndTo",function(){return Je}),n.d(i,"setFrameEndDeltaTo",function(){return qe}),n.d(i,"setFrameDeltaTo",function(){return Ge}),n.d(i,"bakeFrameStart",function(){return Ke}),n.d(i,"bakeFrameEnd",function(){return Qe}),n.d(i,"bakeFrame",function(){return tt}),n.d(i,"changeFrameBy",function(){return rt}),n.d(i,"setInteractionMode",function(){return it}),n.d(i,"setActorObjectSizeBias",function(){return lt}),n.d(i,"setDrawSize",function(){return st}),n.d(i,"setDrawHeight",function(){return pt}),n.d(i,"setAutoLight",function(){return ht}),n.d(i,"setManualLightAlwaysOn",function(){return ft}),n.d(i,"toggleAutoLight",function(){return mt}),n.d(i,"toggleManualLightAlwaysOn",function(){return _t}),n.d(i,"actorSpawnOnWorld",function(){return xt}),n.d(i,"setSidebarOpen",function(){return Ot}),n.d(i,"toggleSidebarOpen",function(){return wt}),n.d(i,"setMediaLarge",function(){return kt}),n.d(i,"setDebugMode",function(){return Ct}),n.d(i,"toggleDebugMode",function(){return At}),n.d(i,"\u02750",function(){return de}),n.d(i,"\u02751",function(){return be}),n.d(i,"\u02752",function(){return ye}),n.d(i,"\u02753",function(){return ge}),n.d(i,"\u02754",function(){return ve}),n.d(i,"\u02755",function(){return Ee}),n.d(i,"\u02756",function(){return we}),n.d(i,"\u02757",function(){return ke}),n.d(i,"\u02758",function(){return Ce}),n.d(i,"\u02759",function(){return De}),n.d(i,"\u027510",function(){return Me}),n.d(i,"\u027511",function(){return Fe}),n.d(i,"\u027512",function(){return ze}),n.d(i,"\u027513",function(){return Ue}),n.d(i,"\u027514",function(){return We}),n.d(i,"\u027515",function(){return Ne}),n.d(i,"\u027516",function(){return $e}),n.d(i,"\u027517",function(){return Be}),n.d(i,"\u027518",function(){return Ye}),n.d(i,"\u027519",function(){return Xe}),n.d(i,"\u027520",function(){return Ze}),n.d(i,"\u027521",function(){return et}),n.d(i,"\u027522",function(){return nt}),n.d(i,"\u027523",function(){return ot}),n.d(i,"\u027524",function(){return at}),n.d(i,"\u027525",function(){return ut}),n.d(i,"\u027526",function(){return ct}),n.d(i,"\u027527",function(){return dt}),n.d(i,"\u027528",function(){return bt}),n.d(i,"\u027529",function(){return yt}),n.d(i,"\u027530",function(){return gt}),n.d(i,"\u027531",function(){return vt}),n.d(i,"\u027532",function(){return Et}),n.d(i,"\u027533",function(){return jt}),n.d(i,"\u027534",function(){return St});var a=n("yGQT"),l=function(e){return e},u=Object(a.v)("[Actor] Load",l),s=function(e){return e},c=Object(a.v)("[Actor] Load Success",s),p=function(e){return{payload:e}},d=Object(a.v)("[Actor] Load Failure",p),h=function(e){return{payload:e.actor}},b=Object(a.v)("[Actor] Create",h),f=function(e){return e},y=Object(a.v)("[Actor] Create Success",f),m=function(e){return{payload:e}},g=Object(a.v)("[Actor] Create Failure",m),_=function(e){return e},v=Object(a.v)("[Actor] Update",_),x=function(e){return{payload:e}},E=Object(a.v)("[Actor] Update Success",x),O=function(e){return{payload:e}},w=Object(a.v)("[Actor] Update Failure",O),j=function(e){return void 0===e&&(e={}),{payload:e}},k=Object(a.v)("[Actor] Delete",j),S=function(e){return void 0===e&&(e={}),{payload:e}},C=Object(a.v)("[Actor] Delete Success",S),A=function(e){return{payload:e}},D=Object(a.v)("[Actor] Delete Failure",A),P=function(e){return e},M=Object(a.v)("[Actor] Change Selected",P),T=Object(a.v)("[Actor] Toggle Actor Create Mode"),F=function(e){return e},L=Object(a.v)("[Actor] Set Actor Create Mode",F),z=function(e){return e},I=Object(a.v)("[Lore] Load",z),U=function(e){return e},H=Object(a.v)("[Lore] Load Success",U),W=function(e){return{payload:e}},R=Object(a.v)("[Lore] Load Failure",W),N=function(e){return e},V=Object(a.v)("[Lore] Create",N),$=function(e){return e},J=Object(a.v)("[Lore] Create Success",$),B=function(e){return{payload:e}},q=Object(a.v)("[Lore] Create Failure",B),Y=function(e){return e},G=Object(a.v)("[Lore] Update",Y),X=function(e){return{payload:e}},K=Object(a.v)("[Lore] Update Success",X),Z=function(e){return{payload:e}},Q=Object(a.v)("[Lore] Update Failure",Z),ee=function(e){return e},te=Object(a.v)("[Lore] Delete",ee),ne=function(e){return e},re=Object(a.v)("[Lore] Delete Success",ne),oe=function(e){return{payload:e}},ie=Object(a.v)("[Lore] Delete Failure",oe),ae=function(e){return e},le=Object(a.v)("[Lore] Change Selected",ae),ue=function(e){return e},se=Object(a.v)("[Lore] Change Selected Success",ue),ce=function(e){return{payload:e}},pe=Object(a.v)("[Lore] Change Selected Failure",ce),de=function(e){return e},he=Object(a.v)("[Scene] Set Speed",de),be=function(e){return e},fe=Object(a.v)("[Scene] Change Speed",be),ye=function(e){return e},me=Object(a.v)("[Scene] Change Direction",ye),ge=function(e){return e},_e=Object(a.v)("[Scene] Set Playing",ge),ve=function(e){return e},xe=Object(a.v)("[Scene] Set Playing Success",ve),Ee=function(e){return{payload:e}},Oe=Object(a.v)("[Scene] Set Playing Failure",Ee),we=function(e){return e},je=Object(a.v)("[Scene] Toggle Playing",we),ke=function(e){return e},Se=Object(a.v)("[Scene] Play",ke),Ce=function(e){return e},Ae=Object(a.v)("[Scene] Stop",Ce),De=function(e){return e},Pe=Object(a.v)("[Scene] Change Cursor By",De),Me=function(e){return e},Te=Object(a.v)("[Scene] Set Cursor Override",Me),Fe=function(e){return e},Le=Object(a.v)("[Scene] Bake Cursor Override",Fe),ze=function(e){return e},Ie=Object(a.v)("[Scene] Clear Cursor Override",ze),Ue=function(e){return e},He=Object(a.v)("[Scene] Set Frame",Ue),We=function(e){return e},Re=Object(a.v)("[Scene] Set Frame Start",We),Ne=function(e){return e},Ve=Object(a.v)("[Scene] Set Frame Start Delta",Ne),$e=function(e){return e},Je=Object(a.v)("[Scene] Set Frame End",$e),Be=function(e){return e},qe=Object(a.v)("[Scene] Set Frame End Delta",Be),Ye=function(e){return e},Ge=Object(a.v)("[Scene] Set Frame Delta",Ye),Xe=function(e){return e},Ke=Object(a.v)("[Scene] Bake Frame Start",Xe),Ze=function(e){return e},Qe=Object(a.v)("[Scene] Bake Frame End",Ze),et=function(e){return e},tt=Object(a.v)("[Scene] Bake Frame",et),nt=function(e){return e},rt=Object(a.v)("[Scene] Change Frame",nt),ot=function(e){return e},it=Object(a.v)("[Scene] Set Interaction Mode",ot),at=function(e){return e},lt=Object(a.v)("[Scene] Set Actor Object Size Bias",at),ut=function(e){return e},st=Object(a.v)("[Scene] Set Draw Size",ut),ct=function(e){return e},pt=Object(a.v)("[Scene] Set Draw Height",ct),dt=function(e){return e},ht=Object(a.v)("[Scene] Set Auto Light",dt),bt=function(e){return e},ft=Object(a.v)("[Scene] Set Manual Light Always On",bt),yt=function(){return{payload:void 0}},mt=Object(a.v)("[Scene] Toggle Auto Light",yt),gt=function(){return{payload:void 0}},_t=Object(a.v)("[Scene] Toggle Manual Light Always On",gt),vt=function(e){return e},xt=Object(a.v)("[Actor] Spawn On World",vt),Et=function(e){return e},Ot=Object(a.v)("[Scene] Set Sidebar Open",Et),wt=Object(a.v)("[Scene] Toggle Sidebar Open"),jt=function(e){return e},kt=Object(a.v)("[Scene] Set Media Large",jt),St=function(e){return e},Ct=Object(a.v)("[Scene] Set Debug Mode",St),At=Object(a.v)("[Scene] Toggle Debug Mode");n.d(t,"gb",function(){return Dt}),n.d(t,"z",function(){return I}),n.d(t,"B",function(){return H}),n.d(t,"A",function(){return R}),n.d(t,"q",function(){return V}),n.d(t,"s",function(){return J}),n.d(t,"r",function(){return q}),n.d(t,"db",function(){return G}),n.d(t,"fb",function(){return K}),n.d(t,"eb",function(){return Q}),n.d(t,"t",function(){return te}),n.d(t,"v",function(){return re}),n.d(t,"u",function(){return ie}),n.d(t,"m",function(){return le}),n.d(t,"o",function(){return se}),n.d(t,"n",function(){return pe}),n.d(t,"w",function(){return u}),n.d(t,"y",function(){return c}),n.d(t,"x",function(){return d}),n.d(t,"cb",function(){return v}),n.d(t,"W",function(){return T}),n.d(t,"C",function(){return L}),n.d(t,"R",function(){return he}),n.d(t,"l",function(){return fe}),n.d(t,"k",function(){return me}),n.d(t,"S",function(){return _e}),n.d(t,"U",function(){return xe}),n.d(t,"T",function(){return Oe}),n.d(t,"ab",function(){return je}),n.d(t,"a",function(){return Se}),n.d(t,"b",function(){return Ae}),n.d(t,"h",function(){return Pe}),n.d(t,"i",function(){return Te}),n.d(t,"d",function(){return Le}),n.d(t,"p",function(){return Ie}),n.d(t,"N",function(){return He}),n.d(t,"M",function(){return Re}),n.d(t,"L",function(){return Ve}),n.d(t,"K",function(){return Je}),n.d(t,"J",function(){return qe}),n.d(t,"I",function(){return Ge}),n.d(t,"g",function(){return Ke}),n.d(t,"f",function(){return Qe}),n.d(t,"e",function(){return tt}),n.d(t,"j",function(){return rt}),n.d(t,"O",function(){return it}),n.d(t,"D",function(){return lt}),n.d(t,"H",function(){return st}),n.d(t,"G",function(){return pt}),n.d(t,"E",function(){return ht}),n.d(t,"P",function(){return ft}),n.d(t,"X",function(){return mt}),n.d(t,"Z",function(){return _t}),n.d(t,"c",function(){return xt}),n.d(t,"V",function(){return Ot}),n.d(t,"bb",function(){return wt}),n.d(t,"Q",function(){return kt}),n.d(t,"F",function(){return Ct}),n.d(t,"Y",function(){return At}),Object(a.A)(o),Object(a.A)(r),Object(a.A)(i);var Dt=Object(a.v)("[Void]",function(){return{}})},ARN0:function(e,t,n){"use strict";var r=n("CcnG"),o=n("o3x0"),i=n("bujt"),a=n("UodH"),l=n("lLAP"),u=n("wFw1"),s=n("mrSG"),c=function(e){function t(t,n,o){var i=e.call(this)||this;return i.hostElement=t,i.renderer=n,i.cd=o,i.focusChange=new r.n,i._focus=!0,i}return s.__extends(t,e),Object.defineProperty(t.prototype,"focus",{get:function(){return this._focus},set:function(e){this._focus=e,this.focusChange.emit(this.focus)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var e=this;this.teardown=this.focusChange.subscribe(function(t){t&&e.hostElement.nativeElement.focus()}),this.focusListener=this.renderer.listen(this.hostElement.nativeElement,"focus",function(){e.focus=!0,e.cd.detectChanges()}),this.focusoutListener=this.renderer.listen(this.hostElement.nativeElement,"focusout",function(){e.focus=!1,e.cd.detectChanges()})},t.prototype.ngAfterViewInit=function(){this.focusChange.emit(this.focus)},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this.focusListener(),this.focusoutListener()},t}(n("0agC").a),p=n("YQb3");n.d(t,"a",function(){return f});var d=r.sb({encapsulation:0,styles:[["[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;grid-template-columns:1fr 1fr}"]],data:{}});function h(e){return r.Nb(2,[(e()(),r.ub(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),r.tb(1,81920,null,0,o.m,[[2,o.l],r.k,o.e],null,null),(e()(),r.Lb(2,null,[" ","\n"])),(e()(),r.ub(3,0,null,null,3,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),r.tb(4,16384,null,0,o.j,[],null,null),(e()(),r.ub(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Lb(6,null,["",""])),(e()(),r.ub(7,0,null,null,8,"div",[["class","actions mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),r.tb(8,16384,null,0,o.f,[],null,null),(e()(),r.ub(9,0,null,null,2,"button",[["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onDismiss()&&r),r},i.b,i.a)),r.tb(10,180224,null,0,a.b,[r.k,l.h,[2,u.a]],null,null),(e()(),r.Lb(-1,0,["No"])),(e()(),r.ub(12,0,null,null,3,"button",[["appFocus",""],["color","accent"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onConfirm()&&r),r},i.b,i.a)),r.tb(13,180224,null,0,a.b,[r.k,l.h,[2,u.a]],{color:[0,"color"]},null),r.tb(14,4407296,null,0,c,[r.k,r.H,r.h],null,null),(e()(),r.Lb(-1,0,["Yes"]))],function(e,t){e(t,1,0),e(t,13,0,"accent"),e(t,14,0)},function(e,t){var n=t.component;e(t,0,0,r.Eb(t,1).id),e(t,2,0,n.title),e(t,6,0,n.message),e(t,9,0,r.Eb(t,10).disabled||null,"NoopAnimations"===r.Eb(t,10)._animationMode),e(t,12,0,r.Eb(t,13).disabled||null,"NoopAnimations"===r.Eb(t,13)._animationMode)})}function b(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,1,"app-confirm",[],null,[[null,"keydown"]],function(e,t,n){var o=!0;return"keydown"===t&&(o=!1!==r.Eb(e,1).onKeyDown(n)&&o),o},h,d)),r.tb(1,114688,null,0,p.a,[o.l,o.a],null,null)],function(e,t){e(t,1,0)},null)}var f=r.qb("app-confirm",p.a,b,{},{},[])},AytR:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={production:!0}},EJUL:function(e,t,n){"use strict";n("oWvL");var r=n("8N5C");n.d(t,"a",function(){return r.b}),n("KNok")},ItfL:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),o=n("m6Ai"),i=n("EJUL"),a=n("wHSu"),l=n("f5FP"),u=(n("zXmz"),n("wd/R")),s=n.n(u),c=function(){function e(e,t,n,o,l,u){var c=this;this.dialogRef=e,this.originalData=t,this.formBuilder=n,this.actorService=o,this.engineService=l,this.cd=u,this.plusIcon=a.k,this.actorForm=this.formBuilder.group({name:this.formBuilder.control(""),date:this.formBuilder.control(""),time:this.formBuilder.control(""),maxSpeed:this.formBuilder.control("",[function(e){return c.canDo(e.value)?void 0:{slow:!0}}]),properties:this.formBuilder.array([]),newProperties:this.formBuilder.array([],function(e){var t,n,o=new Map;c.properties&&c.properties.controls.forEach(function(e){o.set(e.controls.key.value,[e])}),e.controls.forEach(function(e){var t=e.controls.key.value,n=o.get(t);n?n.push(e):o.set(t,[e])});var i=!0;e.setErrors({duplicates:o});try{for(var a=r.__values(o.entries()),l=a.next();!l.done;l=a.next()){var u=r.__read(l.value,2)[1];i=i&&u.length<2,u.forEach(function(e){e.controls.key.updateValueAndValidity({onlySelf:!0,emitEvent:!0})})}}catch(s){t={error:s}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return c.cd.markForCheck(),i?void 0:{duplicates:o}})}),this.properties=this.actorForm.controls.properties,this.newProperties=this.actorForm.controls.newProperties,this.originalMoment=s.a.unix(this.originalData.cursor),this.originalDate=this.originalMoment.format("YYYY-MM-DD"),this.originalTime=this.originalMoment.format("HH:mm:ss"),t.accumulator&&(this.color=this.originalData.accumulator.color&&this.originalData.accumulator.color.value,t.accumulator.name.appearedIn&&t.accumulator.name.appearedIn.key.unix===t.cursor&&this.actorForm.controls.name.setValue(t.accumulator.name.value),t.accumulator.maxSpeed.appearedIn&&t.accumulator.maxSpeed.appearedIn.key.unix===t.cursor&&this.actorForm.controls.maxSpeed.setValue(t.accumulator.maxSpeed.value),t.accumulator.properties&&t.accumulator.properties.forEach(function(e){var n=!1;e.value.value&&(n=e.value.value.startsWith(i.a));var r=e.value.value;e.value.value&&e.value.value.indexOf(".")>0&&(r=e.value.value.split(/\.(.+)/)[1]),e.appearedIn&&e.appearedIn.key.unix===t.cursor&&!n?c.addProperty(e.value.key,e.value.value,e.value.value,void 0,c.newProperties):e.value.value&&c.addProperty(e.value.key,void 0,r,n,c.properties)}))}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){var e=this.actorForm.controls.maxSpeed.value,t=this.finalTime();return{date:s()(t),name:this.actorForm.controls.name.value,maxSpeed:e?parseFloat(e):void 0,properties:this.actorForm.controls.properties.value,newProperties:this.actorForm.controls.newProperties.value,actor:this.originalData.actor,color:this.color}},enumerable:!0,configurable:!0}),e.prototype.canDo=function(e){if(this.afterViewInit&&void 0!==e){var t=s()(this.finalTime()).unix()+1,n=this.originalData.actor._states.enclosingNodes(new o.e(t)),r=!0;if(n.last){var i=this.actorService.actorPositionAt(this.originalData.actor,t);r=void 0===this.engineService.canReach(i,n.last.value.position,e,Math.abs(n.last.key.unix-t))}return r}return!0},e.prototype.ngAfterViewInit=function(){this.afterViewInit=!0},e.prototype.addProperty=function(e,t,n,r,o){var i=l.a.create(this.formBuilder);return e&&i.controls.key.setValue(e),t&&i.controls.value.setValue(t),n&&i.controls.valuePlaceholder.setValue(n),r&&i.controls.forget.setValue(!0),o&&o.push(i),i},e.prototype.addNewProperty=function(){return this.addProperty(void 0,void 0,void 0,void 0,this.newProperties)},Object.defineProperty(e.prototype,"filledNewPropertyCount",{get:function(){return this.newProperties.controls.filter(function(e){return!!e.controls.key.value}).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newPropertyCount",{get:function(){return this.newProperties.controls.length-1},enumerable:!0,configurable:!0}),e.prototype.onKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),this.actorForm.valid&&this.dialogRef.close(this.result))},e.prototype.ngOnInit=function(){},e.prototype.finalTime=function(){if(this.afterViewInit){var e=this.actorForm.controls.time.value||this.originalTime;return(this.actorForm.controls.date.value||this.originalMoment).format("YYYY-MM-DD")+"T"+e}},e}()},KNok:function(e,t,n){"use strict";var r=n("mrSG"),o=n("0agC"),i=n("UemR"),a=n("2Zeu"),l=n("v/Un"),u=n("m6Ai"),s=n("ZwlM"),c=n("MPT/"),p=(n("8N5C"),n("oWvL"),n("xdJh"),n("Womt")),d=function(){function e(){}return e.center=new p.ib(0,0,0),e.x=new p.ib(1,0,0),e.y=new p.ib(0,1,0),e.z=new p.ib(0,0,1),e}(),h=n("4aCP"),b=(n("i6Y3"),n("aCrv")),f=n("K9Ia"),y=n("S5bw"),m=n("26FU"),g=n("dzgT"),_=n("G5J1"),v=n("0/uQ"),x=n("909l"),E=n("F/XL"),O=n("psW0"),w=n("VnD/"),j=n("67Y/"),k=n("15JJ"),S=n("/PH2");n.d(t,"a",function(){return A});var C=86400,A=function(e){function t(t,n,o,x){var E=e.call(this)||this;E.engineService=t,E.databaseService=n,E.storeFacade=o,E.actorService=x,E.spawnOnWorld=new f.a,E.containerWidth=new y.a(1),E.easeCursorTo=new f.a,E.easeCursorToUnix=new f.a,E.spawnActorOnClientOffset=new f.a,E.overrideNodePosition=new m.a(void 0),E.teardown=E.databaseService.currentLore$.pipe(Object(O.a)(function(e){return e.allAttachments$.pipe(Object(O.a)(function(e){return e}),Object(w.a)(function(e){return"texture"===e.id}),Object(j.a)(function(e){return e}),Object(k.a)(function(e){return e.getData()}),Object(j.a)(function(t){return{lore:e,att:t}}))})).subscribe(function(e){var n=e.att;t.globe.radius=e.lore.planet.radius,t.globe.displacementTexture.loadFromBlob(n),t.refreshPopupPosition()}),E.teardown=E.storeFacade.cursor$.pipe(Object(w.a)(function(e){return void 0!==E.engineService.stage&&void 0!==E.engineService.stage.sun})).subscribe(function(e){E.engineService.stage.sun.resetPosition(),E.engineService.stage.sun.position.applyAxisAngle(d.y,e%C/C*-360*p.D.DEG2RAD)}),E.teardown=E.easeCursorTo.pipe(Object(w.a)(function(e){return void 0!==e}),Object(S.a)(E.storeFacade.frame$,E.containerWidth),Object(j.a)(function(e){var t=r.__read(e,3),n=t[1];return Math.floor(p.D.mapLinear(t[0],0,t[2],n.start,n.end))})).subscribe(function(e){return E.easeCursorToUnix.next(e)});var A=E.easeCursorToUnix.pipe(Object(w.a)(function(e){return void 0!==e}),Object(S.a)(E.storeFacade.cursor$),Object(j.a)(function(e){var t=r.__read(e,2);return{from:{cursor:t[1]},to:{cursor:t[0]}}}));return E.teardown=A.pipe(Object(c.a)({duration:220,easing:b.Easing.Exponential.Out,pingpongInterrupt:!0,pingpongAfterFinish:!1,sendUndefined:!0,doOnNext:function(e){e&&E.storeFacade.setCursorOverride(e.cursor)},doOnComplete:function(){E.storeFacade.bakeCursorOverride()}})).subscribe(),E.teardown=Object(g.a)([E.databaseService.currentLoreActors$,E.storeFacade.cursor$,E.overrideNodePosition]).pipe(Object(O.a)(function(e){var t=r.__read(e,3),n=t[1],o=t[2];return t[0].map(function(e){return{actor:e,cursor:n,overrideNodePositions:o&&e.id===o.actorId?o:void 0}})})).subscribe(function(e){var n,o,i=e.actor,l=e.cursor,u=e.overrideNodePositions,c=i._states.enclosingNodes(new s.a(l));if(void 0===c.last&&void 0!==c.first?c.last=c.first:void 0===c.first&&void 0!==c.last&&(c.first=c.last),void 0!==u&&u.overrides.length>0){var d=function(e){u.overrides.filter(function(t){return t.previous===e.key.unix}).forEach(function(t){e.key.unix=t.new}),(void 0===c.first||e.key.unix>=c.first.key.unix&&e.key.unix<=l)&&(c.first=e),(void 0===c.last||e.key.unix<=c.last.key.unix&&e.key.unix>=l)&&(c.last=e)};try{for(var b=r.__values(i._states.nodes()),f=b.next();!f.done;f=b.next())d(f.value)}catch(_){n={error:_}}finally{try{f&&!f.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}}var y,m=Object(a.a)(c,l),g=E.engineService.globe.getObjectByName(i.id);g?y=g.parent:(y=new p.w,g=new h.a(i,E.storeFacade,E,E.actorService,t.globe),y.add(g),E.engineService.globe.add(y),E.engineService.control.zoomUpdate(E.engineService.stage.camera.position.length()),g.updateHeightAndWorldPosAndScale()),void 0===y.userData.override&&void 0!==c.last&&void 0!==c.first?(E.actorService.lookAtInterpolated(c.last.value.position,c.first.value.position,m,y),g.updateHeight()):!1===y.userData.override&&delete y.userData.override,t.refreshPopupPosition()}),E.teardown=E.spawnActorOnClientOffset.pipe(Object(w.a)(function(e){return void 0!==e}),Object(S.a)(E.databaseService.currentLore$,E.databaseService.nextActorId$,E.storeFacade.cursor$),Object(k.a)(function(e){var t=r.__read(e,4),n=t[0],o=t[1],a=t[2],l=t[3],c=E.engineService.intersection(Object(i.c)(n.x,n.y));if(c){c.applyQuaternion(E.engineService.globe.quaternion.clone().inverse());var p=new u.a(a,o.id);return p._states.set(new s.a(Math.floor(l)),new u.b(void 0,{x:c.x,y:c.y,z:c.z})),o.collection.database.actor.upsert(p)}return _.a})).subscribe(),E.teardown=E.spawnOnWorld.pipe(Object(w.a)(function(e){return void 0!==e}),Object(S.a)(E.storeFacade.cursor$),Object(k.a)(function(e){var t=r.__read(e,2),n=t[0],o=n.point,i=n.position,a=t[1];return r.__awaiter(E,void 0,void 0,function(){var e,t,n;return r.__generator(this,function(r){switch(r.label){case 0:return o.applyQuaternion(this.engineService.globe.quaternion.clone().inverse()),e=new s.a(Math.floor(a)),(t=o.actor._states.get(e))?(t.position.x=i.x,t.position.y=i.y,t.position.z=i.z):o.actor._states.set(e,new u.b(void 0,{x:i.x,y:i.y,z:i.z})),[4,o.actor.atomicUpdate(function(e){return(e._states=o.actor._states)&&e})];case 1:return n=r.sent(),o.parent.userData.override=!1,Object(l.a)(o.actor),[2,n]}})})})).subscribe(),E.teardown=E.engineService.textureChange$.pipe(Object(k.a)(function(e){return Object(v.a)(new Promise(function(t){return e.canvas.toBlob(t,"image/jpeg")}))}),Object(S.a)(E.databaseService.currentLore$),Object(k.a)(function(e){var t=r.__read(e,2);return t[1].putAttachment({id:"texture",data:t[0],type:"image/jpeg"})})).subscribe(),E}return r.__extends(t,e),t.prototype.create=function(e){return Object(x.a)(this.databaseService.database$,this.databaseService.nextLoreId$).pipe(Object(j.a)(function(t){var n=r.__read(t,2);return{connection:n[0],json:new u.c(n[1],e.name,new u.d(e.planet.name,e.planet.radius))}}),Object(k.a)(function(e){return e.connection.lore.insert(e.json)}))},t.prototype.update=function(e){return this.databaseService.database$.pipe(Object(j.a)(function(t){return{connection:t,json:new u.c(e.id,e.name,new u.d(e.planet.name,e.planet.radius))}}),Object(k.a)(function(e){return e.connection.lore.upsert(e.json)}))},t.prototype.delete=function(e){return this.databaseService.database$.pipe(Object(k.a)(function(t){return t.lore.find({id:e}).$.pipe(Object(O.a)(function(n){return t.actor.find({loreId:e}).$.pipe(Object(j.a)(function(e){return{lores:n,actors:e}}))}))}),Object(O.a)(function(e){var t=e.lores,n=e.actors;return Object(x.a)(E.a.apply(void 0,r.__spread(t)).pipe(Object(k.a)(function(e){return e.remove()})),E.a.apply(void 0,r.__spread(n)).pipe(Object(k.a)(function(e){return e.remove()})))}),Object(j.a)(function(e){var t=r.__read(e,2);return t[0]||t[1]}))},t}(o.a)},LRuX:function(e,t,n){"use strict";var r=n("CcnG"),o=n("seP3"),i=n("dJrM"),a=n("Wf4p"),l=n("Fzqc"),u=n("dWZg"),s=n("wFw1"),c=n("gIcY"),p=n("b716"),d=n("/VYK"),h=n("Ip0R"),b=n("bujt"),f=n("UodH"),y=n("lLAP"),m=n("fNgX"),g=n("Hf/j"),_=n("ZYjt"),v=n("f5FP"),x=r.sb({encapsulation:0,styles:[["[_nghost-%COMP%]   .forget[_ngcontent-%COMP%]{background-color:#ef5350}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{transition:background-color 0s}[_nghost-%COMP%]   .group[_ngcontent-%COMP%]{display:grid;align-items:center;grid-gap:.5rem;grid-template-columns:2fr 4fr 1fr}[_nghost-%COMP%]   .group[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{justify-self:end}"]],data:{}});function E(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),r.tb(1,16384,[[6,4]],0,o.b,[],null,null),(e()(),r.Lb(-1,null,["Required"]))],null,function(e,t){e(t,0,0,r.Eb(t,1).id)})}function O(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),r.tb(1,16384,[[6,4]],0,o.b,[],null,null),(e()(),r.Lb(-1,null,["Duplicate"]))],null,function(e,t){e(t,0,0,r.Eb(t,1).id)})}function w(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,22,"mat-form-field",[["class","mat-form-field"],["floatLabel","never"],["hideRequiredMarker",""],["required",""]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,i.b,i.a)),r.tb(1,7520256,null,9,o.c,[r.k,r.h,[2,a.j],[2,l.b],[2,o.a],u.a,r.B,[2,s.a]],{hideRequiredMarker:[0,"hideRequiredMarker"],floatLabel:[1,"floatLabel"]},null),r.Jb(603979776,1,{_controlNonStatic:0}),r.Jb(335544320,2,{_controlStatic:0}),r.Jb(603979776,3,{_labelChildNonStatic:0}),r.Jb(335544320,4,{_labelChildStatic:0}),r.Jb(603979776,5,{_placeholderChild:0}),r.Jb(603979776,6,{_errorChildren:1}),r.Jb(603979776,7,{_hintChildren:1}),r.Jb(603979776,8,{_prefixChildren:1}),r.Jb(603979776,9,{_suffixChildren:1}),(e()(),r.ub(11,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","key"],["matInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r.Eb(e,12)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r.Eb(e,12).onTouched()&&o),"compositionstart"===t&&(o=!1!==r.Eb(e,12)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r.Eb(e,12)._compositionEnd(n.target.value)&&o),"blur"===t&&(o=!1!==r.Eb(e,17)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==r.Eb(e,17)._focusChanged(!0)&&o),"input"===t&&(o=!1!==r.Eb(e,17)._onInput()&&o),o},null,null)),r.tb(12,16384,null,0,c.d,[r.H,r.k,[2,c.a]],null,null),r.Ib(1024,null,c.k,function(e){return[e]},[c.d]),r.tb(14,671744,null,0,c.f,[[3,c.c],[8,null],[8,null],[6,c.k],[2,c.t]],{name:[0,"name"]},null),r.Ib(2048,null,c.l,null,[c.f]),r.tb(16,16384,null,0,c.m,[[4,c.l]],null,null),r.tb(17,999424,null,0,p.b,[r.k,u.a,[6,c.l],[2,c.o],[2,c.g],a.d,[8,null],d.a,r.B],{type:[0,"type"]},null),r.Ib(2048,[[1,4],[2,4]],o.d,null,[p.b]),(e()(),r.jb(16777216,null,5,1,null,E)),r.tb(20,16384,null,0,h.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null),(e()(),r.jb(16777216,null,5,1,null,O)),r.tb(22,16384,null,0,h.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,"","never"),e(t,14,0,"key"),e(t,17,0,"text"),e(t,20,0,null==n.control.controls.key?null:n.control.controls.key.hasError("required")),e(t,22,0,null==n.control.controls.key?null:n.control.controls.key.hasError("duplicate"))},function(e,t){e(t,0,1,["standard"==r.Eb(t,1).appearance,"fill"==r.Eb(t,1).appearance,"outline"==r.Eb(t,1).appearance,"legacy"==r.Eb(t,1).appearance,r.Eb(t,1)._control.errorState,r.Eb(t,1)._canLabelFloat,r.Eb(t,1)._shouldLabelFloat(),r.Eb(t,1)._hasFloatingLabel(),r.Eb(t,1)._hideControlPlaceholder(),r.Eb(t,1)._control.disabled,r.Eb(t,1)._control.autofilled,r.Eb(t,1)._control.focused,"accent"==r.Eb(t,1).color,"warn"==r.Eb(t,1).color,r.Eb(t,1)._shouldForward("untouched"),r.Eb(t,1)._shouldForward("touched"),r.Eb(t,1)._shouldForward("pristine"),r.Eb(t,1)._shouldForward("dirty"),r.Eb(t,1)._shouldForward("valid"),r.Eb(t,1)._shouldForward("invalid"),r.Eb(t,1)._shouldForward("pending"),!r.Eb(t,1)._animationsEnabled]),e(t,11,1,[r.Eb(t,16).ngClassUntouched,r.Eb(t,16).ngClassTouched,r.Eb(t,16).ngClassPristine,r.Eb(t,16).ngClassDirty,r.Eb(t,16).ngClassValid,r.Eb(t,16).ngClassInvalid,r.Eb(t,16).ngClassPending,r.Eb(t,17)._isServer,r.Eb(t,17).id,r.Eb(t,17).placeholder,r.Eb(t,17).disabled,r.Eb(t,17).required,r.Eb(t,17).readonly&&!r.Eb(t,17)._isNativeSelect||null,r.Eb(t,17)._ariaDescribedby||null,r.Eb(t,17).errorState,r.Eb(t,17).required.toString()])})}function j(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,2,"mat-label",[],null,null,null,null,null)),r.tb(1,16384,null,0,o.f,[],null,null),(e()(),r.Lb(2,null,["",""]))],null,function(e,t){e(t,2,0,t.component.originalKey)})}function k(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,6,"button",[["aria-label","Toggle Forget Entry"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.changeForget(n)&&r),r},b.b,b.a)),r.Ib(512,null,h.w,h.x,[r.u,r.v,r.k,r.H]),r.tb(2,278528,null,0,h.i,[h.w],{ngClass:[0,"ngClass"]},null),r.Gb(3,{forget:0}),r.tb(4,180224,null,0,f.b,[r.k,y.h,[2,s.a]],null,null),(e()(),r.ub(5,0,null,0,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,m.b,m.a)),r.tb(6,573440,null,0,g.a,[_.b,g.b],{iconProp:[0,"iconProp"]},null)],function(e,t){var n=t.component,r=e(t,3,0,null==n.control?null:null==n.control.controls.forget?null:n.control.controls.forget.value);e(t,2,0,r),e(t,6,0,n.forgetIcon)},function(e,t){e(t,0,0,r.Eb(t,4).disabled||null,"NoopAnimations"===r.Eb(t,4)._animationMode),e(t,5,0,r.Eb(t,6).renderedIconHTML)})}function S(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,3,"button",[["aria-label","Remove Temporary Entry"],["class","forget"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.remove(n)&&r),r},b.b,b.a)),r.tb(1,180224,null,0,f.b,[r.k,y.h,[2,s.a]],null,null),(e()(),r.ub(2,0,null,0,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,m.b,m.a)),r.tb(3,573440,null,0,g.a,[_.b,g.b],{iconProp:[0,"iconProp"]},null)],function(e,t){e(t,3,0,t.component.removeIcon)},function(e,t){e(t,0,0,r.Eb(t,1).disabled||null,"NoopAnimations"===r.Eb(t,1)._animationMode),e(t,2,0,r.Eb(t,3).renderedIconHTML)})}function C(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,33,"div",[["class","group"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==r.Eb(e,4).onSubmit(n)&&o),"reset"===t&&(o=!1!==r.Eb(e,4).onReset()&&o),o},null,null)),r.Ib(512,null,h.w,h.x,[r.u,r.v,r.k,r.H]),r.tb(2,278528,null,0,h.i,[h.w],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Gb(3,{existing:0}),r.tb(4,540672,null,0,c.g,[[8,null],[8,null]],{form:[0,"form"]},null),r.Ib(2048,null,c.c,null,[c.g]),r.tb(6,16384,null,0,c.n,[[4,c.c]],null,null),(e()(),r.jb(16777216,null,null,1,null,w)),r.tb(8,16384,null,0,h.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null),(e()(),r.jb(16777216,null,null,1,null,j)),r.tb(10,16384,null,0,h.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null),(e()(),r.ub(11,0,null,null,18,"mat-form-field",[["class","mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,i.b,i.a)),r.tb(12,7520256,null,9,o.c,[r.k,r.h,[2,a.j],[2,l.b],[2,o.a],u.a,r.B,[2,s.a]],{floatLabel:[0,"floatLabel"]},null),r.Jb(603979776,10,{_controlNonStatic:0}),r.Jb(335544320,11,{_controlStatic:0}),r.Jb(603979776,12,{_labelChildNonStatic:0}),r.Jb(335544320,13,{_labelChildStatic:0}),r.Jb(603979776,14,{_placeholderChild:0}),r.Jb(603979776,15,{_errorChildren:1}),r.Jb(603979776,16,{_hintChildren:1}),r.Jb(603979776,17,{_prefixChildren:1}),r.Jb(603979776,18,{_suffixChildren:1}),(e()(),r.ub(22,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","value"],["matInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r.Eb(e,23)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r.Eb(e,23).onTouched()&&o),"compositionstart"===t&&(o=!1!==r.Eb(e,23)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r.Eb(e,23)._compositionEnd(n.target.value)&&o),"blur"===t&&(o=!1!==r.Eb(e,28)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==r.Eb(e,28)._focusChanged(!0)&&o),"input"===t&&(o=!1!==r.Eb(e,28)._onInput()&&o),o},null,null)),r.tb(23,16384,null,0,c.d,[r.H,r.k,[2,c.a]],null,null),r.Ib(1024,null,c.k,function(e){return[e]},[c.d]),r.tb(25,671744,null,0,c.f,[[3,c.c],[8,null],[8,null],[6,c.k],[2,c.t]],{name:[0,"name"]},null),r.Ib(2048,null,c.l,null,[c.f]),r.tb(27,16384,null,0,c.m,[[4,c.l]],null,null),r.tb(28,999424,null,0,p.b,[r.k,u.a,[6,c.l],[2,c.o],[2,c.g],a.d,[8,null],d.a,r.B],{placeholder:[0,"placeholder"],type:[1,"type"]},null),r.Ib(2048,[[10,4],[11,4]],o.d,null,[p.b]),(e()(),r.jb(16777216,null,null,1,null,k)),r.tb(31,16384,null,0,h.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null),(e()(),r.jb(16777216,null,null,1,null,S)),r.tb(33,16384,null,0,h.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,r=e(t,3,0,n.existing);e(t,2,0,"group",r),e(t,4,0,n.control),e(t,8,0,!n.existing),e(t,10,0,n.existing),e(t,12,0,"never"),e(t,25,0,"value"),e(t,28,0,n.originalValue,"text"),e(t,31,0,n.existing),e(t,33,0,!n.existing)},function(e,t){e(t,0,0,r.Eb(t,6).ngClassUntouched,r.Eb(t,6).ngClassTouched,r.Eb(t,6).ngClassPristine,r.Eb(t,6).ngClassDirty,r.Eb(t,6).ngClassValid,r.Eb(t,6).ngClassInvalid,r.Eb(t,6).ngClassPending),e(t,11,1,["standard"==r.Eb(t,12).appearance,"fill"==r.Eb(t,12).appearance,"outline"==r.Eb(t,12).appearance,"legacy"==r.Eb(t,12).appearance,r.Eb(t,12)._control.errorState,r.Eb(t,12)._canLabelFloat,r.Eb(t,12)._shouldLabelFloat(),r.Eb(t,12)._hasFloatingLabel(),r.Eb(t,12)._hideControlPlaceholder(),r.Eb(t,12)._control.disabled,r.Eb(t,12)._control.autofilled,r.Eb(t,12)._control.focused,"accent"==r.Eb(t,12).color,"warn"==r.Eb(t,12).color,r.Eb(t,12)._shouldForward("untouched"),r.Eb(t,12)._shouldForward("touched"),r.Eb(t,12)._shouldForward("pristine"),r.Eb(t,12)._shouldForward("dirty"),r.Eb(t,12)._shouldForward("valid"),r.Eb(t,12)._shouldForward("invalid"),r.Eb(t,12)._shouldForward("pending"),!r.Eb(t,12)._animationsEnabled]),e(t,22,1,[r.Eb(t,27).ngClassUntouched,r.Eb(t,27).ngClassTouched,r.Eb(t,27).ngClassPristine,r.Eb(t,27).ngClassDirty,r.Eb(t,27).ngClassValid,r.Eb(t,27).ngClassInvalid,r.Eb(t,27).ngClassPending,r.Eb(t,28)._isServer,r.Eb(t,28).id,r.Eb(t,28).placeholder,r.Eb(t,28).disabled,r.Eb(t,28).required,r.Eb(t,28).readonly&&!r.Eb(t,28)._isNativeSelect||null,r.Eb(t,28)._ariaDescribedby||null,r.Eb(t,28).errorState,r.Eb(t,28).required.toString()])})}var A=n("LWQm"),D=n("o3x0"),P=n("jQLj"),M=n("v9Dh"),T=n("eDkP"),F=n("qAlS"),L=n("zbXB"),z=n("6uYy"),I=n("P8j/"),U=n("ItfL"),H=n("8N5C"),W=n("xdJh");n.d(t,"a",function(){return q});var R=r.sb({encapsulation:0,styles:[["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 3fr;align-items:center}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin:1rem}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{grid-column:1/-1;display:grid;grid-template-columns:1fr 3fr 3fr;align-items:center}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%] > mat-label[_ngcontent-%COMP%]{justify-self:end}[_nghost-%COMP%]   form[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{grid-column:1}[_nghost-%COMP%]   form[_ngcontent-%COMP%] > .nameLabel[_ngcontent-%COMP%]{grid-column:1;justify-self:end}[_nghost-%COMP%]   form[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{grid-column:2}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{width:7rem}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{width:4rem}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%], [_nghost-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{grid-column:1/span 2}[_nghost-%COMP%]   form[_ngcontent-%COMP%] > .entries[_ngcontent-%COMP%]{grid-column:1/span 2;display:grid;grid-auto-columns:1fr 3fr;align-items:center}[_nghost-%COMP%]   form[_ngcontent-%COMP%] > .entries[_ngcontent-%COMP%] > .entryLabel[_ngcontent-%COMP%]{grid-column:1}[_nghost-%COMP%]   form[_ngcontent-%COMP%] > .entries[_ngcontent-%COMP%] > .entry[_ngcontent-%COMP%]{grid-column:2}[_nghost-%COMP%]   .add[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .save[_ngcontent-%COMP%]{margin-top:1rem;width:100%}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{transition:background-color .2s}"]],data:{}});function N(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),r.tb(1,16384,[[34,4]],0,o.b,[],null,null),(e()(),r.Lb(-1,null,["Too slow to reach next target!"]))],null,function(e,t){e(t,0,0,r.Eb(t,1).id)})}function V(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,1,"app-form-entry",[["class","entries"]],null,null,null,C,x)),r.tb(1,4308992,null,0,v.a,[c.e],{parent:[0,"parent"],index:[1,"index"],existing:[2,"existing"],control:[3,"control"]},null)],function(e,t){e(t,1,0,t.component.properties,t.context.index,!0,t.context.$implicit)},null)}function $(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,1,"app-form-entry",[["class","entries"]],null,null,null,C,x)),r.tb(1,4308992,null,0,v.a,[c.e],{parent:[0,"parent"],index:[1,"index"],control:[2,"control"]},null)],function(e,t){e(t,1,0,t.component.newProperties,t.context.index,t.context.$implicit)},null)}function J(e){return r.Nb(2,[r.Fb(0,A.a,[]),(e()(),r.ub(1,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),r.tb(2,81920,null,0,D.m,[[2,D.l],r.k,D.e],null,null),(e()(),r.Lb(-1,null,["Edit actor"])),(e()(),r.ub(4,0,null,null,156,"mat-dialog-content",[["class","actorDialog mat-dialog-content"]],null,null,null,null,null)),r.tb(5,16384,null,0,D.j,[],null,null),(e()(),r.ub(6,0,null,null,150,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==r.Eb(e,8).onSubmit(n)&&o),"reset"===t&&(o=!1!==r.Eb(e,8).onReset()&&o),o},null,null)),r.tb(7,16384,null,0,c.u,[],null,null),r.tb(8,540672,null,0,c.g,[[8,null],[8,null]],{form:[0,"form"]},null),r.Ib(2048,null,c.c,null,[c.g]),r.tb(10,16384,null,0,c.n,[[4,c.c]],null,null),(e()(),r.ub(11,0,null,null,136,"div",[["class","main"]],null,null,null,null,null)),(e()(),r.ub(12,0,null,null,2,"mat-label",[["class","nameLabel"]],null,null,null,null,null)),r.tb(13,16384,null,0,o.f,[],null,null),(e()(),r.Lb(-1,null,["Name:"])),(e()(),r.ub(15,0,null,null,21,"mat-form-field",[["class","name mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,i.b,i.a)),r.tb(16,7520256,null,9,o.c,[r.k,r.h,[2,a.j],[2,l.b],[2,o.a],u.a,r.B,[2,s.a]],{floatLabel:[0,"floatLabel"]},null),r.Jb(603979776,1,{_controlNonStatic:0}),r.Jb(335544320,2,{_controlStatic:0}),r.Jb(603979776,3,{_labelChildNonStatic:0}),r.Jb(335544320,4,{_labelChildStatic:0}),r.Jb(603979776,5,{_placeholderChild:0}),r.Jb(603979776,6,{_errorChildren:1}),r.Jb(603979776,7,{_hintChildren:1}),r.Jb(603979776,8,{_prefixChildren:1}),r.Jb(603979776,9,{_suffixChildren:1}),(e()(),r.ub(26,0,null,3,2,"mat-label",[],null,null,null,null,null)),r.tb(27,16384,[[3,4],[4,4]],0,o.f,[],null,null),(e()(),r.Lb(28,null,["",""])),(e()(),r.ub(29,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","name"],["matInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r.Eb(e,30)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r.Eb(e,30).onTouched()&&o),"compositionstart"===t&&(o=!1!==r.Eb(e,30)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r.Eb(e,30)._compositionEnd(n.target.value)&&o),"blur"===t&&(o=!1!==r.Eb(e,35)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==r.Eb(e,35)._focusChanged(!0)&&o),"input"===t&&(o=!1!==r.Eb(e,35)._onInput()&&o),o},null,null)),r.tb(30,16384,null,0,c.d,[r.H,r.k,[2,c.a]],null,null),r.Ib(1024,null,c.k,function(e){return[e]},[c.d]),r.tb(32,671744,null,0,c.f,[[3,c.c],[8,null],[8,null],[6,c.k],[2,c.t]],{name:[0,"name"]},null),r.Ib(2048,null,c.l,null,[c.f]),r.tb(34,16384,null,0,c.m,[[4,c.l]],null,null),r.tb(35,999424,null,0,p.b,[r.k,u.a,[6,c.l],[2,c.o],[2,c.g],a.d,[8,null],d.a,r.B],null,null),r.Ib(2048,[[1,4],[2,4]],o.d,null,[p.b]),(e()(),r.ub(37,0,null,null,59,"div",[],null,null,null,null,null)),(e()(),r.ub(38,0,null,null,32,"mat-form-field",[["class","date mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,i.b,i.a)),r.tb(39,7520256,null,9,o.c,[r.k,r.h,[2,a.j],[2,l.b],[2,o.a],u.a,r.B,[2,s.a]],{floatLabel:[0,"floatLabel"]},null),r.Jb(603979776,10,{_controlNonStatic:0}),r.Jb(335544320,11,{_controlStatic:0}),r.Jb(603979776,12,{_labelChildNonStatic:0}),r.Jb(335544320,13,{_labelChildStatic:0}),r.Jb(603979776,14,{_placeholderChild:0}),r.Jb(603979776,15,{_errorChildren:1}),r.Jb(603979776,16,{_hintChildren:1}),r.Jb(603979776,17,{_prefixChildren:1}),r.Jb(603979776,18,{_suffixChildren:1}),(e()(),r.ub(49,0,null,3,3,"mat-label",[],null,null,null,null,null)),r.tb(50,16384,[[12,4],[13,4]],0,o.f,[],null,null),(e()(),r.Lb(51,null,["",""])),r.Hb(52,2),(e()(),r.ub(53,16777216,null,1,11,"input",[["aria-haspopup","dialog"],["class","mat-input-element mat-form-field-autofill-control"],["formControlName","date"],["id","dateInput"],["matInput",""]],[[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keydown"],[null,"focus"],[null,"longpress"],[null,"touchend"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r.Eb(e,54)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r.Eb(e,54).onTouched()&&o),"compositionstart"===t&&(o=!1!==r.Eb(e,54)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r.Eb(e,54)._compositionEnd(n.target.value)&&o),"input"===t&&(o=!1!==r.Eb(e,55)._onInput(n.target.value)&&o),"change"===t&&(o=!1!==r.Eb(e,55)._onChange()&&o),"blur"===t&&(o=!1!==r.Eb(e,55)._onBlur()&&o),"keydown"===t&&(o=!1!==r.Eb(e,55)._onKeydown(n)&&o),"blur"===t&&(o=!1!==r.Eb(e,62)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==r.Eb(e,62)._focusChanged(!0)&&o),"input"===t&&(o=!1!==r.Eb(e,62)._onInput()&&o),"longpress"===t&&(o=!1!==r.Eb(e,63).show()&&o),"keydown"===t&&(o=!1!==r.Eb(e,63)._handleKeydown(n)&&o),"touchend"===t&&(o=!1!==r.Eb(e,63)._handleTouchend()&&o),o},null,null)),r.tb(54,16384,null,0,c.d,[r.H,r.k,[2,c.a]],null,null),r.tb(55,147456,null,0,P.h,[r.k,[2,a.c],[2,a.g],[2,o.c]],{matDatepicker:[0,"matDatepicker"]},null),r.Ib(1024,null,c.j,function(e){return[e]},[P.h]),r.Ib(1024,null,c.k,function(e,t){return[e,t]},[c.d,P.h]),r.tb(58,671744,null,0,c.f,[[3,c.c],[6,c.j],[8,null],[6,c.k],[2,c.t]],{name:[0,"name"]},null),r.Ib(2048,null,c.l,null,[c.f]),r.tb(60,16384,null,0,c.m,[[4,c.l]],null,null),r.Ib(2048,null,p.a,null,[P.h]),r.tb(62,999424,null,0,p.b,[r.k,u.a,[6,c.l],[2,c.o],[2,c.g],a.d,[6,p.a],d.a,r.B],{id:[0,"id"]},null),r.tb(63,212992,null,0,M.d,[T.a,r.k,F.b,r.S,r.B,u.a,y.c,y.h,M.b,[2,l.b],[2,M.a],[2,_.f]],{message:[0,"message"]},null),r.Ib(2048,[[10,4],[11,4]],o.d,null,[p.b]),(e()(),r.ub(65,0,null,4,3,"mat-datepicker-toggle",[["class","mat-datepicker-toggle"],["matSuffix",""]],[[1,"tabindex",0],[2,"mat-datepicker-toggle-active",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"focus"]],function(e,t,n){var o=!0;return"focus"===t&&(o=!1!==r.Eb(e,67)._button.focus()&&o),o},L.e,L.d)),r.tb(66,16384,[[18,4]],0,o.g,[],null,null),r.tb(67,1753088,null,1,P.k,[P.i,r.h,[8,null]],{datepicker:[0,"datepicker"]},null),r.Jb(603979776,19,{_customIcon:0}),(e()(),r.ub(69,16777216,null,1,1,"mat-datepicker",[],null,null,null,L.f,L.c)),r.tb(70,180224,[["date",4]],0,P.f,[D.e,T.a,r.B,r.S,P.a,[2,a.c],[2,l.b],[2,h.d]],null,null),(e()(),r.ub(71,0,null,null,25,"mat-form-field",[["class","time mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,i.b,i.a)),r.tb(72,7520256,null,9,o.c,[r.k,r.h,[2,a.j],[2,l.b],[2,o.a],u.a,r.B,[2,s.a]],{floatLabel:[0,"floatLabel"]},null),r.Jb(603979776,20,{_controlNonStatic:0}),r.Jb(335544320,21,{_controlStatic:0}),r.Jb(603979776,22,{_labelChildNonStatic:0}),r.Jb(335544320,23,{_labelChildStatic:0}),r.Jb(603979776,24,{_placeholderChild:0}),r.Jb(603979776,25,{_errorChildren:1}),r.Jb(603979776,26,{_hintChildren:1}),r.Jb(603979776,27,{_prefixChildren:1}),r.Jb(603979776,28,{_suffixChildren:1}),(e()(),r.ub(82,0,null,3,2,"mat-label",[],null,null,null,null,null)),r.tb(83,16384,[[22,4],[23,4]],0,o.f,[],null,null),(e()(),r.Lb(84,null,["",""])),(e()(),r.ub(85,16777216,null,1,11,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","time"],["mask","Hh:m0:s0"],["matInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"click"],[null,"keydown"],[null,"paste"],[null,"focus"],[null,"longpress"],[null,"touchend"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r.Eb(e,86)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r.Eb(e,86).onTouched()&&o),"compositionstart"===t&&(o=!1!==r.Eb(e,86)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r.Eb(e,86)._compositionEnd(n.target.value)&&o),"input"===t&&(o=!1!==r.Eb(e,88).onInput(n)&&o),"blur"===t&&(o=!1!==r.Eb(e,88).onBlur()&&o),"click"===t&&(o=!1!==r.Eb(e,88).onFocus(n)&&o),"keydown"===t&&(o=!1!==r.Eb(e,88).a(n)&&o),"paste"===t&&(o=!1!==r.Eb(e,88).onPaste()&&o),"blur"===t&&(o=!1!==r.Eb(e,94)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==r.Eb(e,94)._focusChanged(!0)&&o),"input"===t&&(o=!1!==r.Eb(e,94)._onInput()&&o),"longpress"===t&&(o=!1!==r.Eb(e,95).show()&&o),"keydown"===t&&(o=!1!==r.Eb(e,95)._handleKeydown(n)&&o),"touchend"===t&&(o=!1!==r.Eb(e,95)._handleTouchend()&&o),o},null,null)),r.tb(86,16384,null,0,c.d,[r.H,r.k,[2,c.a]],null,null),r.Ib(512,null,z.c,z.c,[h.d,z.g,r.k,r.H]),r.tb(88,540672,null,0,z.b,[h.d,z.c],{maskExpression:[0,"maskExpression"],dropSpecialCharacters:[1,"dropSpecialCharacters"]},null),r.Ib(1024,null,c.j,function(e){return[e]},[z.b]),r.Ib(1024,null,c.k,function(e,t){return[e,t]},[c.d,z.b]),r.tb(91,671744,null,0,c.f,[[3,c.c],[6,c.j],[8,null],[6,c.k],[2,c.t]],{name:[0,"name"]},null),r.Ib(2048,null,c.l,null,[c.f]),r.tb(93,16384,null,0,c.m,[[4,c.l]],null,null),r.tb(94,999424,null,0,p.b,[r.k,u.a,[6,c.l],[2,c.o],[2,c.g],a.d,[8,null],d.a,r.B],null,null),r.tb(95,212992,null,0,M.d,[T.a,r.k,F.b,r.S,r.B,u.a,y.c,y.h,M.b,[2,l.b],[2,M.a],[2,_.f]],{message:[0,"message"]},null),r.Ib(2048,[[20,4],[21,4]],o.d,null,[p.b]),(e()(),r.ub(97,16777216,null,null,3,"mat-label",[["class","maxSpeedLabel"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(e,t,n){var o=!0;return"longpress"===t&&(o=!1!==r.Eb(e,99).show()&&o),"keydown"===t&&(o=!1!==r.Eb(e,99)._handleKeydown(n)&&o),"touchend"===t&&(o=!1!==r.Eb(e,99)._handleTouchend()&&o),o},null,null)),r.tb(98,16384,null,0,o.f,[],null,null),r.tb(99,212992,null,0,M.d,[T.a,r.k,F.b,r.S,r.B,u.a,y.c,y.h,M.b,[2,l.b],[2,M.a],[2,_.f]],{message:[0,"message"]},null),(e()(),r.Lb(-1,null,["Max Speed:"])),(e()(),r.ub(101,0,null,null,27,"mat-form-field",[["class","speed mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,i.b,i.a)),r.tb(102,7520256,null,9,o.c,[r.k,r.h,[2,a.j],[2,l.b],[2,o.a],u.a,r.B,[2,s.a]],{floatLabel:[0,"floatLabel"]},null),r.Jb(603979776,29,{_controlNonStatic:0}),r.Jb(335544320,30,{_controlStatic:0}),r.Jb(603979776,31,{_labelChildNonStatic:0}),r.Jb(335544320,32,{_labelChildStatic:0}),r.Jb(603979776,33,{_placeholderChild:0}),r.Jb(603979776,34,{_errorChildren:1}),r.Jb(603979776,35,{_hintChildren:1}),r.Jb(603979776,36,{_prefixChildren:1}),r.Jb(603979776,37,{_suffixChildren:1}),(e()(),r.ub(112,0,null,3,2,"mat-label",[],null,null,null,null,null)),r.tb(113,16384,[[31,4],[32,4]],0,o.f,[],null,null),(e()(),r.Lb(114,null,["",""])),(e()(),r.ub(115,16777216,null,1,11,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","maxSpeed"],["mask","9*"],["matInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"click"],[null,"keydown"],[null,"paste"],[null,"focus"],[null,"longpress"],[null,"touchend"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r.Eb(e,116)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r.Eb(e,116).onTouched()&&o),"compositionstart"===t&&(o=!1!==r.Eb(e,116)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r.Eb(e,116)._compositionEnd(n.target.value)&&o),"input"===t&&(o=!1!==r.Eb(e,118).onInput(n)&&o),"blur"===t&&(o=!1!==r.Eb(e,118).onBlur()&&o),"click"===t&&(o=!1!==r.Eb(e,118).onFocus(n)&&o),"keydown"===t&&(o=!1!==r.Eb(e,118).a(n)&&o),"paste"===t&&(o=!1!==r.Eb(e,118).onPaste()&&o),"blur"===t&&(o=!1!==r.Eb(e,124)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==r.Eb(e,124)._focusChanged(!0)&&o),"input"===t&&(o=!1!==r.Eb(e,124)._onInput()&&o),"longpress"===t&&(o=!1!==r.Eb(e,125).show()&&o),"keydown"===t&&(o=!1!==r.Eb(e,125)._handleKeydown(n)&&o),"touchend"===t&&(o=!1!==r.Eb(e,125)._handleTouchend()&&o),o},null,null)),r.tb(116,16384,null,0,c.d,[r.H,r.k,[2,c.a]],null,null),r.Ib(512,null,z.c,z.c,[h.d,z.g,r.k,r.H]),r.tb(118,540672,null,0,z.b,[h.d,z.c],{maskExpression:[0,"maskExpression"]},null),r.Ib(1024,null,c.j,function(e){return[e]},[z.b]),r.Ib(1024,null,c.k,function(e,t){return[e,t]},[c.d,z.b]),r.tb(121,671744,null,0,c.f,[[3,c.c],[6,c.j],[8,null],[6,c.k],[2,c.t]],{name:[0,"name"]},null),r.Ib(2048,null,c.l,null,[c.f]),r.tb(123,16384,null,0,c.m,[[4,c.l]],null,null),r.tb(124,999424,null,0,p.b,[r.k,u.a,[6,c.l],[2,c.o],[2,c.g],a.d,[8,null],d.a,r.B],null,null),r.tb(125,212992,null,0,M.d,[T.a,r.k,F.b,r.S,r.B,u.a,y.c,y.h,M.b,[2,l.b],[2,M.a],[2,_.f]],{message:[0,"message"]},null),r.Ib(2048,[[29,4],[30,4]],o.d,null,[p.b]),(e()(),r.jb(16777216,null,5,1,null,N)),r.tb(128,16384,null,0,h.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null),(e()(),r.ub(129,0,null,null,18,"mat-form-field",[["class","color mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,i.b,i.a)),r.Ib(512,null,h.y,h.z,[r.k,r.v,r.H]),r.tb(131,278528,null,0,h.n,[h.y],{ngStyle:[0,"ngStyle"]},null),r.Gb(132,{backgroundColor:0}),r.tb(133,7520256,null,9,o.c,[r.k,r.h,[2,a.j],[2,l.b],[2,o.a],u.a,r.B,[2,s.a]],{floatLabel:[0,"floatLabel"]},null),r.Jb(603979776,38,{_controlNonStatic:0}),r.Jb(335544320,39,{_controlStatic:0}),r.Jb(603979776,40,{_labelChildNonStatic:0}),r.Jb(335544320,41,{_labelChildStatic:0}),r.Jb(603979776,42,{_placeholderChild:0}),r.Jb(603979776,43,{_errorChildren:1}),r.Jb(603979776,44,{_hintChildren:1}),r.Jb(603979776,45,{_prefixChildren:1}),r.Jb(603979776,46,{_suffixChildren:1}),(e()(),r.ub(143,16777216,null,1,4,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""]],[[4,"background",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"colorPickerChange"],[null,"blur"],[null,"focus"],[null,"input"],[null,"longpress"],[null,"keydown"],[null,"touchend"],[null,"click"]],function(e,t,n){var o=!0,i=e.component;return"blur"===t&&(o=!1!==r.Eb(e,144)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==r.Eb(e,144)._focusChanged(!0)&&o),"input"===t&&(o=!1!==r.Eb(e,144)._onInput()&&o),"longpress"===t&&(o=!1!==r.Eb(e,145).show()&&o),"keydown"===t&&(o=!1!==r.Eb(e,145)._handleKeydown(n)&&o),"touchend"===t&&(o=!1!==r.Eb(e,145)._handleTouchend()&&o),"click"===t&&(o=!1!==r.Eb(e,146).handleClick()&&o),"focus"===t&&(o=!1!==r.Eb(e,146).handleFocus()&&o),"input"===t&&(o=!1!==r.Eb(e,146).handleInput(n)&&o),"colorPickerChange"===t&&(o=!1!==(i.color=n)&&o),o},null,null)),r.tb(144,999424,null,0,p.b,[r.k,u.a,[8,null],[2,c.o],[2,c.g],a.d,[8,null],d.a,r.B],null,null),r.tb(145,212992,null,0,M.d,[T.a,r.k,F.b,r.S,r.B,u.a,y.c,y.h,M.b,[2,l.b],[2,M.a],[2,_.f]],{message:[0,"message"]},null),r.tb(146,671744,null,0,I.b,[r.s,r.j,r.g,r.S,r.k,I.d],{colorPicker:[0,"colorPicker"],cpAlphaChannel:[1,"cpAlphaChannel"]},{colorPickerChange:"colorPickerChange"}),r.Ib(2048,[[38,4],[39,4]],o.d,null,[p.b]),(e()(),r.ub(148,0,null,null,0,"hr",[["class","divider"]],null,null,null,null,null)),(e()(),r.ub(149,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),r.Lb(-1,null,["Existing properties:"])),(e()(),r.jb(16777216,null,null,1,null,V)),r.tb(152,278528,null,0,h.j,[r.S,r.P,r.u],{ngForOf:[0,"ngForOf"]},null),(e()(),r.ub(153,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),r.Lb(-1,null,["New properties:"])),(e()(),r.jb(16777216,null,null,1,null,$)),r.tb(156,278528,null,0,h.j,[r.S,r.P,r.u],{ngForOf:[0,"ngForOf"]},null),(e()(),r.ub(157,0,null,null,3,"button",[["aria-label","Add new property entry"],["class","add"],["color","accent"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.addNewProperty()&&r),r},b.b,b.a)),r.tb(158,180224,null,0,f.b,[r.k,y.h,[2,s.a]],{color:[0,"color"]},null),(e()(),r.ub(159,0,null,0,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,m.b,m.a)),r.tb(160,573440,null,0,g.a,[_.b,g.b],{iconProp:[0,"iconProp"]},null),(e()(),r.ub(161,0,null,null,5,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),r.tb(162,16384,null,0,D.f,[],null,null),(e()(),r.ub(163,0,null,null,3,"button",[["aria-label","Save Form"],["class","save"],["color","accent"],["mat-flat-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0]],[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==r.Eb(e,165).dialogRef.close(r.Eb(e,165).dialogResult)&&o),o},b.b,b.a)),r.tb(164,180224,null,0,f.b,[r.k,y.h,[2,s.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),r.tb(165,606208,null,0,D.g,[[2,D.l],r.k,D.e],{ariaLabel:[0,"ariaLabel"],dialogResult:[1,"dialogResult"]},null),(e()(),r.Lb(-1,0,[" Save "]))],function(e,t){var n=t.component;e(t,2,0),e(t,8,0,n.actorForm),e(t,16,0,"never"),e(t,32,0,"name"),e(t,35,0),e(t,39,0,"never"),e(t,55,0,r.Eb(t,70)),e(t,58,0,"date"),e(t,62,0,"dateInput"),e(t,63,0,"Date of event"),e(t,67,0,r.Eb(t,70)),e(t,72,0,"never"),e(t,88,0,"Hh:m0:s0",!1),e(t,91,0,"time"),e(t,94,0),e(t,95,0,"Time of the event"),e(t,99,0,"km/h"),e(t,102,0,"never"),e(t,118,0,"9*"),e(t,121,0,"maxSpeed"),e(t,124,0),e(t,125,0,"km/h"),e(t,128,0,n.actorForm.hasError("slow","maxSpeed"));var o=e(t,132,0,n.color);e(t,131,0,o),e(t,133,0,"never"),e(t,144,0),e(t,145,0,"Color, click for color picker"),e(t,146,0,n.color,"disabled"),e(t,152,0,n.properties.controls),e(t,156,0,n.newProperties.controls),e(t,158,0,"accent"),e(t,160,0,n.plusIcon),e(t,164,0,!n.actorForm.valid,"accent"),e(t,165,0,"Save Form",n.result)},function(e,t){var n=t.component;e(t,1,0,r.Eb(t,2).id),e(t,6,0,r.Eb(t,10).ngClassUntouched,r.Eb(t,10).ngClassTouched,r.Eb(t,10).ngClassPristine,r.Eb(t,10).ngClassDirty,r.Eb(t,10).ngClassValid,r.Eb(t,10).ngClassInvalid,r.Eb(t,10).ngClassPending),e(t,15,1,["standard"==r.Eb(t,16).appearance,"fill"==r.Eb(t,16).appearance,"outline"==r.Eb(t,16).appearance,"legacy"==r.Eb(t,16).appearance,r.Eb(t,16)._control.errorState,r.Eb(t,16)._canLabelFloat,r.Eb(t,16)._shouldLabelFloat(),r.Eb(t,16)._hasFloatingLabel(),r.Eb(t,16)._hideControlPlaceholder(),r.Eb(t,16)._control.disabled,r.Eb(t,16)._control.autofilled,r.Eb(t,16)._control.focused,"accent"==r.Eb(t,16).color,"warn"==r.Eb(t,16).color,r.Eb(t,16)._shouldForward("untouched"),r.Eb(t,16)._shouldForward("touched"),r.Eb(t,16)._shouldForward("pristine"),r.Eb(t,16)._shouldForward("dirty"),r.Eb(t,16)._shouldForward("valid"),r.Eb(t,16)._shouldForward("invalid"),r.Eb(t,16)._shouldForward("pending"),!r.Eb(t,16)._animationsEnabled]),e(t,28,0,null==n.originalData?null:null==n.originalData.accumulator?null:n.originalData.accumulator.name.value),e(t,29,1,[r.Eb(t,34).ngClassUntouched,r.Eb(t,34).ngClassTouched,r.Eb(t,34).ngClassPristine,r.Eb(t,34).ngClassDirty,r.Eb(t,34).ngClassValid,r.Eb(t,34).ngClassInvalid,r.Eb(t,34).ngClassPending,r.Eb(t,35)._isServer,r.Eb(t,35).id,r.Eb(t,35).placeholder,r.Eb(t,35).disabled,r.Eb(t,35).required,r.Eb(t,35).readonly&&!r.Eb(t,35)._isNativeSelect||null,r.Eb(t,35)._ariaDescribedby||null,r.Eb(t,35).errorState,r.Eb(t,35).required.toString()]),e(t,38,1,["standard"==r.Eb(t,39).appearance,"fill"==r.Eb(t,39).appearance,"outline"==r.Eb(t,39).appearance,"legacy"==r.Eb(t,39).appearance,r.Eb(t,39)._control.errorState,r.Eb(t,39)._canLabelFloat,r.Eb(t,39)._shouldLabelFloat(),r.Eb(t,39)._hasFloatingLabel(),r.Eb(t,39)._hideControlPlaceholder(),r.Eb(t,39)._control.disabled,r.Eb(t,39)._control.autofilled,r.Eb(t,39)._control.focused,"accent"==r.Eb(t,39).color,"warn"==r.Eb(t,39).color,r.Eb(t,39)._shouldForward("untouched"),r.Eb(t,39)._shouldForward("touched"),r.Eb(t,39)._shouldForward("pristine"),r.Eb(t,39)._shouldForward("dirty"),r.Eb(t,39)._shouldForward("valid"),r.Eb(t,39)._shouldForward("invalid"),r.Eb(t,39)._shouldForward("pending"),!r.Eb(t,39)._animationsEnabled]);var o=r.Mb(t,51,0,e(t,52,0,r.Eb(t,0),n.originalDate,"YYYY-MM-DD"));e(t,51,0,o),e(t,53,1,[(null==r.Eb(t,55)._datepicker?null:r.Eb(t,55)._datepicker.opened)&&r.Eb(t,55)._datepicker.id||null,r.Eb(t,55).min?r.Eb(t,55)._dateAdapter.toIso8601(r.Eb(t,55).min):null,r.Eb(t,55).max?r.Eb(t,55)._dateAdapter.toIso8601(r.Eb(t,55).max):null,r.Eb(t,55).disabled,r.Eb(t,60).ngClassUntouched,r.Eb(t,60).ngClassTouched,r.Eb(t,60).ngClassPristine,r.Eb(t,60).ngClassDirty,r.Eb(t,60).ngClassValid,r.Eb(t,60).ngClassInvalid,r.Eb(t,60).ngClassPending,r.Eb(t,62)._isServer,r.Eb(t,62).id,r.Eb(t,62).placeholder,r.Eb(t,62).disabled,r.Eb(t,62).required,r.Eb(t,62).readonly&&!r.Eb(t,62)._isNativeSelect||null,r.Eb(t,62)._ariaDescribedby||null,r.Eb(t,62).errorState,r.Eb(t,62).required.toString()]),e(t,65,0,-1,r.Eb(t,67).datepicker&&r.Eb(t,67).datepicker.opened,r.Eb(t,67).datepicker&&"accent"===r.Eb(t,67).datepicker.color,r.Eb(t,67).datepicker&&"warn"===r.Eb(t,67).datepicker.color),e(t,71,1,["standard"==r.Eb(t,72).appearance,"fill"==r.Eb(t,72).appearance,"outline"==r.Eb(t,72).appearance,"legacy"==r.Eb(t,72).appearance,r.Eb(t,72)._control.errorState,r.Eb(t,72)._canLabelFloat,r.Eb(t,72)._shouldLabelFloat(),r.Eb(t,72)._hasFloatingLabel(),r.Eb(t,72)._hideControlPlaceholder(),r.Eb(t,72)._control.disabled,r.Eb(t,72)._control.autofilled,r.Eb(t,72)._control.focused,"accent"==r.Eb(t,72).color,"warn"==r.Eb(t,72).color,r.Eb(t,72)._shouldForward("untouched"),r.Eb(t,72)._shouldForward("touched"),r.Eb(t,72)._shouldForward("pristine"),r.Eb(t,72)._shouldForward("dirty"),r.Eb(t,72)._shouldForward("valid"),r.Eb(t,72)._shouldForward("invalid"),r.Eb(t,72)._shouldForward("pending"),!r.Eb(t,72)._animationsEnabled]),e(t,84,0,n.originalTime),e(t,85,1,[r.Eb(t,93).ngClassUntouched,r.Eb(t,93).ngClassTouched,r.Eb(t,93).ngClassPristine,r.Eb(t,93).ngClassDirty,r.Eb(t,93).ngClassValid,r.Eb(t,93).ngClassInvalid,r.Eb(t,93).ngClassPending,r.Eb(t,94)._isServer,r.Eb(t,94).id,r.Eb(t,94).placeholder,r.Eb(t,94).disabled,r.Eb(t,94).required,r.Eb(t,94).readonly&&!r.Eb(t,94)._isNativeSelect||null,r.Eb(t,94)._ariaDescribedby||null,r.Eb(t,94).errorState,r.Eb(t,94).required.toString()]),e(t,101,1,["standard"==r.Eb(t,102).appearance,"fill"==r.Eb(t,102).appearance,"outline"==r.Eb(t,102).appearance,"legacy"==r.Eb(t,102).appearance,r.Eb(t,102)._control.errorState,r.Eb(t,102)._canLabelFloat,r.Eb(t,102)._shouldLabelFloat(),r.Eb(t,102)._hasFloatingLabel(),r.Eb(t,102)._hideControlPlaceholder(),r.Eb(t,102)._control.disabled,r.Eb(t,102)._control.autofilled,r.Eb(t,102)._control.focused,"accent"==r.Eb(t,102).color,"warn"==r.Eb(t,102).color,r.Eb(t,102)._shouldForward("untouched"),r.Eb(t,102)._shouldForward("touched"),r.Eb(t,102)._shouldForward("pristine"),r.Eb(t,102)._shouldForward("dirty"),r.Eb(t,102)._shouldForward("valid"),r.Eb(t,102)._shouldForward("invalid"),r.Eb(t,102)._shouldForward("pending"),!r.Eb(t,102)._animationsEnabled]),e(t,114,0,null==n.originalData?null:null==n.originalData.accumulator?null:n.originalData.accumulator.maxSpeed.value),e(t,115,1,[r.Eb(t,123).ngClassUntouched,r.Eb(t,123).ngClassTouched,r.Eb(t,123).ngClassPristine,r.Eb(t,123).ngClassDirty,r.Eb(t,123).ngClassValid,r.Eb(t,123).ngClassInvalid,r.Eb(t,123).ngClassPending,r.Eb(t,124)._isServer,r.Eb(t,124).id,r.Eb(t,124).placeholder,r.Eb(t,124).disabled,r.Eb(t,124).required,r.Eb(t,124).readonly&&!r.Eb(t,124)._isNativeSelect||null,r.Eb(t,124)._ariaDescribedby||null,r.Eb(t,124).errorState,r.Eb(t,124).required.toString()]),e(t,129,1,["standard"==r.Eb(t,133).appearance,"fill"==r.Eb(t,133).appearance,"outline"==r.Eb(t,133).appearance,"legacy"==r.Eb(t,133).appearance,r.Eb(t,133)._control.errorState,r.Eb(t,133)._canLabelFloat,r.Eb(t,133)._shouldLabelFloat(),r.Eb(t,133)._hasFloatingLabel(),r.Eb(t,133)._hideControlPlaceholder(),r.Eb(t,133)._control.disabled,r.Eb(t,133)._control.autofilled,r.Eb(t,133)._control.focused,"accent"==r.Eb(t,133).color,"warn"==r.Eb(t,133).color,r.Eb(t,133)._shouldForward("untouched"),r.Eb(t,133)._shouldForward("touched"),r.Eb(t,133)._shouldForward("pristine"),r.Eb(t,133)._shouldForward("dirty"),r.Eb(t,133)._shouldForward("valid"),r.Eb(t,133)._shouldForward("invalid"),r.Eb(t,133)._shouldForward("pending"),!r.Eb(t,133)._animationsEnabled]),e(t,143,0,n.color,r.Eb(t,144)._isServer,r.Eb(t,144).id,r.Eb(t,144).placeholder,r.Eb(t,144).disabled,r.Eb(t,144).required,r.Eb(t,144).readonly&&!r.Eb(t,144)._isNativeSelect||null,r.Eb(t,144)._ariaDescribedby||null,r.Eb(t,144).errorState,r.Eb(t,144).required.toString()),e(t,157,0,r.Eb(t,158).disabled||null,"NoopAnimations"===r.Eb(t,158)._animationMode),e(t,159,0,r.Eb(t,160).renderedIconHTML),e(t,163,0,r.Eb(t,164).disabled||null,"NoopAnimations"===r.Eb(t,164)._animationMode,r.Eb(t,165).ariaLabel||null)})}function B(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,1,"app-actor-form",[],null,[[null,"keydown"]],function(e,t,n){var o=!0;return"keydown"===t&&(o=!1!==r.Eb(e,1).onKeyDown(n)&&o),o},J,R)),r.tb(1,4308992,null,0,U.a,[D.l,D.a,c.e,H.a,W.a,r.h],null,null)],function(e,t){e(t,1,0)},null)}var q=r.qb("app-actor-form",U.a,B,{},{},[])},LcVi:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("mrSG"),o=n("0agC"),i=n("UemR"),a=(n("EJUL"),n("xdJh"),n("i6Y3"),n("K9Ia")),l=n("/PH2"),u=n("Womt"),s=function(e){function t(t,n,o,u,s){var c=e.call(this)||this;return c.engineService=t,c.storeFacade=n,c.db=o,c.loreService=u,c.dnd=s,c.tapSubject=new a.a,c.drop=c.dnd.dropTarget("Actor",{drop:function(e){return c.loreService.spawnActorOnClientOffset.next(e.getClientOffset())}}),c.teardown=c.tapSubject.pipe(Object(l.a)(c.storeFacade.isActorCreateMode$)).subscribe(function(e){var t=r.__read(e,2),n=t[0],o=t[1];switch(n.button){case void 0:case 0:c.engineService.click(Object(i.c)(n.center.x,n.center.y),n.srcEvent.shiftKey),o&&(c.loreService.spawnActorOnClientOffset.next({x:n.center.x,y:n.center.y}),c.storeFacade.setActorCreateMode(!1));break;case 2:c.engineService.context(Object(i.c)(n.center.x,n.center.y))}c.engineService.refreshPopupPosition()}),c}return r.__extends(t,e),t.prototype.ngAfterViewInit=function(){this.engineService.createScene(this.canvas.nativeElement),this.engineService.animate()},t.prototype.pan=function(e){this.engineService.pan(Object(i.c)(e.center.x,e.center.y),new u.hb(2*e.velocityX,2*e.velocityY),e.button,"panstart"===e.type,"panend"===e.type)},t.prototype.contextmenu=function(e){var t;return"press"===e.type?t=e.center:"contextmenu"===e.type&&(t={x:e.clientX,y:e.clientY}),this.engineService.context(Object(i.c)(t.x,t.y)),!1},t.prototype.tap=function(e){e.stopPropagation(),this.tapSubject.next(e)},t.prototype.hover=function(e){void 0===this.loreService.overrideNodePosition.value&&this.engineService.hover(Object(i.c)(e.clientX,e.clientY))},t}(o.a)},"MPT/":function(e,t,n){"use strict";n("mrSG"),n("67Y/"),n("Qgas"),n("xMyE"),n("psW0"),n("lA9V"),n("2WpN"),n("F/XL");var r=n("RcFD"),o=n("/S1o");n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return o.a})},N7ef:function(e,t,n){"use strict";function r(e){return void 0===e&&(e=1),e?e/Math.abs(e):0}n.d(t,"a",function(){return r})},PCNd:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n("x6f4"),n("9Bt9"),n("eDkP"),n("Ip0R"),n("gIcY"),n("Hf/j"),n("Z4CC"),n("LWQm"),n("OiBZ");var r=function(){return function(){}}()},PpoC:function(e,t,n){"use strict";var r=n("CcnG"),o=n("o3x0"),i=n("dJrM"),a=n("seP3"),l=n("Wf4p"),u=n("Fzqc"),s=n("dWZg"),c=n("wFw1"),p=n("/VYK"),d=n("b716"),h=n("gIcY"),b=n("bujt"),f=n("UodH"),y=n("lLAP"),m=n("vqgK"),g=n("vARd"),_=n("oWvL"),v=n("i6Y3");n.d(t,"a",function(){return w});var x=r.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:grid}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:80%;min-width:5rem}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{visibility:visible}"]],data:{}});function E(e){return r.Nb(0,[r.Jb(402653184,1,{textarea:0}),r.Jb(402653184,2,{downloadHelper:0}),(e()(),r.ub(2,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),r.tb(3,81920,null,0,o.m,[[2,o.l],r.k,o.e],null,null),(e()(),r.Lb(-1,null,["Export/Import database"])),(e()(),r.Lb(-1,null,["\nThis JSON represents all your projects. This can be imported back here too. The maps are downloaded separately as\npictures, and can be imported back one-by-one in the edit menu of a project.\n"])),(e()(),r.ub(6,0,null,null,18,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),r.tb(7,16384,null,0,o.j,[],null,null),(e()(),r.ub(8,0,null,null,15,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,i.b,i.a)),r.tb(9,7520256,null,9,a.c,[r.k,r.h,[2,l.j],[2,u.b],[2,a.a],s.a,r.B,[2,c.a]],null,null),r.Jb(603979776,3,{_controlNonStatic:0}),r.Jb(335544320,4,{_controlStatic:0}),r.Jb(603979776,5,{_labelChildNonStatic:0}),r.Jb(335544320,6,{_labelChildStatic:0}),r.Jb(603979776,7,{_placeholderChild:0}),r.Jb(603979776,8,{_errorChildren:1}),r.Jb(603979776,9,{_hintChildren:1}),r.Jb(603979776,10,{_prefixChildren:1}),r.Jb(603979776,11,{_suffixChildren:1}),(e()(),r.ub(19,0,[[1,0],["textarea",1]],1,4,"textarea",[["cdkAutosizeMaxRows","15"],["cdkAutosizeMinRows","10"],["cdkTextareaAutosize",""],["class","cdk-textarea-autosize mat-input-element mat-form-field-autofill-control"],["matInput",""],["rows","1"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"focus"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==r.Eb(e,20)._noopInputHandler()&&o),"blur"===t&&(o=!1!==r.Eb(e,21)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==r.Eb(e,21)._focusChanged(!0)&&o),"input"===t&&(o=!1!==r.Eb(e,21)._onInput()&&o),o},null,null)),r.tb(20,4603904,null,0,p.b,[r.k,s.a,r.B],{minRows:[0,"minRows"],maxRows:[1,"maxRows"],enabled:[2,"enabled"]},null),r.tb(21,999424,null,0,d.b,[r.k,s.a,[8,null],[2,h.o],[2,h.g],l.d,[8,null],p.a,r.B],{value:[0,"value"]},null),r.Ib(2048,[[3,4],[4,4]],a.d,null,[d.b]),(e()(),r.Lb(-1,null,["\t\t"])),(e()(),r.ub(24,0,[[2,0],["downloadHelper",1]],null,0,"a",[],null,null,null,null,null)),(e()(),r.ub(25,0,null,null,10,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),r.tb(26,16384,null,0,o.f,[],null,null),(e()(),r.ub(27,0,null,null,2,"button",[["aria-label","Download textures"],["color","accent"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.downloadTextures()&&r),r},b.b,b.a)),r.tb(28,180224,null,0,f.b,[r.k,y.h,[2,c.a]],{color:[0,"color"]},null),(e()(),r.Lb(-1,0,[" Download all textures "])),(e()(),r.ub(30,0,null,null,2,"button",[["aria-label","Copy to clipboard"],["color","accent"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.copyToClipboard()&&r),r},b.b,b.a)),r.tb(31,180224,null,0,f.b,[r.k,y.h,[2,c.a]],{color:[0,"color"]},null),(e()(),r.Lb(-1,0,[" Copy to clipboard "])),(e()(),r.ub(33,0,null,null,2,"button",[["aria-label","Import to database"],["color","accent"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.importDatabase()&&r),r},b.b,b.a)),r.tb(34,180224,null,0,f.b,[r.k,y.h,[2,c.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(e()(),r.Lb(-1,0,[" Import "]))],function(e,t){var n=t.component;e(t,3,0),e(t,20,0,"10","15",""),e(t,21,0,n.data.data),e(t,28,0,"accent"),e(t,31,0,"accent"),e(t,34,0,!n.isValid(),"accent")},function(e,t){e(t,2,0,r.Eb(t,3).id),e(t,8,1,["standard"==r.Eb(t,9).appearance,"fill"==r.Eb(t,9).appearance,"outline"==r.Eb(t,9).appearance,"legacy"==r.Eb(t,9).appearance,r.Eb(t,9)._control.errorState,r.Eb(t,9)._canLabelFloat,r.Eb(t,9)._shouldLabelFloat(),r.Eb(t,9)._hasFloatingLabel(),r.Eb(t,9)._hideControlPlaceholder(),r.Eb(t,9)._control.disabled,r.Eb(t,9)._control.autofilled,r.Eb(t,9)._control.focused,"accent"==r.Eb(t,9).color,"warn"==r.Eb(t,9).color,r.Eb(t,9)._shouldForward("untouched"),r.Eb(t,9)._shouldForward("touched"),r.Eb(t,9)._shouldForward("pristine"),r.Eb(t,9)._shouldForward("dirty"),r.Eb(t,9)._shouldForward("valid"),r.Eb(t,9)._shouldForward("invalid"),r.Eb(t,9)._shouldForward("pending"),!r.Eb(t,9)._animationsEnabled]),e(t,19,0,r.Eb(t,21)._isServer,r.Eb(t,21).id,r.Eb(t,21).placeholder,r.Eb(t,21).disabled,r.Eb(t,21).required,r.Eb(t,21).readonly&&!r.Eb(t,21)._isNativeSelect||null,r.Eb(t,21)._ariaDescribedby||null,r.Eb(t,21).errorState,r.Eb(t,21).required.toString()),e(t,27,0,r.Eb(t,28).disabled||null,"NoopAnimations"===r.Eb(t,28)._animationMode),e(t,30,0,r.Eb(t,31).disabled||null,"NoopAnimations"===r.Eb(t,31)._animationMode),e(t,33,0,r.Eb(t,34).disabled||null,"NoopAnimations"===r.Eb(t,34)._animationMode)})}function O(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,1,"app-export",[],null,[[null,"keydown"]],function(e,t,n){var o=!0;return"keydown"===t&&(o=!1!==r.Eb(e,1).onKeyDown(n)&&o),o},E,x)),r.tb(1,114688,null,0,m.a,[o.a,g.b,o.e,_.a,v.a],null,null)],function(e,t){e(t,1,0)},null)}var w=r.qb("app-export",m.a,O,{},{},[])},QcA2:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mrSG"),o=n("CcnG"),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.positionChange=new o.n,r}return r.__extends(t,e),Object.defineProperty(t.prototype,"stage",{get:function(){for(var e=this;e&&"Scene"!==e.type;)e=e.parent;return e},enumerable:!0,configurable:!0}),t.prototype.changed=function(){},t}(n("Womt").F)},RcFD:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("aCrv"),o=n("26FU"),i=n("psW0"),a=n("VnD/");function l(e){var t=e.duration,n=void 0===t?1e3:t,l=e.easing,u=void 0===l?r.Easing.Linear.None:l,s=e.pingpongInterrupt,c=void 0===s||s,p=e.pingpongAfterFinish,d=void 0===p||p,h=e.sendUndefined,b=void 0!==h&&h,f=e.doOnNext,y=void 0===f?function(){}:f,m=e.doOnComplete,g=void 0===m?function(){}:m;return function(e){var t,l=new o.a(void 0);return d&&(c=!0),e.pipe(Object(i.a)(function(e){return t&&t.stop(),t=new r.Tween(c&&l.value?l.value:e.from).to(e.to,n).easing(u).onUpdate(function(e){l.next(e),y(e)}).onComplete(function(e){return g(e),l.next(c&&d?e:void 0)}).start(Date.now()),l.asObservable().pipe(Object(a.a)(function(e){return b||void 0!==e}))}))}}},RdJQ:function(e,t,n){"use strict";function r(e,t){for(var n in e)if(e.hasOwnProperty(n))switch(typeof e[n]){case"string":t.indexOf(n)>-1&&delete e[n];break;case"object":t.indexOf(n)>-1?delete e[n]:r(e[n],t)}return e}n.d(t,"a",function(){return r})},RnhZ:function(e,t,n){var r={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-SG":"zavE","./en-SG.js":"zavE","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="RnhZ"},U9br:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u});var r=n("mrSG"),o=n("9acP"),i=n("frRP"),a=Object(i.a)({selectId:function(e){return e.id}}),l=a.getInitialState({loading:!1,selected:void 0,actorCreateMode:!1,block:{leftMost:void 0,rightMost:void 0}});function u(e,t){switch(void 0===e&&(e=l),t.type){case o.w.type:return r.__assign({},e,{loading:!0});case o.y.type:return a.removeAll(e),a.addAll(t.payload,r.__assign({},e,{loading:!1}));case o.x.type:return r.__assign({},e,{loading:!1});case o.W.type:return r.__assign({},e,{actorCreateMode:!e.actorCreateMode});case o.C.type:return r.__assign({},e,{actorCreateMode:t.payload});default:return e}}},UemR:function(e,t,n){"use strict";var r=n("Womt");function o(e){return new r.hb((e.x+1)/2*window.innerWidth,(e.y-1)/-2*window.innerHeight)}function i(e,t,n){return void 0===n&&(n=1),e+t-e%t+t*(n-1)}function a(e,t){return new r.hb(e/window.innerWidth*2-1,-t/window.innerHeight*2+1)}n("RdJQ"),n("2Zeu");var l=n("v/Un"),u=n("N7ef");n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return l.a}),n.d(t,"e",function(){return u.a})},VdUl:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u});var r=n("mrSG"),o=n("9acP"),i=n("frRP"),a=Object(i.a)({selectId:function(e){return e.id}}),l=a.getInitialState({loading:!1,selected:void 0});function u(e,t){switch(void 0===e&&(e=l),t.type){case o.z.type:return r.__assign({},e,{loading:!0});case o.B.type:return a.addAll(n=t.payload,r.__assign({},e,{loading:!1}));case o.A.type:return r.__assign({},e,{loading:!1});case o.q.type:return r.__assign({},e,{loading:!0});case o.s.type:return a.addOne(n=t.payload,r.__assign({},e,{loading:!1}));case o.r.type:return r.__assign({},e,{loading:!1});case o.db.type:return r.__assign({},e,{loading:!0});case o.fb.type:return a.updateOne({id:(n=t.payload.payload).id,changes:n},r.__assign({},e,{loading:!1}));case o.eb.type:return r.__assign({},e,{loading:!1});case o.t.type:return r.__assign({},e,{loading:!0});case o.v.type:return a.removeOne(t.payload,r.__assign({},e,{loading:!1}));case o.u.type:return r.__assign({},e,{loading:!1});case o.m.type:return r.__assign({},e,{loading:!0});case o.o.type:var n;return r.__assign({},e,{loading:!1,selected:(n=t.payload).id});case o.n.type:return r.__assign({},e,{loading:!1});default:return e}}},YQb3:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(e,t){this.dialogRef=e,this.data=t,this.title=t&&t.title||"Warning",this.message=t&&t.message||"Are you sure?"}return e.prototype.ngOnInit=function(){},e.prototype.onConfirm=function(){this.dialogRef.close(!0)},e.prototype.onDismiss=function(){this.dialogRef.close(!1)},e.prototype.onKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),this.onConfirm())},e}()},ZwlM:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mrSG"),o=n("6HfZ"),i=function(){function e(e){this.unix=Math.floor(e)}return e.prototype.compareTo=function(e){return this.unix-e.unix},r.__decorate([o.jsonMember,r.__metadata("design:type",Number)],e.prototype,"unix",void 0),r.__decorate([o.jsonObject,r.__metadata("design:paramtypes",[Number])],e)}()},crnd:function(e,t,n){var r={"@lore/lore.module.ngfactory":["cbOh",5]};function o(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],o=t[0];return n.e(t[1]).then(function(){return n(o)})}o.keys=function(){return Object.keys(r)},o.id="crnd",e.exports=o},f5FP:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("gIcY"),o=n("wHSu"),i=function(){function e(e){this.formBuilder=e,this.forgetIcon=o.d,this.removeIcon=o.o}return e.create=function(e){return e.group({key:["",[r.q.required,function(e){if(e.parent&&e.parent.parent&&e.parent.parent.errors){var t=e.parent.parent.errors.duplicates.get(e.value);if(t&&t.length>1)return e.markAsTouched(),e.markAsDirty(),{duplicate:!0}}}]],value:[""],forget:[""],valuePlaceholder:[""]})},e.prototype.changeForget=function(e){this.control.controls.forget.setValue(!this.control.controls.forget.value),this.control.controls.forget.value?(this.hiddenValue=this.control.controls.value.value,this.control.controls.value.setValue(void 0),this.control.controls.value.disable()):(this.control.controls.value.setValue(this.hiddenValue),this.control.controls.value.enable(),this.hiddenValue=void 0)},e.prototype.remove=function(e){this.parent.removeAt(this.index)},e.prototype.ngOnInit=function(){this.control||(this.control=e.create(this.formBuilder),this.parent.push(this.control)),this.existing&&(this.originalKey=this.control.controls.key.value,this.originalValue=this.control.controls.value.value),this.control.controls.forget.value&&(this.hiddenValue=this.control.controls.valuePlaceholder.value,this.control.controls.value.setValue(void 0),this.control.controls.value.disable()),this.originalValue=this.control.controls.valuePlaceholder.value},e.prototype.ngAfterViewInit=function(){},e}()},gPZA:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n("mrSG"),o=n("gIcY"),i=n("0agC"),a=n("m6Ai"),l=(n("EJUL"),n("YQb3")),u=(n("i6Y3"),n("mEZQ")),s=n("dzgT"),c=n("0/uQ"),p=n("F/XL"),d=n("t9fZ"),h=n("psW0"),b=n("VnD/"),f=n("67Y/"),y=n("3lw/"),m=n("15JJ"),g=n("xMyE"),_=function(e){function t(t,n,r,i,a,l,u){var s=e.call(this)||this;return s.originalData=t,s.dialogRef=n,s.dialog=r,s.formBuilder=i,s.databaseService=a,s.actorService=l,s.storeFacade=u,s.loreForm=s.formBuilder.group({id:s.formBuilder.control(""),tex:s.formBuilder.control(""),name:s.formBuilder.control("",[o.q.required],[function(e){return s.storeFacade.lores$.pipe(Object(d.a)(1),Object(h.a)(function(e){return e}),Object(b.a)(function(t){return t.name===e.value&&s.loreForm.controls.id.value!==t.id}),Object(f.a)(function(e){return{duplicate:"Name already present"}}),Object(y.a)(void 0),Object(d.a)(1))}]),planet:s.formBuilder.group({name:s.formBuilder.control("",[o.q.required]),radius:s.formBuilder.control("",[o.q.required,function(e){return e.value<500?{small:!0}:void 0}],[function(e){return s.maxPossiblePlanetRadius$.pipe(Object(d.a)(1),Object(f.a)(function(t){return void 0!==s.loreForm.controls.id.value&&e.value>Math.round(t)?{large:!0}:void 0}))}])})}),s.maxPossiblePlanetRadius$=l.maxPossiblePlanetRadius$,s.loreForm.controls.id.setValue(t.id),s.loreForm.controls.name.setValue(t.name),s.loreForm.controls.planet.controls.name.setValue(t.planet.name),s.loreForm.controls.planet.controls.radius.setValue(t.planet.radius),s}return r.__extends(t,e),t.prototype.handleFileInput=function(e){this.loreForm.controls.tex.setValue(e.target.files.item(0))},t.prototype.loadDefaultEarth=function(){var e=this;this.teardown=this.dialog.open(l.a,{data:{title:"Warning!",message:"Are you sure? This will immediately overwrite your current landscape, planet name and planet radius!"}}).afterClosed().pipe(Object(h.a)(function(t){return Object(u.a)(function(){return t},Object(s.a)([e.databaseService.database$.pipe(Object(m.a)(function(t){return t.lore.find({id:e.originalData.id}).$.pipe(Object(h.a)(function(e){return e}),Object(d.a)(1))})),Object(c.a)(fetch("assets/elev_bump_8k.jpg")).pipe(Object(m.a)(function(e){return e.blob()}))]).pipe(Object(m.a)(function(e){var t=r.__read(e,2),n=t[0],o=t[1];return Object(c.a)(n.putAttachment({id:"texture",data:o,type:"image/jpeg"}))}),Object(g.a)(function(t){return e.loreForm.controls.planet.controls.name.setValue(a.d.DEFAULT_NAME)}),Object(g.a)(function(t){return e.loreForm.controls.planet.controls.radius.setValue(a.d.DEFAULT_RADIUS)}),Object(g.a)(function(t){return e.dialogRef.close(e.loreForm.value)})),Object(p.a)(!1))})).subscribe()},t.prototype.onKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),this.loreForm.valid&&this.dialogRef.close(this.loreForm.value))},t.prototype.ngOnInit=function(){},t}(i.a)},i6Y3:function(e,t,n){"use strict";var r=n("U9br"),o=n("VdUl"),i=n("kHtM"),a=n("yGQT"),l=Object(a.w)("app-lore"),u=r.a.getSelectors(),s=u.selectAll,c=u.selectEntities,p=Object(a.y)(l,function(e){return e.actor}),d=Object(a.y)(p,s),h=Object(a.y)(p,function(e){return e.actorCreateMode}),b=Object(a.y)(p,c),f=Object(a.y)(p,function(e){return e.loading}),y=Object(a.y)(p,function(e){return e.selected}),m={getLoading:f,getActors:d,getActorEntities:b,getActorEntityById:Object(a.y)(b,function(e,t){return e[t.id]}),getSelected:y,getActorCreateMode:h},g=n("jYNz"),_=n("VnD/"),v=n("9acP"),x=o.a.getSelectors(),E=x.selectAll,O=x.selectEntities,w=Object(a.y)(l,function(e){return e.lores}),j=Object(a.y)(w,E),k=Object(a.y)(w,O),S=Object(a.y)(w,function(e){return e.loading}),C=Object(a.y)(w,function(e){return e.selected}),A=Object(a.y)(w,function(e){return e.entities[e.selected]}),D=Object(a.y)(A,function(e){return e&&e.planet}),P={getLoading:S,getLores:j,selected:{getSelectedId:C,getSelected:A,getSelectedPlanet:D,getSelectedPlanetRadius:Object(a.y)(D,function(e){return e&&e.radius}),getSelectedPlanetName:Object(a.y)(D,function(e){return e&&e.name})},getLoreEntityById:Object(a.y)(k,function(e,t){return e[t.id]})},M=Object(a.w)("app-lore"),T=Object(a.y)(M,function(e){return e.scene}),F=Object(a.y)(T,function(e){return e.loading}),L=Object(a.y)(T,function(e){return e.playSpeed}),z=Object(a.y)(T,function(e){return e.playing}),I=Object(a.y)(T,function(e){return e.cursor}),U=Object(a.y)(I,function(e){return e.unix.override||e.unix.original}),H=Object(a.y)(I,function(e){return e.unix.override}),W=Object(a.y)(T,function(e){return e.frame}),R=Object(a.y)(W,function(e){var t=e.start.base+(e.start.delta||0),n=e.end.base+(e.end.delta||0);return{start:t,end:n,length:n-t}}),N=Object(a.y)(W,function(e){return e.start.base+(e.start.delta||0)}),V=Object(a.y)(W,function(e){return e.end.base+(e.end.delta||0)}),$=Object(a.y)(T,function(e){return e.actorObjectSizeBias}),J={getLoadingScenes:F,play:{getPlaySpeed:L,isPlaying:z},frame:{getFrame:R,getFrameStart:N,getFrameEnd:V},cursor:{getCursor:U,getCursorOverride:H},interaction:{getInteractionMode:Object(a.y)(T,function(e){return e.interactionMode}),getActorObjectSizeBias:$,getDrawSize:Object(a.y)(T,function(e){return e.drawSize}),getDrawHeight:Object(a.y)(T,function(e){return e.drawHeight}),isManualLight:Object(a.y)(T,function(e){return e.manualLight}),isManualLightAlwaysOn:Object(a.y)(T,function(e){return e.manualLightAlwaysOn})},ui:{isSidebarOpen:Object(a.y)(T,function(e){return e.sidebarOpen}),isMediaLarge:Object(a.y)(T,function(e){return e.mediaLarge}),isDebugMode:Object(a.y)(T,function(e){return e.debugMode})}};n.d(t,"a",function(){return B});var B=function(){function e(e,t){this.store$=e,this.actions$=t,this.lores$=this.store$.pipe(Object(a.z)(P.getLores)),this.selectedLore$=this.store$.pipe(Object(a.z)(P.selected.getSelected),Object(_.a)(function(e){return void 0!==e})),this.selectedLorePlanet$=this.store$.pipe(Object(a.z)(P.selected.getSelectedPlanet),Object(_.a)(function(e){return void 0!==e})),this.loadLoresSuccess$=this.actions$.pipe(Object(g.d)(v.B.type)),this.changeSelectedLore$=this.actions$.pipe(Object(g.d)(v.m.type)),this.loadLoresFail$=this.actions$.pipe(Object(g.d)(v.A.type)),this.createLoresSuccess$=this.actions$.pipe(Object(g.d)(v.s.type)),this.createLoresFail$=this.actions$.pipe(Object(g.d)(v.r.type)),this.updateLoresSuccess$=this.actions$.pipe(Object(g.d)(v.fb.type)),this.updateLoresFail$=this.actions$.pipe(Object(g.d)(v.eb.type)),this.deleteLoresSuccess$=this.actions$.pipe(Object(g.d)(v.v.type)),this.deleteLoresFail$=this.actions$.pipe(Object(g.d)(v.u.type)),this.playSpeed$=this.store$.pipe(Object(a.z)(J.play.getPlaySpeed)),this.isPlaying$=this.store$.pipe(Object(a.z)(J.play.isPlaying)),this.cursor$=this.store$.pipe(Object(a.z)(J.cursor.getCursor)),this.cursorOverride$=this.store$.pipe(Object(a.z)(J.cursor.getCursorOverride)),this.frame$=this.store$.pipe(Object(a.z)(J.frame.getFrame)),this.interactionMode$=this.store$.pipe(Object(a.z)(J.interaction.getInteractionMode)),this.actorObjectSizeBias$=this.store$.pipe(Object(a.z)(J.interaction.getActorObjectSizeBias)),this.drawSize$=this.store$.pipe(Object(a.z)(J.interaction.getDrawSize)),this.drawHeight$=this.store$.pipe(Object(a.z)(J.interaction.getDrawHeight)),this.manualLight$=this.store$.pipe(Object(a.z)(J.interaction.isManualLight)),this.manualLightAlwaysOn$=this.store$.pipe(Object(a.z)(J.interaction.isManualLightAlwaysOn)),this.sidebarOpen$=this.store$.pipe(Object(a.z)(J.ui.isSidebarOpen)),this.mediaLarge$=this.store$.pipe(Object(a.z)(J.ui.isMediaLarge)),this.isDebugMode$=this.store$.pipe(Object(a.z)(J.ui.isDebugMode)),this.actors$=this.store$.pipe(Object(a.z)(m.getActors)),this.isActorCreateMode$=this.store$.pipe(Object(a.z)(m.getActorCreateMode))}return e.prototype.createLore=function(e){this.store$.dispatch(Object(v.q)({payload:e}))},e.prototype.updateLore=function(e){this.store$.dispatch(Object(v.db)({payload:e}))},e.prototype.deleteLore=function(e){this.store$.dispatch(Object(v.t)({payload:e}))},e.prototype.toggleActorCreateMode=function(){this.store$.dispatch(Object(v.W)())},e.prototype.setActorCreateMode=function(e){this.store$.dispatch(Object(v.C)({payload:e}))},e.prototype.selectLore=function(e){this.store$.dispatch(Object(v.m)({payload:e.id}))},e.prototype.setPlaySpeed=function(e,t){void 0===t&&(t=!1),this.store$.dispatch(Object(v.R)({payload:{speed:e,retainDirection:t}}))},e.prototype.changePlaySpeed=function(e){this.store$.dispatch(Object(v.l)({payload:e}))},e.prototype.changePlayDirection=function(e){this.store$.dispatch(Object(v.k)({payload:e}))},e.prototype.togglePlay=function(){this.store$.dispatch(Object(v.ab)({payload:void 0}))},e.prototype.bakeCursorOverride=function(){this.store$.dispatch(Object(v.d)({payload:!0}))},e.prototype.clearCursorOverride=function(){this.store$.dispatch(Object(v.p)({payload:void 0}))},e.prototype.setCursorOverride=function(e){this.store$.dispatch(Object(v.i)({payload:e}))},e.prototype.setCursor=function(e){this.store$.dispatch(Object(v.i)({payload:e}))},e.prototype.setFrameStart=function(e){this.store$.dispatch(Object(v.M)({payload:e}))},e.prototype.setFrameEnd=function(e){this.store$.dispatch(Object(v.K)({payload:e}))},e.prototype.setFrame=function(e){this.store$.dispatch(Object(v.N)({payload:e}))},e.prototype.setFrameStartDelta=function(e){this.store$.dispatch(Object(v.L)({payload:e}))},e.prototype.setFrameEndDelta=function(e){this.store$.dispatch(Object(v.J)({payload:e}))},e.prototype.setFrameDelta=function(e,t){void 0===t&&(t=e),this.store$.dispatch(Object(v.I)({payload:{start:e,end:t}}))},e.prototype.bakeFrame=function(){this.store$.dispatch(Object(v.e)({payload:!0}))},e.prototype.bakeFrameStart=function(){this.store$.dispatch(Object(v.g)({payload:!0}))},e.prototype.bakeFrameEnd=function(){this.store$.dispatch(Object(v.f)({payload:!0}))},e.prototype.changeFrameBy=function(e){this.store$.dispatch(Object(v.j)({payload:e}))},e.prototype.changeCursorBy=function(e){this.store$.dispatch(Object(v.h)({payload:e}))},e.prototype.setInteractionMode=function(e){this.store$.dispatch(Object(v.O)({payload:e}))},e.prototype.setDebugMode=function(e){this.store$.dispatch(Object(v.F)({payload:e}))},e.prototype.toggleDebugMode=function(){this.store$.dispatch(Object(v.Y)())},e.prototype.resetFrame=function(){this.store$.dispatch(Object(v.N)({payload:{start:i.a.frame.start.base,end:i.a.frame.end.base}}))},e.prototype.setDrawSize=function(e){this.store$.dispatch(Object(v.H)({payload:e}))},e.prototype.setDrawHeight=function(e){this.store$.dispatch(Object(v.G)({payload:e}))},e.prototype.setAutoLight=function(e){this.store$.dispatch(Object(v.E)({payload:e}))},e.prototype.setManualLightAlwaysOn=function(e){this.store$.dispatch(Object(v.P)({payload:e}))},e.prototype.toggleManualLightAlwaysOn=function(){this.store$.dispatch(Object(v.Z)())},e.prototype.toggleAutoLight=function(){this.store$.dispatch(Object(v.X)())},e.prototype.updateActor=function(e){this.store$.dispatch(Object(v.cb)({payload:e}))},e.prototype.setActorObjectSizeBias=function(e){this.store$.dispatch(Object(v.D)({payload:e}))},e.prototype.setSidebarOpen=function(e){this.store$.dispatch(Object(v.V)({payload:e}))},e.prototype.toggleSidebarOpen=function(){this.store$.dispatch(Object(v.bb)())},e.prototype.setMediaLarge=function(e){this.store$.dispatch(Object(v.Q)({payload:e}))},e}()},jbVo:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r={parse:{dateInput:"LL"},display:{dateInput:"YYYY-MM-DD",monthYearLabel:"YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"YYYY"}},o=function(){return function(e){if(e)throw new Error("Duplicate CoreModule!")}}()},kHtM:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var r=n("mrSG"),o=n("UemR"),i=n("9acP"),a=n("wd/R"),l=n.n(a),u={title:"DAW",loading:!1,playSpeed:1200,playing:!1,cursor:{unix:{original:l()().unix(),override:void 0}},frame:{start:{base:l()().subtract(2,"week").unix(),delta:void 0},end:{base:l()().add(2,"week").unix(),delta:void 0}},actorObjectSizeBias:0,interactionMode:"move",drawSize:10,drawHeight:1,manualLight:!0,debugMode:!1,manualLightAlwaysOn:!1,sidebarOpen:window.innerHeight/window.innerHeight>=1.8,mediaLarge:window.innerHeight/window.innerHeight>=1.8};function s(e,t){switch(t.type){case i.h.type:return r.__assign({},e,{unix:r.__assign({},e.unix,{original:Math.floor(e.unix.original+t.payload)})});case i.i.type:return r.__assign({},e,{unix:r.__assign({},e.unix,{override:Math.floor(t.payload)})});case i.d.type:return r.__assign({},e,{unix:r.__assign({},e.unix,{original:Math.floor(e.unix.override||e.unix.original),override:void 0})});case i.p.type:return r.__assign({},e,{unix:r.__assign({},e.unix,{override:void 0})});default:return e}}var c=86400;function p(e,t){switch(t.type){case i.N.type:var n=t.payload.start||e.start.base,o=t.payload.end||e.end.base;return Math.abs(o-n)<=c||o<=n?e:r.__assign({},e,{start:r.__assign({},e.start,{base:n}),end:r.__assign({},e.end,{base:o})});case i.M.type:return n=t.payload||e.start.base,o=e.end.base,Math.abs(o-n)<=c||o<=n?e:r.__assign({},e,{start:r.__assign({},e.start,{base:t.payload||e.start.base})});case i.K.type:return n=e.start.base,o=t.payload||e.end.base,Math.abs(o-n)<=c||o<=n?e:r.__assign({},e,{end:r.__assign({},e.end,{base:t.payload||e.end.base})});case i.I.type:return r.__assign({},e,{start:r.__assign({},e.start,{delta:t.payload.start}),end:r.__assign({},e.end,{delta:t.payload.end})});case i.L.type:return r.__assign({},e,{start:r.__assign({},e.start,{delta:t.payload})});case i.J.type:return r.__assign({},e,{end:r.__assign({},e.end,{delta:t.payload})});case i.e.type:var a=e.end.base+e.end.delta;return r.__assign({},e,{start:r.__assign({},e.start,{base:e.start.base+e.start.delta,delta:void 0}),end:r.__assign({},e.end,{base:a,delta:void 0})});case i.g.type:return r.__assign({},e,{start:r.__assign({},e.start,{base:e.start.base+e.start.delta,delta:void 0})});case i.f.type:return r.__assign({},e,{end:r.__assign({},e.end,{base:a=e.end.base+e.end.delta,delta:void 0})});case i.j.type:return n=(t.payload.start||0)+e.start.base,o=(t.payload.end||0)+e.end.base,Math.abs(o-n)<=c||o<=n?e:r.__assign({},e,{start:r.__assign({},e.start,{base:n}),end:r.__assign({},e.end,{base:o})});default:return e}}function d(e,t){switch(void 0===e&&(e=u),t.type){case i.R.type:return r.__assign({},e,{playSpeed:t.payload.retainDirection?Math.abs(t.payload.speed)*(Object(o.e)(e.playSpeed)||1):t.payload.speed});case i.l.type:var n=e.playSpeed+(Object(o.e)(e.playSpeed)||1)*t.payload;return r.__assign({},e,{playSpeed:Object(o.e)(e.playSpeed)===Object(o.e)(n)||0===e.playSpeed?n:0});case i.k.type:return r.__assign({},e,{playSpeed:(t.payload||-Object(o.e)(e.playSpeed))*Math.abs(e.playSpeed)});case i.S.type:return r.__assign({},e,{loading:!0});case i.U.type:return r.__assign({},e,{playing:t.payload,loading:!1});case i.T.type:return r.__assign({},e,{loading:!1});case i.ab.type:return r.__assign({},e,{playing:!e.playing});case i.O.type:return r.__assign({},e,{interactionMode:t.payload});case i.D.type:return r.__assign({},e,{actorObjectSizeBias:t.payload});case i.H.type:return r.__assign({},e,{drawSize:t.payload});case i.G.type:return r.__assign({},e,{drawHeight:t.payload});case i.E.type:return r.__assign({},e,{manualLight:t.payload});case i.P.type:return r.__assign({},e,{manualLightAlwaysOn:t.payload});case i.X.type:return r.__assign({},e,{manualLight:!e.manualLight});case i.Z.type:return r.__assign({},e,{manualLightAlwaysOn:!e.manualLightAlwaysOn});case i.V.type:return r.__assign({},e,{sidebarOpen:t.payload});case i.bb.type:return r.__assign({},e,{sidebarOpen:!e.sidebarOpen});case i.Q.type:return r.__assign({},e,{mediaLarge:t.payload});case i.F.type:return r.__assign({},e,{debugMode:t.payload});case i.Y.type:return r.__assign({},e,{debugMode:!e.debugMode});case i.h.type:case i.i.type:case i.d.type:case i.p.type:return r.__assign({},e,{cursor:s(e.cursor,t)});case i.N.type:case i.M.type:case i.K.type:case i.I.type:case i.L.type:case i.J.type:case i.e.type:case i.g.type:case i.f.type:case i.j.type:return r.__assign({},e,{frame:p(e.frame,t)});default:return e}}},m6Ai:function(e,t,n){"use strict";var r=n("mrSG"),o=n("XHhg"),i=function(){function e(e,t){this.id=e,this.loreId=t,this._states=new o.Tree}return e.DEFAULT_MAX_SPEED=4,e.DEFAULT_COLOR="#e63100",e}();function a(e){var t,n;if(null!=e){if(e._states){try{for(var o=r.__values(e._states.nodes()),i=o.next();!i.done;i=o.next()){var a=i.value;a.key.unix=Math.floor(a.key.unix)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}e.states=e._states.stringify(),delete e._states}delete e._userdata}return e}var l=function(){return function(e,t,n){this.id=e,this.name=t,this.planet=n}}(),u={name:"Example",planet:{name:"Earth",radius:6371},id:"0"},s=[{loreId:"0",states:'{"root":{"l":{"l":{"l":{"l":{"h":1,"k":{"unix":33879649,"__type":"UnixWrapper"},"v":{"name":"Kujo Jotaro","position":{"x":-0.6188217049732287,"y":0.5853267788167074,"z":-0.5238613992401469},"properties":"[]","color":"#007dff","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":596385429,"__type":"UnixWrapper"},"v":{"position":{"x":-0.6188217049732287,"y":0.5853267788167074,"z":-0.5238613992401469},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":581769789,"__type":"UnixWrapper"},"v":{"position":{"x":-0.6188217049732287,"y":0.5853267788167074,"z":-0.5238613992401469},"properties":"[{\\"key\\":\\"Stand\\",\\"value\\":\\"Star Platinum\\"}]","color":"#007dff","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":596745178,"__type":"UnixWrapper"},"v":{"position":{"x":-0.5095891892171829,"y":0.4130834959162129,"z":-0.7542654200916495},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597064381,"__type":"UnixWrapper"},"v":{"position":{"x":-0.37817499131074866,"y":0.2013401921192392,"z":-0.9024996224683076},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":596773231,"__type":"UnixWrapper"},"v":{"position":{"x":-0.3524524309998232,"y":0.37799489379179996,"z":-0.8604543478924844},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Ship\\"}]","maxSpeed":24,"color":"#007dff","__type":"ActorDelta"}},"h":3,"k":{"unix":596727143,"__type":"UnixWrapper"},"v":{"position":{"x":-0.6188217049732287,"y":0.5853267788167074,"z":-0.5238613992401469},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Plane\\"}]","maxSpeed":400,"color":"#007dff","__type":"ActorDelta"}},"r":{"l":{"l":{"h":1,"k":{"unix":597402836,"__type":"UnixWrapper"},"v":{"position":{"x":-0.15531840332591557,"y":0.14890713157381327,"z":-0.977390262726053},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597555211,"__type":"UnixWrapper"},"v":{"position":{"x":-0.031569595659881905,"y":0.3894971203150306,"z":-0.9207101395062377},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":597479660,"__type":"UnixWrapper"},"v":{"position":{"x":-0.09507271451479411,"y":0.3049665053711104,"z":-0.9478229880362399},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":597632353,"__type":"UnixWrapper"},"v":{"position":{"x":0.01503170430623122,"y":0.444132585192491,"z":-0.8960647865692025},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597765736,"__type":"UnixWrapper"},"v":{"position":{"x":0.16703371402315667,"y":0.4586880097976358,"z":-0.8750143471601456},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":597657238,"__type":"UnixWrapper"},"v":{"position":{"x":0.03365002508273811,"y":0.41745209859752647,"z":-0.9089501015487083},"properties":"[]","__type":"ActorDelta"}},"h":3,"k":{"unix":597589153,"__type":"UnixWrapper"},"v":{"position":{"x":-0.046794570219151975,"y":0.4229603719514565,"z":-0.9084155511565111},"properties":"[]","__type":"ActorDelta"}},"h":4,"k":{"unix":597301185,"__type":"UnixWrapper"},"v":{"position":{"x":-0.22859244099081644,"y":0.05323338170236815,"z":-0.9722774861570206},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Car\\"}]","maxSpeed":70,"color":"#007dff","__type":"ActorDelta"}},"r":{"l":{"l":{"l":{"h":1,"k":{"unix":597924003,"__type":"UnixWrapper"},"v":{"position":{"x":0.4638754577343643,"y":0.45937850064882607,"z":-0.7693707212128618},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":598035488,"__type":"UnixWrapper"},"v":{"position":{"x":0.6174170232463853,"y":0.36296271904556104,"z":-0.7049127171734926},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":597986713,"__type":"UnixWrapper"},"v":{"position":{"x":0.5043802991384079,"y":0.4120454046868171,"z":-0.7645160888088824},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":598136022,"__type":"UnixWrapper"},"v":{"position":{"x":0.7443002704964299,"y":0.35619263065327483,"z":-0.565292600606683},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":598235562,"__type":"UnixWrapper"},"v":{"position":{"x":0.7841068074399475,"y":0.38330750286026893,"z":-0.49690806444196617},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":598195746,"__type":"UnixWrapper"},"v":{"position":{"x":0.7935603691726758,"y":0.36417074043385356,"z":-0.5033976195101121},"properties":"[]","__type":"ActorDelta"}},"h":3,"k":{"unix":598082271,"__type":"UnixWrapper"},"v":{"position":{"x":0.7224188811737629,"y":0.3540046046240271,"z":-0.6472784749063407},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":598323155,"__type":"UnixWrapper"},"v":{"position":{"x":0.768664682995215,"y":0.46016846901482333,"z":-0.44739937642158817},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":598530198,"__type":"UnixWrapper"},"v":{"position":{"x":0.7533453677417566,"y":0.4847584075502996,"z":-0.4448503684439977},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":599321944,"__type":"UnixWrapper"},"v":{"position":{"x":-0.6256926834863911,"y":0.5864189742994972,"z":-0.5461249841024268},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":598835784,"__type":"UnixWrapper"},"v":{"position":{"x":0.7105397653443298,"y":0.5076176701328619,"z":-0.5206616835153718},"properties":"[]","__type":"ActorDelta"}},"h":3,"k":{"unix":598388852,"__type":"UnixWrapper"},"v":{"position":{"x":0.7533453677417566,"y":0.4847584075502996,"z":-0.4448503684439977},"properties":"[{\\"key\\":\\"Stand\\",\\"value\\":\\"Star Platinum - The World\\"},{\\"key\\":\\"Dio\\",\\"value\\":\\"Killed him\\"}]","color":"#007dff","__type":"ActorDelta"}},"h":4,"k":{"unix":598280354,"__type":"UnixWrapper"},"v":{"position":{"x":0.777058367189175,"y":0.42131352073224626,"z":-0.4878555159902237},"properties":"[]","__type":"ActorDelta"}},"h":5,"k":{"unix":597881618,"__type":"UnixWrapper"},"v":{"position":{"x":0.4059075430540378,"y":0.5557854072025741,"z":-0.7499108330288978},"properties":"[]","__type":"ActorDelta"}}}',id:"1"},{loreId:"0",states:'{"root":{"l":{"l":{"l":{"l":{"l":{"h":1,"k":{"unix":-1554581091,"__type":"UnixWrapper"},"v":{"name":"Joseph Joestar","position":{"x":0.618560062894904,"y":0.7857042766501507,"z":0.005827179543191008},"properties":"[]","color":"#b100ff","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":-985283667,"__type":"UnixWrapper"},"v":{"position":{"x":0.5797557925004855,"y":0.676086975239431,"z":0.4526029038181982},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":-985581383,"__type":"UnixWrapper"},"v":{"position":{"x":0.618560062894904,"y":0.7857042766501507,"z":0.005827179543191008},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Ship\\"}]","maxSpeed":37,"color":"#b100ff","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":-976958208,"__type":"UnixWrapper"},"v":{"position":{"x":0.2148753841042625,"y":0.6621128106997334,"z":0.7223151783256684},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Ship\\"}]","maxSpeed":28,"color":"#b100ff","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":-976002764,"__type":"UnixWrapper"},"v":{"position":{"x":0.785215001057959,"y":0.6179865394006046,"z":-0.02766730100015056},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":-976200119,"__type":"UnixWrapper"},"v":{"position":{"x":0.8042410343354905,"y":0.579683460767553,"z":0.12338237140883254},"properties":"[]","__type":"ActorDelta"}},"h":3,"k":{"unix":-984999383,"__type":"UnixWrapper"},"v":{"position":{"x":0.2221389450796363,"y":0.6645697188583698,"z":0.7134305121255512},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\" \\"}]","maxSpeed":4,"color":"#b100ff","__type":"ActorDelta"}},"r":{"l":{"l":{"h":1,"k":{"unix":-975725340,"__type":"UnixWrapper"},"v":{"position":{"x":0.7242984372416668,"y":0.6711762511566695,"z":-0.15778444621974483},"properties":"[{\\"key\\":\\"Status\\",\\"value\\":\\"Wedding Rings of Death\\"}]","color":"#b100ff","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":-975524945,"__type":"UnixWrapper"},"v":{"position":{"x":0.6936120592809396,"y":0.7078040396354653,"z":-0.13378142797893594},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Foot\\"},{\\"key\\":\\"Lisa Lisa\\",\\"value\\":\\"Trainer\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"Breathing Mask\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"Started\\"}]","maxSpeed":4,"color":"#b100ff","__type":"ActorDelta"}},"h":2,"k":{"unix":-975546943,"__type":"UnixWrapper"},"v":{"position":{"x":0.7242828880364276,"y":0.671199715905727,"z":-0.1577560054070709},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Car\\"}]","maxSpeed":70,"color":"#b100ff","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":-973450800,"__type":"UnixWrapper"},"v":{"position":{"x":0.7229996069199952,"y":0.7381255739190835,"z":-0.13918012084772305},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Car\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Status\\",\\"value\\":\\"Wedding Ring of Death: Esidisi\'s ring removed\\"}]","maxSpeed":70,"color":"#b100ff","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":-973347225,"__type":"UnixWrapper"},"v":{"position":{"x":0.6974304636308601,"y":0.7507971428659859,"z":-0.1267758759084674},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Car\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Status\\",\\"value\\":\\"Wedding Rings of Death: Both ring removed\\"},{\\"key\\":\\"Caesar Zeppeli\\",\\"value\\":\\"Dead (SHIIIIIZAAAA!)\\"}]","maxSpeed":70,"color":"#b100ff","__type":"ActorDelta"}},"h":2,"k":{"unix":-973435121,"__type":"UnixWrapper"},"v":{"position":{"x":0.7041893318045672,"y":0.7580622499486613,"z":-0.128015275238705},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Foot\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"}]","maxSpeed":4,"color":"#b100ff","__type":"ActorDelta"}},"h":3,"k":{"unix":-975157745,"__type":"UnixWrapper"},"v":{"position":{"x":0.6935885685692653,"y":0.7078365616007114,"z":-0.13373113843691176},"properties":"[{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"Done\\"}]","color":"#b100ff","__type":"ActorDelta"}},"h":4,"k":{"unix":-975856179,"__type":"UnixWrapper"},"v":{"position":{"x":0.7265959281212588,"y":0.6732773725933885,"z":-0.15830337462494953},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"None\\"}]","maxSpeed":4,"color":"#b100ff","__type":"ActorDelta"}},"r":{"l":{"l":{"l":{"h":1,"k":{"unix":-973270778,"__type":"UnixWrapper"},"v":{"position":{"x":0.6889915394239263,"y":0.7114478445935801,"z":-0.13825462307536251},"properties":"[{\\"key\\":\\"Status\\",\\"value\\":\\"Fighting Kars\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Left Hand\\",\\"value\\":\\"Lost\\"}]","color":"#b100ff","__type":"ActorDelta"}},"h":2,"k":{"unix":-973259630,"__type":"UnixWrapper"},"v":{"position":{"x":0.6942143763915243,"y":0.7072486042767245,"z":-0.13359464486372744},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Foot\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Status\\",\\"value\\":\\"Healing\\"}]","maxSpeed":4,"color":"#b100ff","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":-971969601,"__type":"UnixWrapper"},"v":{"position":{"x":0.6941296820253189,"y":0.7073656069128685,"z":-0.13341514331038884},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Ship\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"}]","maxSpeed":26,"color":"#b100ff","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":-971799616,"__type":"UnixWrapper"},"v":{"position":{"x":0.7678820906142226,"y":0.5955193914291689,"z":-0.23441243494572112},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":-971868841,"__type":"UnixWrapper"},"v":{"position":{"x":0.7182950944572277,"y":0.655308300733433,"z":-0.23207461856041509},"properties":"[]","__type":"ActorDelta"}},"h":3,"k":{"unix":-972065456,"__type":"UnixWrapper"},"v":{"position":{"x":0.6941358826970965,"y":0.7073570438777557,"z":-0.13342828262837916},"properties":"[{\\"key\\":\\"Status\\",\\"value\\":\\"Normal\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"}]","color":"#b100ff","__type":"ActorDelta"}},"r":{"l":{"l":{"h":1,"k":{"unix":-971625169,"__type":"UnixWrapper"},"v":{"position":{"x":0.7784732963829424,"y":0.6213477389290425,"z":-0.0772404021052213},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":-971449799,"__type":"UnixWrapper"},"v":{"position":{"x":0.8119667675776966,"y":0.5826943689115234,"z":0.07938158114390685},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":-971519024,"__type":"UnixWrapper"},"v":{"position":{"x":0.806502269125756,"y":0.5889505459750826,"z":0.027406383592019374},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":-970503724,"__type":"UnixWrapper"},"v":{"position":{"x":0.2193905467151691,"y":0.6568920295189986,"z":0.7213476050717454},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Foot\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"}]","maxSpeed":4,"color":"#b100ff","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":387462732,"__type":"UnixWrapper"},"v":{"position":{"x":0.23199790188612698,"y":0.6649521399806577,"z":0.7102305485889808},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Plane\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"}]","maxSpeed":400,"color":"#b100ff","__type":"ActorDelta"}},"h":2,"k":{"unix":-967553647,"__type":"UnixWrapper"},"v":{"position":{"x":0.22096958869766709,"y":0.6580707013295685,"z":0.7197896294742697},"properties":"[{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Left Hand\\",\\"value\\":\\"Robotic\\"}]","color":"#b100ff","__type":"ActorDelta"}},"h":3,"k":{"unix":-970959686,"__type":"UnixWrapper"},"v":{"position":{"x":0.6313024900704672,"y":0.5677337867191221,"z":0.5264933798437815},"properties":"[]","__type":"ActorDelta"}},"h":4,"k":{"unix":-971724853,"__type":"UnixWrapper"},"v":{"position":{"x":0.7843113663674329,"y":0.5968196571466943,"z":-0.16702520091762046},"properties":"[]","__type":"ActorDelta"}},"h":5,"k":{"unix":-973303825,"__type":"UnixWrapper"},"v":{"position":{"x":0.693186771274902,"y":0.7450550513570087,"z":-0.15651699496166643},"properties":"[{\\"key\\":\\"Status\\",\\"value\\":\\"Racing With Wamuu\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"}]","color":"#b100ff","__type":"ActorDelta"}},"r":{"l":{"l":{"l":{"l":{"h":1,"k":{"unix":387823124,"__type":"UnixWrapper"},"v":{"position":{"x":-0.5707458333508595,"y":0.5771522744281478,"z":-0.595434263601815},"properties":"[{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Plane\\"},{\\"key\\":\\"Status\\",\\"value\\":\\"Normal\\"}]","maxSpeed":400,"color":"#b100ff","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":453303626,"__type":"UnixWrapper"},"v":{"position":{"x":0.18741354509309968,"y":0.5996664530249961,"z":0.7775035360327793},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Plane\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"}]","maxSpeed":400,"color":"#b100ff","__type":"ActorDelta"}},"h":2,"k":{"unix":387929188,"__type":"UnixWrapper"},"v":{"position":{"x":0.11219482870872584,"y":0.5151574811975473,"z":0.8499628798192566},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Foot\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"}]","maxSpeed":4,"color":"#b100ff","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":453650521,"__type":"UnixWrapper"},"v":{"position":{"x":0.789409378623538,"y":0.4362790533166595,"z":-0.4309627140365368},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Plane\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"}]","maxSpeed":400,"color":"#b100ff","__type":"ActorDelta"}},"h":3,"k":{"unix":453487277,"__type":"UnixWrapper"},"v":{"position":{"x":0.7920349384278266,"y":0.4359068159143013,"z":-0.4360624322347938},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Foot\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"}]","maxSpeed":4,"color":"#b100ff","__type":"ActorDelta"}},"r":{"l":{"r":{"h":1,"k":{"unix":595765990,"__type":"UnixWrapper"},"v":{"position":{"x":0.11219482870872584,"y":0.5151574811975473,"z":0.8499628798192566},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":529702429,"__type":"UnixWrapper"},"v":{"position":{"x":0.11219482870872584,"y":0.5151574811975473,"z":0.8499628798192566},"properties":"[{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Stand\\",\\"value\\":\\"Hermit Purple\\"}]","color":"#b100ff","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":596606897,"__type":"UnixWrapper"},"v":{"position":{"x":-0.621979923602192,"y":0.5790768731396474,"z":-0.5274682518636031},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Foot\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"}]","maxSpeed":4,"color":"#b100ff","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":596745178,"__type":"UnixWrapper"},"v":{"position":{"x":-0.5134134229376895,"y":0.40690374268357443,"z":-0.7534724840426998},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":596727143,"__type":"UnixWrapper"},"v":{"position":{"x":-0.621979923602192,"y":0.5790768731396474,"z":-0.5274682518636031},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Plane\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"}]","maxSpeed":400,"color":"#b100ff","__type":"ActorDelta"}},"h":3,"k":{"unix":596439869,"__type":"UnixWrapper"},"v":{"position":{"x":0.749669795492812,"y":0.4877750725631382,"z":-0.44643713625012155},"properties":"[]","__type":"ActorDelta"}},"h":4,"k":{"unix":453801522,"__type":"UnixWrapper"},"v":{"position":{"x":0.24714755635636404,"y":0.6611455371871636,"z":0.7078418639470214},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"l":{"l":{"h":1,"k":{"unix":597064381,"__type":"UnixWrapper"},"v":{"position":{"x":-0.37863008090735084,"y":0.2045588046396251,"z":-0.9015845622277672},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597408311,"__type":"UnixWrapper"},"v":{"position":{"x":-0.16240662191619123,"y":0.14614519824661204,"z":-0.9754491839653404},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":597301186,"__type":"UnixWrapper"},"v":{"position":{"x":-0.22883364017852095,"y":0.04874976790675146,"z":-0.973060887698524},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Car\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"}]","maxSpeed":70,"color":"#b100ff","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":597555211,"__type":"UnixWrapper"},"v":{"position":{"x":-0.03387903026327647,"y":0.3857821362201541,"z":-0.9221909573267676},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597632353,"__type":"UnixWrapper"},"v":{"position":{"x":0.018783643420039277,"y":0.44642656415781024,"z":-0.895510671891227},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":597589153,"__type":"UnixWrapper"},"v":{"position":{"x":-0.046091235335540416,"y":0.42934065273624145,"z":-0.917170348666514},"properties":"[]","__type":"ActorDelta"}},"h":3,"k":{"unix":597479660,"__type":"UnixWrapper"},"v":{"position":{"x":-0.09209819609082723,"y":0.3019234822678034,"z":-0.9484701225887497},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"l":{"l":{"h":1,"k":{"unix":597765736,"__type":"UnixWrapper"},"v":{"position":{"x":0.1688529044333463,"y":0.4589334900228025,"z":-0.8752102279090392},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597924003,"__type":"UnixWrapper"},"v":{"position":{"x":0.4594963447635007,"y":0.4569906307597108,"z":-0.7757109131736646},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":597881618,"__type":"UnixWrapper"},"v":{"position":{"x":0.40803068011003596,"y":0.5509572786670395,"z":-0.7499282252828366},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":598035488,"__type":"UnixWrapper"},"v":{"position":{"x":0.6149641948500576,"y":0.36008095918937677,"z":-0.7085255088745707},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":598136022,"__type":"UnixWrapper"},"v":{"position":{"x":0.7574863301804288,"y":0.36052834467170713,"z":-0.5638603732733503},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":598082271,"__type":"UnixWrapper"},"v":{"position":{"x":0.7188155508025026,"y":0.3516601195112878,"z":-0.6506834270428892},"properties":"[]","__type":"ActorDelta"}},"h":3,"k":{"unix":597986713,"__type":"UnixWrapper"},"v":{"position":{"x":0.5086667855588594,"y":0.40872844908132827,"z":-0.7742574037670263},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"l":{"h":1,"k":{"unix":598235562,"__type":"UnixWrapper"},"v":{"position":{"x":0.785571689317351,"y":0.38200355602549024,"z":-0.49559676739973546},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":598323155,"__type":"UnixWrapper"},"v":{"position":{"x":0.7665965377013139,"y":0.46246344635647857,"z":-0.44857989918235786},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":598280354,"__type":"UnixWrapper"},"v":{"position":{"x":0.7767905968637853,"y":0.4224724125371813,"z":-0.48727940908847495},"properties":"[]","__type":"ActorDelta"}},"r":{"r":{"h":1,"k":{"unix":599321944,"__type":"UnixWrapper"},"v":{"position":{"x":0.23334010848758346,"y":0.6777295205766858,"z":0.699286570364329},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":598535175,"__type":"UnixWrapper"},"v":{"position":{"x":0.753593068328113,"y":0.4852912611938014,"z":-0.4438487200276404},"properties":"[]","__type":"ActorDelta"}},"h":3,"k":{"unix":598388852,"__type":"UnixWrapper"},"v":{"position":{"x":0.753593068328113,"y":0.4852912611938014,"z":-0.4438487200276404},"properties":"[]","__type":"ActorDelta"}},"h":4,"k":{"unix":598195746,"__type":"UnixWrapper"},"v":{"position":{"x":0.7932781304997922,"y":0.36267997419202697,"z":-0.5084297761180203},"properties":"[]","__type":"ActorDelta"}},"h":5,"k":{"unix":597657238,"__type":"UnixWrapper"},"v":{"position":{"x":0.0338755490717386,"y":0.4161712410967855,"z":-0.9095288951847568},"properties":"[]","__type":"ActorDelta"}},"h":6,"k":{"unix":596773231,"__type":"UnixWrapper"},"v":{"position":{"x":-0.35211784191118456,"y":0.37581031151670713,"z":-0.8594909510018747},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Ship\\"},{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"}]","maxSpeed":24,"color":"#b100ff","__type":"ActorDelta"}},"h":7,"k":{"unix":387601548,"__type":"UnixWrapper"},"v":{"position":{"x":-0.5707458333508595,"y":0.5771522744281478,"z":-0.595434263601815},"properties":"[{\\"key\\":\\"Accessory\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Hell Climb Pillar\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Foot\\"},{\\"key\\":\\"Status\\",\\"value\\":\\"Cheats his wife\\"},{\\"key\\":\\"Tomoko Higashikata\\",\\"value\\":\\"Lover\\"}]","maxSpeed":4,"color":"#b100ff","__type":"ActorDelta"}}}',id:"2"},{loreId:"0",states:'{"root":{"l":{"l":{"l":{"l":{"h":1,"k":{"unix":50828640,"__type":"UnixWrapper"},"v":{"name":"Noriaki Kakyoin","position":{"x":-0.6184848407594572,"y":0.5783829002879628,"z":-0.5319113417078896},"properties":"[]","color":"#56e600","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":596719777,"__type":"UnixWrapper"},"v":{"position":{"x":-0.6184848407594572,"y":0.5783829002879628,"z":-0.5319113417078896},"properties":"[{\\"key\\":\\"Jotaro\\",\\"value\\":\\"Friend\\"},{\\"key\\":\\"Dio\\",\\"value\\":\\"Enemy\\"}]","color":"#56e600","__type":"ActorDelta"}},"h":2,"k":{"unix":596705340,"__type":"UnixWrapper"},"v":{"position":{"x":-0.6184848407594572,"y":0.5783829002879628,"z":-0.5319113417078896},"properties":"[{\\"key\\":\\"Jotaro\\",\\"value\\":\\"Tries to assassinate him\\"},{\\"key\\":\\"Dio\\",\\"value\\":\\"Flesh Buddies\\"},{\\"key\\":\\"Stand\\",\\"value\\":\\"Hierophant Green\\"}]","color":"#56e600","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":596745178,"__type":"UnixWrapper"},"v":{"position":{"x":-0.5117111201627339,"y":0.4092438192129266,"z":-0.7541425538376357},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597064381,"__type":"UnixWrapper"},"v":{"position":{"x":-0.3788534372999901,"y":0.20215617904266114,"z":-0.9020325481332637},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":596773231,"__type":"UnixWrapper"},"v":{"position":{"x":-0.35320559696296716,"y":0.37804245749139026,"z":-0.8601245533440748},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Ship\\"}]","maxSpeed":24,"color":"#56e600","__type":"ActorDelta"}},"h":3,"k":{"unix":596726646,"__type":"UnixWrapper"},"v":{"position":{"x":-0.6184848407594572,"y":0.5783829002879628,"z":-0.5319113417078896},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Plane\\"}]","maxSpeed":400,"color":"#56e600","__type":"ActorDelta"}},"r":{"l":{"l":{"h":1,"k":{"unix":597410501,"__type":"UnixWrapper"},"v":{"position":{"x":-0.15859807604826975,"y":0.14794612471568228,"z":-0.9764068831941038},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597555211,"__type":"UnixWrapper"},"v":{"position":{"x":-0.03310760628828599,"y":0.3897328053566125,"z":-0.9211954693503868},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":597479660,"__type":"UnixWrapper"},"v":{"position":{"x":-0.08905052988149004,"y":0.30495691993704793,"z":-0.9484108219562659},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":597632353,"__type":"UnixWrapper"},"v":{"position":{"x":0.015334113680388908,"y":0.4430954262360199,"z":-0.8972291647752612},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597765736,"__type":"UnixWrapper"},"v":{"position":{"x":0.16653182382419043,"y":0.45948406183740287,"z":-0.8746922934722656},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":597657238,"__type":"UnixWrapper"},"v":{"position":{"x":0.03200357538663464,"y":0.41490136276201034,"z":-0.9095297891955622},"properties":"[]","__type":"ActorDelta"}},"h":3,"k":{"unix":597589153,"__type":"UnixWrapper"},"v":{"position":{"x":-0.04641085971005824,"y":0.4209322018104427,"z":-0.9054819456462978},"properties":"[]","__type":"ActorDelta"}},"h":4,"k":{"unix":597302281,"__type":"UnixWrapper"},"v":{"position":{"x":-0.23604561264260573,"y":0.04441162304279145,"z":-0.9703326835690433},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Car\\"}]","maxSpeed":70,"color":"#56e600","__type":"ActorDelta"}},"r":{"l":{"l":{"h":1,"k":{"unix":597924003,"__type":"UnixWrapper"},"v":{"position":{"x":0.46134296368176925,"y":0.46130789800707966,"z":-0.7674241857107933},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":598035488,"__type":"UnixWrapper"},"v":{"position":{"x":0.6130120184723205,"y":0.36444521455248047,"z":-0.707150410116824},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":597986713,"__type":"UnixWrapper"},"v":{"position":{"x":0.5130768193527366,"y":0.41937875848007394,"z":-0.7694893659944826},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"l":{"h":1,"k":{"unix":598136022,"__type":"UnixWrapper"},"v":{"position":{"x":0.750190960154617,"y":0.3583156651423683,"z":-0.5655560603652623},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":598235562,"__type":"UnixWrapper"},"v":{"position":{"x":0.7848916652788672,"y":0.38198434083570804,"z":-0.4978761813707973},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":598195746,"__type":"UnixWrapper"},"v":{"position":{"x":0.7929122315087207,"y":0.36275157570770566,"z":-0.5089491926489648},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":598324151,"__type":"UnixWrapper"},"v":{"position":{"x":0.7705408351419952,"y":0.45727872923999313,"z":-0.4510731723231074},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":598537166,"__type":"UnixWrapper"},"v":{"position":{"x":0.7568111130352358,"y":0.483273659878247,"z":-0.44455434824420875},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":598388852,"__type":"UnixWrapper"},"v":{"position":{"x":0.7568111130352358,"y":0.483273659878247,"z":-0.44455434824420875},"properties":"[{\\"key\\":\\"Status\\",\\"value\\":\\"Dead\\"}]","color":"#e60000","__type":"ActorDelta"}},"h":3,"k":{"unix":598280354,"__type":"UnixWrapper"},"v":{"position":{"x":0.776769317801408,"y":0.417891964827782,"z":-0.48882444605000586},"properties":"[]","__type":"ActorDelta"}},"h":4,"k":{"unix":598082271,"__type":"UnixWrapper"},"v":{"position":{"x":0.7127155410294231,"y":0.3538194843991034,"z":-0.6478467385452257},"properties":"[]","__type":"ActorDelta"}},"h":5,"k":{"unix":597881618,"__type":"UnixWrapper"},"v":{"position":{"x":0.40495879075269564,"y":0.5574813224677614,"z":-0.7515604427359666},"properties":"[]","__type":"ActorDelta"}}}',id:"3"},{loreId:"0",states:'{"root":{"l":{"l":{"l":{"l":{"h":1,"k":{"unix":-298935666,"__type":"UnixWrapper"},"v":{"name":"Muhammad Avdol","position":{"x":0.7869729785473538,"y":0.43276728017106336,"z":-0.43971967736508333},"properties":"[]","color":"#e63100","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":595574862,"__type":"UnixWrapper"},"v":{"position":{"x":0.7451900708545937,"y":0.5013669191591853,"z":-0.43964798769579216},"properties":"[{\\"key\\":\\"DIO\\",\\"value\\":\\"Enemy\\"}]","color":"#e63100","__type":"ActorDelta"}},"h":2,"k":{"unix":453447063,"__type":"UnixWrapper"},"v":{"position":{"x":0.7869729785473538,"y":0.43276728017106336,"z":-0.43971967736508333},"properties":"[{\\"key\\":\\"Joseph Joestar\\",\\"value\\":\\"Friend\\"},{\\"key\\":\\"Stand\\",\\"value\\":\\"Magicians Red\\"}]","color":"#e63100","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":596611077,"__type":"UnixWrapper"},"v":{"position":{"x":-0.6198044977569623,"y":0.5838278892144881,"z":-0.5314808754725187},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Foot\\"}]","maxSpeed":4,"color":"#e63100","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":596745178,"__type":"UnixWrapper"},"v":{"position":{"x":-0.5104308331242919,"y":0.4118571032956159,"z":-0.7551462759985055},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":596726646,"__type":"UnixWrapper"},"v":{"position":{"x":-0.6198044977569623,"y":0.5838278892144881,"z":-0.5314808754725187},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Plane\\"}]","maxSpeed":400,"color":"#e63100","__type":"ActorDelta"}},"h":3,"k":{"unix":596448330,"__type":"UnixWrapper"},"v":{"position":{"x":0.7503687841719162,"y":0.4934434907664084,"z":-0.4398040376952312},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Plane\\"}]","maxSpeed":400,"color":"#e63100","__type":"ActorDelta"}},"r":{"l":{"l":{"h":1,"k":{"unix":597064381,"__type":"UnixWrapper"},"v":{"position":{"x":-0.37504393219111554,"y":0.20544915990738866,"z":-0.9035309247233283},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597407216,"__type":"UnixWrapper"},"v":{"position":{"x":-0.1617699281542524,"y":0.13975659983951302,"z":-0.9776949672895023},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":597303375,"__type":"UnixWrapper"},"v":{"position":{"x":-0.23383638971921003,"y":0.04466514704670352,"z":-0.9738838545324899},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Car\\"}]","maxSpeed":70,"color":"#e63100","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":597555211,"__type":"UnixWrapper"},"v":{"position":{"x":-0.03453526925325176,"y":0.3909514175372993,"z":-0.9199870169717652},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597632353,"__type":"UnixWrapper"},"v":{"position":{"x":0.015720962569588333,"y":0.4435260679602201,"z":-0.8970096678924859},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":597589153,"__type":"UnixWrapper"},"v":{"position":{"x":-0.046094419892622904,"y":0.42881559078834686,"z":-0.9174157945508653},"properties":"[]","__type":"ActorDelta"}},"h":3,"k":{"unix":597479660,"__type":"UnixWrapper"},"v":{"position":{"x":-0.09044927229822168,"y":0.3063185077865399,"z":-0.9472187399115206},"properties":"[]","__type":"ActorDelta"}},"h":4,"k":{"unix":596773231,"__type":"UnixWrapper"},"v":{"position":{"x":-0.3499700718338128,"y":0.37585098573572945,"z":-0.8610349470136471},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Ship\\"}]","maxSpeed":24,"color":"#e63100","__type":"ActorDelta"}},"r":{"l":{"l":{"l":{"h":1,"k":{"unix":597765736,"__type":"UnixWrapper"},"v":{"position":{"x":0.166245032623801,"y":0.45792381322396625,"z":-0.8755646350206899},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597924003,"__type":"UnixWrapper"},"v":{"position":{"x":0.45904064119279053,"y":0.459675035777997,"z":-0.7697809681539759},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":597881618,"__type":"UnixWrapper"},"v":{"position":{"x":0.4110492582002551,"y":0.5479731175733301,"z":-0.7448814947381043},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":598035488,"__type":"UnixWrapper"},"v":{"position":{"x":0.6107894117810347,"y":0.3660565836999475,"z":-0.7082405126199748},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":598136022,"__type":"UnixWrapper"},"v":{"position":{"x":0.752132591323573,"y":0.35755496992115426,"z":-0.5697292009014436},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":598082271,"__type":"UnixWrapper"},"v":{"position":{"x":0.7157815681915449,"y":0.35728431322447335,"z":-0.6434821220674941},"properties":"[]","__type":"ActorDelta"}},"h":3,"k":{"unix":597986713,"__type":"UnixWrapper"},"v":{"position":{"x":0.5025350238592106,"y":0.41540673985172333,"z":-0.7608159106966459},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":598235562,"__type":"UnixWrapper"},"v":{"position":{"x":0.7858739834267858,"y":0.3789732537769057,"z":-0.4998115695886409},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":598325146,"__type":"UnixWrapper"},"v":{"position":{"x":0.7709969631218252,"y":0.45502550785003204,"z":-0.452569874924349},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":598541147,"__type":"UnixWrapper"},"v":{"position":{"x":0.7552199107564762,"y":0.4844977148209322,"z":-0.4446025950354783},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":598388852,"__type":"UnixWrapper"},"v":{"position":{"x":0.7552199107564762,"y":0.4844977148209322,"z":-0.4446025950354783},"properties":"[{\\"key\\":\\"Status\\",\\"value\\":\\"Dead\\"}]","color":"#ff0000","__type":"ActorDelta"}},"h":3,"k":{"unix":598280354,"__type":"UnixWrapper"},"v":{"position":{"x":0.7766600190585982,"y":0.4181837494467397,"z":-0.4887485784081102},"properties":"[]","__type":"ActorDelta"}},"h":4,"k":{"unix":598195746,"__type":"UnixWrapper"},"v":{"position":{"x":0.7969176919272896,"y":0.3605419822007399,"z":-0.5065929526098238},"properties":"[]","__type":"ActorDelta"}},"h":5,"k":{"unix":597657238,"__type":"UnixWrapper"},"v":{"position":{"x":0.03293028450374444,"y":0.4149120490627413,"z":-0.9101387003210085},"properties":"[]","__type":"ActorDelta"}}}',id:"4"},{loreId:"0",states:'{"root":{"l":{"l":{"h":1,"k":{"unix":-3238131862,"__type":"UnixWrapper"},"v":{"name":"Dio Brando","position":{"x":0.6065717329338253,"y":0.7957014410131484,"z":0.022777521643283623},"properties":"[]","color":"#e6da00","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":-2575357462,"__type":"UnixWrapper"},"v":{"position":{"x":0.623684048998424,"y":0.7826480374853905,"z":0.00831398593656645},"properties":"[{\\"key\\":\\"George Joestar\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Vampire\\",\\"value\\":\\"With the stone Mask\\"},{\\"key\\":\\"Status\\",\\"value\\":\\"Only a head\\"}]","color":"#e6da00","__type":"ActorDelta"}},"h":2,"k":{"unix":-2796282262,"__type":"UnixWrapper"},"v":{"position":{"x":0.623684048998424,"y":0.7826480374853905,"z":0.00831398593656645},"properties":"[{\\"key\\":\\"George Joestar\\",\\"value\\":\\"Step-father\\"}]","color":"#e6da00","__type":"ActorDelta"}},"r":{"l":{"l":{"h":1,"k":{"unix":-2553137699,"__type":"UnixWrapper"},"v":{"position":{"x":0.6438245900571481,"y":0.7624156612392667,"z":0.04766573513301776},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":413471583,"__type":"UnixWrapper"},"v":{"position":{"x":0.841602341118117,"y":0.4680585242548864,"z":0.2658692965872078},"properties":"[{\\"key\\":\\"George Joestar\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Status\\",\\"value\\":\\"Using Jonathan Joestars body\\"},{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Foot\\"}]","maxSpeed":4,"color":"#e6da00","__type":"ActorDelta"}},"h":2,"k":{"unix":-2552821961,"__type":"UnixWrapper"},"v":{"position":{"x":0.6110396602864135,"y":0.684821215287003,"z":0.3931096787435652},"properties":"[{\\"key\\":\\"George Joestar\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Status\\",\\"value\\":\\"Merging with Jonathan Joestars body\\"},{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Coffin\\"}]","maxSpeed":2,"color":"#e6da00","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":529702429,"__type":"UnixWrapper"},"v":{"position":{"x":0.7894457382900258,"y":0.4437359701007979,"z":-0.4342114310615547},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":598386862,"__type":"UnixWrapper"},"v":{"position":{"x":0.7507667709321508,"y":0.48833043542239035,"z":-0.44265382306631446},"properties":"[{\\"key\\":\\"George Joestar\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Status\\",\\"value\\":\\"Dead\\"}]","color":"#ff0000","__type":"ActorDelta"}},"h":2,"k":{"unix":598235562,"__type":"UnixWrapper"},"v":{"position":{"x":0.7507667709321508,"y":0.48833043542239035,"z":-0.44265382306631446},"properties":"[]","__type":"ActorDelta"}},"h":3,"k":{"unix":524923764,"__type":"UnixWrapper"},"v":{"position":{"x":0.7871079402506654,"y":0.4451947162445832,"z":-0.43424276234447173},"properties":"[{\\"key\\":\\"George Joestar\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Stand\\",\\"value\\":\\"The World\\"}]","color":"#e6da00","__type":"ActorDelta"}},"h":4,"k":{"unix":-2553184283,"__type":"UnixWrapper"},"v":{"position":{"x":0.623684048998424,"y":0.7826480374853905,"z":0.00831398593656645},"properties":"[{\\"key\\":\\"George Joestar\\",\\"value\\":\\"__FORGET__\\"},{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Ship\\"}]","maxSpeed":26,"color":"#e6da00","__type":"ActorDelta"}}}',id:"5"},{loreId:"0",states:'{"root":{"l":{"l":{"l":{"l":{"h":1,"k":{"unix":-128110796,"__type":"UnixWrapper"},"v":{"name":"Jean Pierre Polnareff","position":{"x":0.6612996796548316,"y":0.7497957175576033,"z":-0.021665032432389708},"properties":"[]","color":"#b2b2b2","__type":"ActorDelta"}},"h":2,"k":{"unix":534634538,"__type":"UnixWrapper"},"v":{"position":{"x":0.7896666875440939,"y":0.44396693752733374,"z":-0.4335730995989522},"properties":"[{\\"key\\":\\"DIO\\",\\"value\\":\\"Met\\"}]","color":"#b2b2b2","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":534851134,"__type":"UnixWrapper"},"v":{"position":{"x":0.7289256949244387,"y":0.6677567640821578,"z":-0.17393325144689664},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Foot\\"},{\\"key\\":\\"Job\\",\\"value\\":\\"Investigates Diavolo\\"}]","maxSpeed":4,"color":"#b2b2b2","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":596639845,"__type":"UnixWrapper"},"v":{"position":{"x":0.7289256949244387,"y":0.6677567640821578,"z":-0.17393325144689664},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":596629494,"__type":"UnixWrapper"},"v":{"position":{"x":0.7289256949244387,"y":0.6677567640821578,"z":-0.17393325144689664},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Plane\\"}]","maxSpeed":400,"color":"#b2b2b2","__type":"ActorDelta"}},"h":3,"k":{"unix":534813907,"__type":"UnixWrapper"},"v":{"position":{"x":0.7904319602813896,"y":0.44394412286986895,"z":-0.43219981914055233},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Plane\\"}]","maxSpeed":400,"color":"#b2b2b2","__type":"ActorDelta"}},"r":{"l":{"l":{"h":1,"k":{"unix":596772036,"__type":"UnixWrapper"},"v":{"position":{"x":-0.34599995653091126,"y":0.3776368983086613,"z":-0.8584345306590595},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Ship\\"},{\\"key\\":\\"DIO\\",\\"value\\":\\"Enemy\\"},{\\"key\\":\\"Job\\",\\"value\\":\\"Avenge his sister\\"}]","maxSpeed":24,"color":"#b2b2b2","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597308850,"__type":"UnixWrapper"},"v":{"position":{"x":-0.22127505994153224,"y":0.04843900641868874,"z":-0.9742190809045296},"properties":"[{\\"key\\":\\"Vehicle\\",\\"value\\":\\"Car\\"}]","maxSpeed":70,"color":"#b2b2b2","__type":"ActorDelta"}},"h":2,"k":{"unix":597064381,"__type":"UnixWrapper"},"v":{"position":{"x":-0.3722892717902071,"y":0.20741659641827934,"z":-0.9042203790844312},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":597479660,"__type":"UnixWrapper"},"v":{"position":{"x":-0.09204839259212119,"y":0.3034456901732333,"z":-0.94798905418149},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597589153,"__type":"UnixWrapper"},"v":{"position":{"x":-0.04724920679387858,"y":0.42381952037507886,"z":-0.907991491277691},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":597555211,"__type":"UnixWrapper"},"v":{"position":{"x":-0.03721383762360066,"y":0.3867940598614528,"z":-0.9229150027641905},"properties":"[]","__type":"ActorDelta"}},"h":3,"k":{"unix":597408311,"__type":"UnixWrapper"},"v":{"position":{"x":-0.15800559674236755,"y":0.14777369546228364,"z":-0.976529043818428},"properties":"[]","__type":"ActorDelta"}},"h":4,"k":{"unix":596737026,"__type":"UnixWrapper"},"v":{"position":{"x":-0.34640717100295165,"y":0.3780813469487993,"z":-0.8594448399310273},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"l":{"l":{"h":1,"k":{"unix":597657238,"__type":"UnixWrapper"},"v":{"position":{"x":0.03200978415630951,"y":0.41675551022813184,"z":-0.907386347695231},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":597881618,"__type":"UnixWrapper"},"v":{"position":{"x":0.40648429459620344,"y":0.5591586302160851,"z":-0.7446794252593611},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":597765736,"__type":"UnixWrapper"},"v":{"position":{"x":0.16659219052973387,"y":0.4614156207332066,"z":-0.874337956190038},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":597986713,"__type":"UnixWrapper"},"v":{"position":{"x":0.5134493368294435,"y":0.4156400726364027,"z":-0.7751358193626497},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":598082271,"__type":"UnixWrapper"},"v":{"position":{"x":0.715502342916103,"y":0.35203292871449865,"z":-0.6485452051070774},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":598035488,"__type":"UnixWrapper"},"v":{"position":{"x":0.6073348793284187,"y":0.36597641533565606,"z":-0.7104154759199984},"properties":"[]","__type":"ActorDelta"}},"h":3,"k":{"unix":597924003,"__type":"UnixWrapper"},"v":{"position":{"x":0.45677718343715046,"y":0.4583936731154854,"z":-0.770352764865648},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"l":{"h":1,"k":{"unix":598195746,"__type":"UnixWrapper"},"v":{"position":{"x":0.79570426074056,"y":0.3626433914871408,"z":-0.5081719825913797},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":598235562,"__type":"UnixWrapper"},"v":{"position":{"x":0.7868036851271847,"y":0.379328916554495,"z":-0.49926252746737004},"properties":"[]","__type":"ActorDelta"}},"r":{"l":{"h":1,"k":{"unix":598325146,"__type":"UnixWrapper"},"v":{"position":{"x":0.7713941800412307,"y":0.45805601941034685,"z":-0.4461846722704023},"properties":"[]","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":599321944,"__type":"UnixWrapper"},"v":{"position":{"x":0.6634097003693142,"y":0.7494334220381127,"z":-0.04671375682517838},"properties":"[]","__type":"ActorDelta"}},"h":2,"k":{"unix":598388852,"__type":"UnixWrapper"},"v":{"position":{"x":0.7545579463657726,"y":0.48496171152336137,"z":-0.44256779257648815},"properties":"[{\\"key\\":\\"Job\\",\\"value\\":\\"Passione\\"},{\\"key\\":\\"Status\\",\\"value\\":\\"Lost 2 legs and 2 fingers and 1 eye\\"}]","color":"#b2b2b2","__type":"ActorDelta"}},"h":3,"k":{"unix":598280354,"__type":"UnixWrapper"},"v":{"position":{"x":0.7778128915088613,"y":0.4201511858200042,"z":-0.4864364713535539},"properties":"[]","__type":"ActorDelta"}},"h":4,"k":{"unix":598136022,"__type":"UnixWrapper"},"v":{"position":{"x":0.748969946260211,"y":0.35917786885084013,"z":-0.5666264449588859},"properties":"[]","__type":"ActorDelta"}},"h":5,"k":{"unix":597632353,"__type":"UnixWrapper"},"v":{"position":{"x":0.0164343256711176,"y":0.44519671559296603,"z":-0.8961688810050964},"properties":"[]","__type":"ActorDelta"}}}',id:"6"},{loreId:"0",states:'{"root":{"l":{"h":1,"k":{"unix":-861837819,"__type":"UnixWrapper"},"v":{"name":"Holy Joestar","position":{"x":0.21610688803552972,"y":0.6579442628262413,"z":0.722492924446038},"properties":"[]","color":"#fff4aa","__type":"ActorDelta"}},"r":{"h":1,"k":{"unix":596740504,"__type":"UnixWrapper"},"v":{"position":{"x":-0.6210682714904617,"y":0.5780333584571232,"z":-0.5296824008328525},"properties":"[{\\"key\\":\\"Stand\\",\\"value\\":\\"Unnamed, cannot control\\"},{\\"key\\":\\"Status\\",\\"value\\":\\"Sick\\"}]","color":"#ffec87","__type":"ActorDelta"}},"h":2,"k":{"unix":-70217512,"__type":"UnixWrapper"},"v":{"name":"Kujo Holy","position":{"x":-0.6239210410626392,"y":0.5872724669782479,"z":-0.5384403917815624},"properties":"[{\\"key\\":\\"Husband\\",\\"value\\":\\"Kujo Sadao\\"}]","color":"#fff4aa","__type":"ActorDelta"}}}',id:"7"}],c=function(){function e(e,t){this.name=e,this.radius=t}return e.DEFAULT_NAME="Earth",e.DEFAULT_RADIUS=6371,e}(),p=n("ZwlM"),d=n("6HfZ"),h=n("3w/k"),b=function(){return new h.a},f=function(e){return d.TypedJSON.stringifyAsArray(e,h.a)},y=function(e){return d.TypedJSON.parseAsArray(e,h.a)},m=function(){function e(e,t,n,r,o){void 0===n&&(n=new Array),this.properties=[],this.name=e,this.position=t,this.properties=n,this.maxSpeed=r,this.color=o}return r.__decorate([d.jsonMember,r.__metadata("design:type",String)],e.prototype,"name",void 0),r.__decorate([d.jsonMember,r.__metadata("design:type",Object)],e.prototype,"position",void 0),r.__decorate([Object(d.jsonArrayMember)(b,{isRequired:!0,serializer:f,deserializer:y}),r.__metadata("design:type",Array)],e.prototype,"properties",void 0),r.__decorate([d.jsonMember,r.__metadata("design:type",Number)],e.prototype,"maxSpeed",void 0),r.__decorate([d.jsonMember,r.__metadata("design:type",String)],e.prototype,"color",void 0),r.__decorate([d.jsonObject,d.toJson,r.__metadata("design:paramtypes",[String,Object,Array,Number,String])],e)}();n.d(t,"a",function(){return i}),n.d(t,"h",function(){return a}),n.d(t,"c",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return p.a}),n.d(t,"b",function(){return m})},mNvP:function(e,t){var n;!function(e){!function(t){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=o(e);function o(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===n.Reflect?n.Reflect=e:r=o(n.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",i="function"==typeof Object.create,a={__proto__:[]}instanceof Array,l=!i&&!a,u={create:i?function(){return P(Object.create(null))}:a?function(){return P({__proto__:null})}:function(){return P({})},has:l?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:l?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},s=Object.getPrototypeOf(Function),c="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=c||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}():Map,d=c||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}():Set,h=new(c||"function"!=typeof WeakMap?function(){var e=16,n=u.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+l()}while(u.has(n,e));return n[e]=!0,e}function i(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function l(){var t,n=(t=e,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t):a(new Array(t),t));n[6]=79&n[6]|64,n[8]=191&n[8]|128;for(var r="",o=0;o<e;++o){var i=n[o];4!==o&&6!==o&&8!==o||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}():WeakMap);function b(e,t,n){var r=h.get(e);if(v(r)){if(!n)return;r=new p,h.set(e,r)}var o=r.get(t);if(v(o)){if(!n)return;o=new p,r.set(t,o)}return o}function f(e,t,n){var r=b(t,n,!1);return!v(r)&&!!r.has(e)}function y(e,t,n){var r=b(t,n,!1);if(!v(r))return r.get(e)}function m(e,t,n,r){b(n,r,!0).set(e,t)}function g(e,t){var n=[],r=b(e,t,!1);if(v(r))return n;for(var i=function(e){var t=S(e,o);if(!j(t))throw new TypeError;var n=t.call(e);if(!E(n))throw new TypeError;return n}(r.keys()),a=0;;){var l=C(i);if(!l)return n.length=a,n;var u=l.value;try{n[a]=u}catch(s){try{A(i)}finally{throw s}}a++}}function _(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function v(e){return void 0===e}function x(e){return null===e}function E(e){return"object"==typeof e?null!==e:"function"==typeof e}function O(e){var t=function(e,t){switch(_(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=S(e,r);if(void 0!==n){var o=n.call(e,"string");if(E(o))throw new TypeError;return o}return function(e,t){var n,r,o=e.toString;if(j(o)&&!E(r=o.call(e)))return r;if(j(n=e.valueOf)&&!E(r=n.call(e)))return r;throw new TypeError}(e)}(e);return"symbol"==typeof t?t:""+t}function w(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function j(e){return"function"==typeof e}function k(e){return"function"==typeof e}function S(e,t){var n=e[t];if(null!=n){if(!j(n))throw new TypeError;return n}}function C(e){var t=e.next();return!t.done&&t}function A(e){var t=e.return;t&&t.call(e)}function D(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===s)return t;if(t!==s)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o?t:o===e?t:o}function P(e){return e.__=void 0,delete e.__,e}e("decorate",function(e,t,n,r){if(v(n)){if(!w(e))throw new TypeError;if(!k(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!v(r)&&!x(r)){if(!k(r))throw new TypeError;t=r}}return t}(e,t)}if(!w(e))throw new TypeError;if(!E(t))throw new TypeError;if(!E(r)&&!v(r)&&!x(r))throw new TypeError;return x(r)&&(r=void 0),function(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,n,r);if(!v(i)&&!x(i)){if(!E(i))throw new TypeError;r=i}}return r}(e,t,n=O(n),r)}),e("metadata",function(e,t){return function(n,r){if(!E(n))throw new TypeError;if(!v(r)&&!function(e){switch(_(r)){case 3:case 4:return!0;default:return!1}}())throw new TypeError;m(e,t,n,r)}}),e("defineMetadata",function(e,t,n,r){if(!E(n))throw new TypeError;return v(r)||(r=O(r)),m(e,t,n,r)}),e("hasMetadata",function(e,t,n){if(!E(t))throw new TypeError;return v(n)||(n=O(n)),function e(t,n,r){if(f(t,n,r))return!0;var o=D(n);return!x(o)&&e(t,o,r)}(e,t,n)}),e("hasOwnMetadata",function(e,t,n){if(!E(t))throw new TypeError;return v(n)||(n=O(n)),f(e,t,n)}),e("getMetadata",function(e,t,n){if(!E(t))throw new TypeError;return v(n)||(n=O(n)),function e(t,n,r){if(f(t,n,r))return y(t,n,r);var o=D(n);return x(o)?void 0:e(t,o,r)}(e,t,n)}),e("getOwnMetadata",function(e,t,n){if(!E(t))throw new TypeError;return v(n)||(n=O(n)),y(e,t,n)}),e("getMetadataKeys",function(e,t){if(!E(e))throw new TypeError;return v(t)||(t=O(t)),function e(t,n){var r=g(t,n),o=D(t);if(null===o)return r;var i=e(o,n);if(i.length<=0)return r;if(r.length<=0)return i;for(var a=new d,l=[],u=0,s=r;u<s.length;u++)a.has(h=s[u])||(a.add(h),l.push(h));for(var c=0,p=i;c<p.length;c++){var h;a.has(h=p[c])||(a.add(h),l.push(h))}return l}(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!E(e))throw new TypeError;return v(t)||(t=O(t)),g(e,t)}),e("deleteMetadata",function(e,t,n){if(!E(t))throw new TypeError;v(n)||(n=O(n));var r=b(t,n,!1);if(v(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=h.get(t);return o.delete(n),o.size>0||(h.delete(t),!0)})}(r)}()}(n||(n={}))},oWvL:function(e,t,n){"use strict";var r=n("mrSG"),o=n("XHhg"),i=n("m6Ai"),a={title:"Actor",description:"Actor Object, describes a series of events",version:0,keyCompression:!0,type:"object",properties:{id:{type:"string",primary:!0},loreId:{type:"string",ref:"lore"},states:{type:"string"}},required:["id","loreId"]},l={title:"Lore",description:"Project object",version:0,keyCompression:!0,type:"object",properties:{id:{primary:!0,type:"string",uniqueItems:!0},name:{type:"string",uniqueItems:!0},planet:{title:"Planet",description:"Planet Object, describes a planets radius and textures",version:0,keyCompression:!0,type:"object",properties:{radius:{type:"number"},name:{type:"string"}},required:["radius"]}},attachments:{encrypted:!1},required:["id","name"]},u=(n("i6Y3"),n("p9ch")),s=n("0/uQ"),c=n("909l"),p=n("dzgT"),d=n("WbdR"),h=n("xMyE"),b=n("klSw"),f=n("VnD/"),y=n("15JJ"),m=n("67Y/"),g=n("psW0"),_=n("AytR");n.d(t,"a",function(){return v});var v=function(){function e(t){var n=this;this.storeFacade=t,this.database$=Object(s.a)(u.a.create({name:"lore",adapter:"idb"})).pipe(Object(d.a)(function(e){return Object(c.a)(e.collection({name:"lore",schema:l,statics:n.loreCollectionMethods,methods:n.loreDocumentMethods}),e.collection({name:"actor",schema:a}))}),Object(h.a)(function(e){e.actor.preSave(function(e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return Object(i.h)(e),[2]})})},!0),e.actor.preInsert(function(e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return Object(i.h)(e),[2]})})},!0),e.actor.preCreate(function(e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return Object(i.h)(e),[2]})})},!0)}),Object(d.a)(function(e){return n.initData(e)}),Object(b.a)(1)),this.currentLore$=Object(p.a)([this.storeFacade.selectedLore$.pipe(Object(f.a)(function(e){return void 0!==e})),this.database$]).pipe(Object(y.a)(function(e){var t=r.__read(e,2);return t[1].lore.findOne({id:t[0].id}).$}),Object(f.a)(function(e){return!!e}),Object(b.a)(1)),this.lores$=this.database$.pipe(Object(y.a)(function(e){return e.lore.find().$}),Object(b.a)(1)),this.allActors$=this.database$.pipe(Object(y.a)(function(e){return e.actor.find().$}),Object(b.a)(1)),this.nextActorId$=this.allActors$.pipe(Object(m.a)(function(e){return""+(e.map(function(e){return Number(e.id)}).reduce(function(e,t){return e<t?t:e},0)+1)})),this.nextLoreId$=this.lores$.pipe(Object(m.a)(function(e){return""+(e.map(function(e){return Number(e.id)}).reduce(function(e,t){return e<t?t:e},0)+1)}),Object(b.a)(1)),this.currentLoreActors$=Object(p.a)([this.currentLore$,this.allActors$]).pipe(Object(m.a)(function(e){var t=r.__read(e,2),n=t[0];return t[1].filter(function(e){return e.loreId===n.id})}),Object(m.a)(function(t){return t.map(e.actorStateMapper)}),Object(b.a)(1)),this.actorCount$=this.currentLoreActors$.pipe(Object(m.a)(function(e){return e.length}),Object(b.a)(1)),this.loreDocumentMethods={collectActors:function(e){return this.collection.database.actor.find({lore:this.name}).$.pipe(Object(m.a)(function(t){return t.map(e)}))}},this.loreCollectionMethods={countAllDocuments:function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return[4,this.find().exec()];case 1:return[2,e.sent().length]}})})}}}return e.actorStateMapper=function(e){var t,n;if(e.states){var a=e.states;a=_.a.production?(a=a.replace(new RegExp('"__type":"ActorDelta"',"g"),'"__type":"'+i.b.name+'"')).replace(new RegExp('"__type":"UnixWrapper"',"g"),'"__type":"'+i.e.name+'"'):(a=a.replace(new RegExp('"__type":"'+i.b.name+'"',"g"),'"__type":"ActorDelta"')).replace(new RegExp('"__type":"'+i.e.name+'"',"g"),'"__type":"UnixWrapper"');try{e._states=o.Tree.parse(a,i.e,i.b)}catch(c){console.log(c)}if(e._states)try{for(var l=r.__values(e._states.nodes()),u=l.next();!u.done;u=l.next()){var s=u.value;s.key.unix=Math.floor(s.key.unix),"string"==typeof s.value.properties&&(s.value.properties=JSON.parse(s.value.properties))}}catch(p){t={error:p}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}else e._states=new o.Tree;delete e.states}else e._states||(e._states=new o.Tree);return e},e.prototype.initData=function(e){return Object(c.a)(e.lore.upsert(i.g),Object(s.a)(i.f).pipe(Object(g.a)(function(t){return e.actor.upsert(t)})),Object(s.a)(fetch("assets/elev_bump_8k.jpg")).pipe(Object(y.a)(function(e){return e.blob()}))).pipe(Object(g.a)(function(e){var t=r.__read(e,3),n=t[0],o=t[2];return Object(s.a)(n.putAttachment({id:"texture",data:o,type:"image/jpeg"})).pipe(Object(m.a)(function(){return n}))}))},e}()},"v/Un":function(e,t,n){"use strict";function r(e){if(e._userdata&&e._userdata.block&&e._states){var t=e._userdata.block;t.blockStart.original=t.blockStart.override=e._states.first().key.unix,t.blockEnd.original=t.blockEnd.override=e._states.last().key.unix,t.update()}}n.d(t,"a",function(){return r})},vqgK:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n("mrSG"),o=n("RdJQ"),i=(n("EJUL"),n("YQb3")),a=(n("i6Y3"),n("F/XL")),l=n("t9fZ"),u=n("15JJ"),s=n("67Y/"),c=n("VnD/"),p=n("psW0"),d=n("aGNc"),h=n("xMyE"),b=n("9Z1F"),f=function(){function e(e,t,n,r,o){this.data=e,this.snackBar=t,this.dialog=n,this.databaseService=r,this.storeFacade=o}return e.prototype.ngOnInit=function(){},e.prototype.copyToClipboard=function(){this.textarea.nativeElement.select(),document.execCommand("copy"),this.textarea.nativeElement.setSelectionRange(0,0),this.snackBar.open("Copied to clipboard!","",{duration:1e3})},e.prototype.importDatabase=function(){var e=this;this.databaseService.database$.pipe(Object(l.a)(1),Object(u.a)(function(t){return e.dialog.open(i.a,{data:{title:"Warning!",message:"This will delete everything before importing. Are you sure you want to do this?"}}).afterClosed().pipe(Object(s.a)(function(e){return e?t:void 0}))}),Object(c.a)(function(e){return void 0!==e}),Object(u.a)(function(e){return e.lore.find().$.pipe(Object(l.a)(1),Object(p.a)(function(e){return e}),Object(u.a)(function(e){return e.remove()}),Object(d.a)(e))}),Object(u.a)(function(e){return e.actor.find().$.pipe(Object(l.a)(1),Object(p.a)(function(e){return e}),Object(u.a)(function(e){return e.remove()}),Object(d.a)(e))}),Object(u.a)(function(t){return Object(a.a)(JSON.parse(e.textarea.nativeElement.value)).pipe(Object(s.a)(function(e){return Object(o.a)(e,["_attachments"])}),Object(u.a)(function(e){return t.importDump(e)}),Object(d.a)(t))}),Object(u.a)(function(t){return t.lore.find().$.pipe(Object(p.a)(function(e){return e}),Object(l.a)(1),Object(h.a)(function(t){return e.storeFacade.selectLore(t.toJSON())}),Object(d.a)(t))}),Object(b.a)(function(t){return e.snackBar.open("Oops, something went wrong: "+t,"",{duration:2e3}).afterDismissed()}),Object(u.a)(function(t){return e.snackBar.open("Database imported!","",{duration:2e3}).afterDismissed()})).subscribe()},e.prototype.isValid=function(){var e=!0;try{JSON.parse(this.textarea.nativeElement.value)}catch(t){e=!1}return this.textarea.nativeElement.value&&e},e.prototype.downloadTextures=function(){var e=this;this.databaseService.database$.pipe(Object(l.a)(1),Object(u.a)(function(e){return e.lore.find().$.pipe(Object(l.a)(1))}),Object(p.a)(function(e){return e}),Object(p.a)(function(e){return e.allAttachments$.pipe(Object(l.a)(1),Object(s.a)(function(t){return{attachments:t,name:e.name}}))}),Object(p.a)(function(e){var t=e.name;return a.a.apply(void 0,r.__spread(e.attachments)).pipe(Object(u.a)(function(e){return e.getData()}),Object(s.a)(function(e){return{blob:e,name:t}}))}),Object(h.a)(function(t){var n=t.blob,r=t.name,o=window.URL.createObjectURL(n);e.downloadHelper.nativeElement.href=o,e.downloadHelper.nativeElement.download=r+"."+n.type.split(/[\/_]/).pop(),e.downloadHelper.nativeElement.click(),window.URL.revokeObjectURL(o)})).subscribe()},e.prototype.onKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),this.isValid()&&this.importDatabase())},e}()},xdJh:function(e,t,n){"use strict";var r=n("mrSG"),o=n("UemR"),i=n("m6Ai"),a=n("RcFD"),l=n("/S1o"),u=(n("oWvL"),n("Womt")),s={LEFT:0,MIDDLE:1,RIGHT:2},c=function(e){function t(t,n,r){var o=e.call(this,n,r)||this;return o.engineService=t,o.enableDamping=!0,o.enableZoom=!0,o.enablePan=!1,o.zoomSpeed=6,o.dampingFactor=.2,o.minDistance=o.minZoom=10,o.maxDistance=o.maxZoom=4e3,o.rotateSpeed=.05,o.addEventListener("change",function(e){o.zoomUpdate(e.target.object.position.distanceTo(o.engineService.globe.position)),o.engineService.refreshPopupPositionQueue.next(!0)}),o.zoomUpdate(n.position.length()),o}return r.__extends(t,e),t.prototype.zoomUpdate=function(e){this.engineService.zoomSubject.next(u.D.mapLinear(e,this.minDistance,this.maxDistance,.05,2))},t}(function(e){function t(n,r){var o=e.call(this)||this;return o.object=n,o.domElement=r,o._onContextMenu=t.onContextMenu(o),o._onMouseMove=t.onMouseMove(o),o._onMouseDown=t.onMouseDown(o),o._onMouseUp=t.onMouseUp(o),o._onMouseWheel=t.onMouseWheel(o),o._onTouchStart=t.onContextMenu(o),o._onTouchEnd=t.onTouchEnd(o),o._onTouchMove=t.onTouchMove(o),o._onKeyDown=t.onKeyDown(o),o.enabled=!0,o.target=new u.ib,o.minDistance=0,o.maxDistance=1/0,o.minZoom=0,o.maxZoom=1/0,o.minPolarAngle=0,o.maxPolarAngle=Math.PI,o.minAzimuthAngle=-1/0,o.maxAzimuthAngle=1/0,o.enableDamping=!1,o.dampingFactor=.25,o.enableZoom=!0,o.zoomSpeed=1,o.enableRotate=!0,o.rotateSpeed=1,o.enablePan=!0,o.panSpeed=1,o.screenSpacePanning=!1,o.keyPanSpeed=7,o.autoRotate=!1,o.autoRotateSpeed=2,o.enableKeys=!0,o.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},o.mouseButtons={LEFT:s.LEFT,MIDDLE:s.MIDDLE,RIGHT:s.RIGHT},o.target0=o.target.clone(),o.position0=o.object.position.clone(),o.zoom0=o.object.zoom,o.changeEvent={type:"change"},o.startEvent={type:"start"},o.endEvent={type:"end"},o.state=t.STATE.NONE,o.EPS=1e-6,o.spherical=new u.cb,o.sphericalDelta=new u.cb,o.scale=1,o.panOffset=new u.ib,o.zoomChanged=!1,o.rotateStart=new u.hb,o.rotateEnd=new u.hb,o.rotateDelta=new u.hb,o.panStart=new u.hb,o.panEnd=new u.hb,o.panDelta=new u.hb,o.dollyStart=new u.hb,o.dollyEnd=new u.hb,o.dollyDelta=new u.hb,o._updateOffset=new u.ib,o._updateQuat=(new u.R).setFromUnitVectors(o.object.up,new u.ib(0,1,0)),o._updateQuatInverse=o._updateQuat.clone().inverse(),o._updateLastPosition=new u.ib,o._updateLastQuaternion=new u.R,o._panLeftV=new u.ib,o._panUpV=new u.ib,o._panOffset=new u.ib,o.domElement.addEventListener("mousedown",o._onMouseDown,!1),o.domElement.addEventListener("mousewheel",o._onMouseWheel,!1),o.domElement.addEventListener("panstart",o._onTouchStart,!1),o.domElement.addEventListener("panend",o._onTouchEnd,!1),o.domElement.addEventListener("panmove",o._onTouchMove,!1),o.update(),o}return r.__extends(t,e),Object.defineProperty(t.prototype,"center",{get:function(){return console.warn("OrbitControls: .center has been renamed end .target"),this.target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noZoom",{get:function(){return console.warn("OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noRotate",{get:function(){return console.warn("OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noPan",{get:function(){return console.warn("OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noKeys",{get:function(){return console.warn("OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"staticMoving",{get:function(){return console.warn("OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dynamicDampingFactor",{get:function(){return console.warn("OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e},enumerable:!0,configurable:!0}),t.onTouchStart=function(e){return function(n){if(!1!==e.enabled){switch(n.preventDefault(),n.touches.length){case 1:if(!1===e.enableRotate)return;e.handleTouchStartRotate(n),e.state=t.STATE.TOUCH_ROTATE;break;case 2:if(!1===e.enableZoom&&!1===e.enablePan)return;e.handleTouchStartDollyPan(n),e.state=t.STATE.TOUCH_DOLLY_PAN;break;default:e.state=t.STATE.NONE}e.state!==t.STATE.NONE&&e.dispatchEvent(e.startEvent)}}},t.onMouseDown=function(e){return function(n){if(!1!==e.enabled){switch(n.preventDefault(),e.domElement.focus?e.domElement.focus():window.focus(),n.button){case e.mouseButtons.LEFT:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===e.enablePan)return;e.handleMouseDownPan(n),e.state=t.STATE.PAN}else{if(!1===e.enableRotate)return;e.handleMouseDownRotate(n),e.state=t.STATE.ROTATE}break;case e.mouseButtons.MIDDLE:if(!1===e.enableZoom)return;e.handleMouseDownDolly(n),e.state=t.STATE.DOLLY;break;case e.mouseButtons.RIGHT:if(!1===e.enablePan)return;e.handleMouseDownPan(n),e.state=t.STATE.PAN}e.state!==t.STATE.NONE&&(document.addEventListener("mousemove",e._onMouseMove,!1),document.addEventListener("mouseup",e._onMouseUp,!1),e.dispatchEvent(e.startEvent))}}},t.onMouseMove=function(e){return function(n){if(!1!==e.enabled)switch(n.preventDefault(),e.state){case t.STATE.ROTATE:if(!1===e.enableRotate)return;e.handleMouseMoveRotate(n);break;case t.STATE.DOLLY:if(!1===e.enableZoom)return;e.handleMouseMoveDolly(n);break;case t.STATE.PAN:if(!1===e.enablePan)return;e.handleMouseMovePan(n)}}},t.onMouseUp=function(e){return function(n){!1!==e.enabled&&(e.handleMouseUp(n),document.removeEventListener("mousemove",e._onMouseMove,!1),document.removeEventListener("mouseup",e._onMouseUp,!1),e.dispatchEvent(e.endEvent),e.state=t.STATE.NONE)}},t.onMouseWheel=function(e){return function(n){!1===e.enabled||!1===e.enableZoom||e.state!==t.STATE.NONE&&e.state!==t.STATE.ROTATE||(n.preventDefault(),n.stopPropagation(),e.dispatchEvent(e.startEvent),e.handleMouseWheel(n),e.dispatchEvent(e.endEvent))}},t.onKeyDown=function(e){return function(t){!1!==e.enabled&&!1!==e.enableKeys&&!1!==e.enablePan&&e.handleKeyDown(t)}},t.onTouchMove=function(e){return function(n){if(!1!==e.enabled)switch(n.preventDefault(),n.stopPropagation(),n.touches.length){case 1:if(!1===e.enableRotate)return;if(e.state!==t.STATE.TOUCH_ROTATE)return;e.handleTouchMoveRotate(n);break;case 2:if(!1===e.enableZoom&&!1===e.enablePan)return;if(e.state!==t.STATE.TOUCH_DOLLY_PAN)return;e.handleTouchMoveDollyPan(n);break;default:e.state=t.STATE.NONE}}},t.onTouchEnd=function(e){return function(n){!1!==e.enabled&&(e.dispatchEvent(e.endEvent),e.state=t.STATE.NONE)}},t.onContextMenu=function(e){return function(t){!1!==e.enabled&&t.preventDefault()}},t.prototype.handleKeyDown=function(e){var t=!1;switch(e.keyCode){case this.keys.UP:this.pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:this.pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:this.pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:this.pan(-this.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),this.update())},t.prototype.update=function(){var e=this.object.position;return this._updateOffset.copy(e).sub(this.target),this._updateOffset.applyQuaternion(this._updateQuat),this.spherical.setFromVector3(this._updateOffset),this.autoRotate&&this.state===t.STATE.NONE&&this.rotateLeft(this.getAutoRotationAngle()),this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi,this.spherical.theta=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,this.spherical.theta)),this.spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this.spherical.phi)),this.spherical.makeSafe(),this.spherical.radius*=this.scale,this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius)),this.target.add(this.panOffset),this._updateOffset.setFromSpherical(this.spherical),this._updateOffset.applyQuaternion(this._updateQuatInverse),e.copy(this.target).add(this._updateOffset),this.object.lookAt(this.target),!0===this.enableDamping?(this.sphericalDelta.theta*=1-this.dampingFactor,this.sphericalDelta.phi*=1-this.dampingFactor,this.panOffset.multiplyScalar(1-this.dampingFactor)):(this.sphericalDelta.set(0,0,0),this.panOffset.set(0,0,0)),this.scale=1,!!(this.zoomChanged||this._updateLastPosition.distanceToSquared(this.object.position)>this.EPS||8*(1-this._updateLastQuaternion.dot(this.object.quaternion))>this.EPS)&&(this.dispatchEvent(this.changeEvent),this._updateLastPosition.copy(this.object.position),this._updateLastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0)},t.prototype.dispose=function(){this.domElement.removeEventListener("contextmenu",this._onContextMenu,!1),this.domElement.removeEventListener("mousedown",this._onMouseDown,!1),this.domElement.removeEventListener("wheel",this._onMouseWheel,!1),this.domElement.removeEventListener("touchstart",this._onTouchStart,!1),this.domElement.removeEventListener("touchend",this._onTouchEnd,!1),this.domElement.removeEventListener("touchmove",this._onTouchMove,!1),document.removeEventListener("mousemove",this._onMouseMove,!1),document.removeEventListener("mouseup",this._onMouseUp,!1),window.removeEventListener("keydown",this._onKeyDown,!1)},t.prototype.getPolarAngle=function(){return this.spherical.phi},t.prototype.getAzimuthalAngle=function(){return this.spherical.theta},t.prototype.saveState=function(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom},t.prototype.reset=function(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(this.changeEvent),this.update(),this.state=t.STATE.NONE},t.prototype.getAutoRotationAngle=function(){return 2*Math.PI/60/60*this.autoRotateSpeed},t.prototype.getZoomScale=function(){return Math.pow(.95,this.zoomSpeed)},t.prototype.rotateLeft=function(e){this.sphericalDelta.theta-=e},t.prototype.rotateUp=function(e){this.sphericalDelta.phi-=e},t.prototype.panLeft=function(e,t){this._panLeftV.setFromMatrixColumn(t,0),this._panLeftV.multiplyScalar(-e),this.panOffset.add(this._panLeftV)},t.prototype.panUp=function(e,t){!0===this.screenSpacePanning?this._panUpV.setFromMatrixColumn(t,1):(this._panUpV.setFromMatrixColumn(t,0),this._panUpV.crossVectors(this.object.up,this._panUpV)),this._panUpV.multiplyScalar(e),this.panOffset.add(this._panUpV)},t.prototype.pan=function(e,t){var n=this.domElement;if(this.object instanceof u.P){this._panOffset.copy(this.object.position).sub(this.target);var r=this._panOffset.length();r*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*e*r/n.clientHeight,this.object.matrix),this.panUp(2*t*r/n.clientHeight,this.object.matrix)}else this.object instanceof u.O?(this.panLeft(e*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrix),this.panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)},t.prototype.dollyIn=function(e){this.object instanceof u.P?this.scale/=e:this.object instanceof u.O?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*e)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},t.prototype.dollyOut=function(e){this.object instanceof u.P?this.scale*=e:this.object instanceof u.O?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/e)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},t.prototype.handleMouseDownRotate=function(e){this.rotateStart.set(e.clientX,e.clientY)},t.prototype.handleMouseDownDolly=function(e){this.dollyStart.set(e.clientX,e.clientY)},t.prototype.handleMouseDownPan=function(e){this.panStart.set(e.clientX,e.clientY)},t.prototype.handleMouseMoveRotate=function(e){this.rotateEnd.set(e.clientX,e.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed);var t=this.domElement;this.rotateLeft(2*Math.PI*this.rotateDelta.x/t.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/t.clientHeight),this.rotateStart.copy(this.rotateEnd),this.update()},t.prototype.handleMouseMoveDolly=function(e){this.dollyEnd.set(e.clientX,e.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyIn(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyOut(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update()},t.prototype.handleMouseMovePan=function(e){this.panEnd.set(e.clientX,e.clientY),this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd),this.update()},t.prototype.handleMouseUp=function(e){},t.prototype.handleMouseWheel=function(e){e.deltaY<0?this.dollyOut(this.getZoomScale()):e.deltaY>0&&this.dollyIn(this.getZoomScale()),this.update()},t.prototype.handleTouchStartRotate=function(e){this.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY)},t.prototype.handleTouchStartDollyPan=function(e){if(this.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);this.dollyStart.set(0,r)}this.enablePan&&this.panStart.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY))},t.prototype.handleTouchMoveRotate=function(e){this.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed);var t=this.domElement;this.rotateLeft(2*Math.PI*this.rotateDelta.x/t.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/t.clientHeight),this.rotateStart.copy(this.rotateEnd),this.update()},t.prototype.handleTouchMoveDollyPan=function(e){if(this.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);this.dollyEnd.set(0,r),this.dollyDelta.set(0,Math.pow(this.dollyEnd.y/this.dollyStart.y,this.zoomSpeed)),this.dollyIn(this.dollyDelta.y),this.dollyStart.copy(this.dollyEnd)}this.enablePan&&(this.panEnd.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY)),this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd)),this.update()},t.STATE={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},t}(u.t)),p=n("4aCP"),d=function(e){function t(t,n){var r=e.call(this,void 0,void 0)||this;return r.name=t,r.globe=n,r.rotateX(Math.PI/2),r.geometry=new u.bb(1,64,64,0,2*Math.PI,0,.5*Math.PI),r.material=new u.G({color:"#ff7c38",opacity:.1,transparent:!0,blending:u.a,reflectivity:0,depthTest:!1}),r.doHide(),r.castShadow=!1,r}return r.__extends(t,e),t.prototype.doShow=function(){this.visible=!0},t.prototype.doHide=function(){this.visible=!1},t.prototype.setTargetRadius=function(e){this.setTargetRadian(e/this.globe.radius)},t.prototype.setTargetRadian=function(e){this.geometry=new u.bb(1,64,64,0,2*Math.PI,0,Math.min(e,Math.PI))},t}(n("QcA2").a),h=(n("i6Y3"),n("aCrv")),b=n.n(h),f=n("DBIF"),y=(n("p9ch"),n("26FU")),m=n("909l"),g=n("vAyL"),_=n("gI3B"),v=n("K9Ia"),x=n("S5bw"),E=n("F/XL"),O=n("p0ib"),w=n("dzgT"),j=n("Rney"),k=n("psW0"),S=n("t9fZ"),C=n("VnD/"),A=n("67Y/"),D=n("ad02"),P=n("xMyE"),M=n("klSw"),T=n("S1nX"),F=n("Gi3i"),L=n("vubp"),z=n("Nzu2"),I=n("dC0D"),U=n("/PH2"),H=n("15JJ"),W=n("+3EO");n.d(t,"a",function(){return N}),u.i.prototype.computeBoundsTree=W.b,u.i.prototype.disposeBoundsTree=W.c,u.F.prototype.raycast=W.a;var R=4e3,N=function(){function e(e,t){var n,o,s=this;this.storeFacade=e,this.databaseService=t,this.canReach=(n=new u.ib,o=new u.ib,function(e,t,r,a){n.copy(e),o.copy(t);var l=s.globe?s.globe.radius:i.d.DEFAULT_RADIUS,u=Math.floor(n.angleTo(o)*l/r*3600);return u<=a?void 0:u}),this.clock=new u.k,this.raycaster=new u.W,this.popupTarget=new y.a(void 0),this.refreshPopupPositionQueue=new y.a(void 0),this.refreshPopupPositionExecutor=this.refreshPopupPositionQueue.pipe(Object(j.a)(1e3/60),Object(k.a)(function(e){return Object(m.a)(Object(g.a)(10),Object(_.a)(0,1e3/60)).pipe(Object(S.a)(5))})).subscribe(function(e){return s.refreshPopupPosition()}),this.selectedByActor=new y.a(void 0),this.selected=new y.a(void 0),this.selectedActorForwarder=this.selectedByActor.pipe(Object(C.a)(function(e){return!!s.globe}),Object(A.a)(function(e){return s.globe.findPointByActor(e)})).subscribe(function(e){return s.selected.next(e)}),this.selection$=this.selected.pipe(Object(D.a)(),Object(l.a)(function(e){return s.selectOutlineEffect.setSelection([e])},function(e){return function(){s.selectOutlineEffect.deselectObject(e)}}),Object(P.a)(function(){return s.refreshPopupPosition()}),Object(M.a)(1)),this.hovered=new v.a,this.hover$=this.hovered.pipe(Object(D.a)(),Object(l.a)(function(e){return s.hoverOutlineEffect.setSelection([e])},function(e){return function(){return s.hoverOutlineEffect.deselectObject(e)}}),Object(T.a)()),this.zoomSubject=new y.a(.5),this.drag=void 0,this.textureChange$=new x.a(1),this.dampen$=this.storeFacade.cursor$.pipe(Object(F.a)(200),Object(k.a)(function(e){return Object(E.a)(e).pipe(Object(L.a)(1e3/60),Object(z.a)(40))})),this.dampenedSpeed$=Object(O.a)(this.storeFacade.cursor$,this.dampen$).pipe(Object(I.a)(function(e,t){void 0===e.current&&(e.current=t),void 0===e.avg&&(e.avg=t),e.cache.push(Math.abs(e.current-t)),e.cache.length>20&&e.cache.shift();var n=e.cache.reduce(function(e,t){return e+t},0)/e.cache.length;return e.dampenedSpeed=Math.abs(n-e.avg),e.avg=n,e.current=t,e},{current:void 0,avg:void 0,dampenedSpeed:0,cache:[0]}),Object(A.a)(function(e){return e.avg}),Object(M.a)(1)),this.zoomSpeedLight$=Object(w.a)([this.zoomSubject,this.dampenedSpeed$]).pipe(Object(A.a)(function(e){var t=r.__read(e,2);return t[0]<=.15||Math.abs(t[1])>=R}),Object(D.a)()),this.darkToLight={from:{light:0},to:{light:1}},this.lightToDark={from:{light:1},to:{light:0}},this.light$=Object(w.a)([this.storeFacade.manualLight$,this.storeFacade.manualLightAlwaysOn$,this.zoomSpeedLight$]).pipe(Object(A.a)(function(e){var t=r.__read(e,3);return t[0]?t[1]:t[2]}),Object(A.a)(function(e){return e?s.darkToLight:s.lightToDark}),Object(a.a)({duration:1e3,easing:h.Easing.Exponential.Out}),Object(A.a)(function(e){return e.light}),Object(T.a)()),this.selection$.subscribe(),this.hover$.subscribe(),this.storeFacade.isDebugMode$.subscribe(function(e){!e&&s.globe&&s.globe.removeDebugItems()}),this.storeFacade.changeSelectedLore$.subscribe(function(){s.selected.next(void 0)}),this.storeFacade.selectedLore$.pipe(Object(D.a)(function(e,t){return e.id===t.id}),Object(U.a)(this.databaseService.database$),Object(H.a)(function(e){var t=r.__read(e,2);return t[1].lore.findOne({id:t[0].id}).$.pipe(Object(S.a)(1))}),Object(H.a)(function(e){return Object(E.a)(e.getAttachment("texture")).pipe(Object(k.a)(function(e){return e?e.getData():Object(E.a)(void 0)}),Object(A.a)(function(t){return{lore:e,att:t}}))})).subscribe(function(e){var t=e.att;s.globe.points.forEach(function(e){e.parent.remove(e)}),t?s.globe.displacementTexture.loadFromBlob(t):s.globe.displacementTexture.clear()}),this.storeFacade.interactionMode$.subscribe(function(e){s.interactionMode=e}),this.storeFacade.drawHeight$.subscribe(function(e){s.drawHeight=e}),this.storeFacade.drawSize$.subscribe(function(e){s.drawSize=e})}return e.prototype.createScene=function(e){var t=this;this.renderer=new u.lb({canvas:e,alpha:!1,logarithmicDepthBuffer:!0,antialias:!1}),this.renderer.gammaInput=!1,this.renderer.gammaOutput=!0,this.renderer.setClearColor(0,0),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.shadowMap.enabled=!0,this.stage=new p.c(this),this.globe=new p.b(this.zoomSubject,1,this.storeFacade),this.stage.add(this.globe),this.control=new c(this,this.stage.camera,this.renderer.domElement),this.globe.indicatorFrom=new d("indicator_from",this.globe),this.globe.indicatorTo=new d("indicator_to",this.globe);var n=new u.Z({uniforms:{c:{type:"f",value:.46},p:{type:"f",value:20},glowColor:{type:"c",value:new u.l("#547ec3")},viewVector:{type:"v3",value:this.stage.camera.position}},vertexShader:"\n\tuniform vec3 viewVector;\n\tuniform float c;\n\tuniform float p;\n\tvarying float intensity;\n\tvoid main()\n\t{\n\t\tvec3 vNormal = normalize( normalMatrix * normal );\n\t\tvec3 vNormalView = normalize( normalMatrix * viewVector );\n\t\tintensity = pow( c - dot(vNormal, vNormalView), p );\n\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t}",fragmentShader:"uniform vec3 glowColor;\n\tvarying float intensity;\n\tvoid main()\n\t{\n\t\tvec3 glow = glowColor * intensity;\n\t\tgl_FragColor = vec4( glow, 1.0 );\n\t}",side:u.d,blending:u.a});this.atmosphere=new u.F(new u.bb(23,60,60),n),this.stage.add(this.atmosphere),this.initializePostprocessing(),this.light$.subscribe(function(e){t.stage.background.setHex(0),t.stage.background.setScalar(.55*e+.05),t.atmosphere.scale.setScalar(.65*e+.05),t.stage.ambient.intensity=.5*e,t.stage.sun.material.opacity=.5*(1-e),t.stage.sun.directionalLight.intensity=(1-e)*t.stage.sun.directionalLightBaseIntensity}),Object(w.a)([this.dampenedSpeed$,this.light$]).subscribe(function(e){var n=r.__read(e,2);if(n[1]<.5){var o=Math.max(.05,Math.min(u.D.mapLinear(n[0],500,R+500,.05,1),1));t.stage.ambient.intensity=o/5,t.stage.sun.directionalLight.intensity=(1-.9*o)*t.stage.sun.directionalLightBaseIntensity}})},e.prototype.initializePostprocessing=function(){this.composer=new f.c(this.renderer,{stencilBuffer:!0}),this.renderPass=new f.h(this.stage,null),this.renderPass.camera=this.stage.camera,this.renderPass.renderToScreen=!1,this.godRays=new f.e(this.stage.camera,this.stage.sun,{resolutionScale:.75,blendFunction:f.a.LIGHTEN,kernelSize:f.f.SMALL,density:.98,decay:.94,weight:.3,exposure:.55,samples:60,clampMax:1}),this.bloomEffect=new f.b({blendFunction:f.a.SCREEN,kernelSize:f.f.LARGE,resolutionScale:.5,distinction:1.15}),this.vignetteEffect=new f.j({eskil:!0,offset:.05,darkness:.7}),this.toneMappingEffect=new f.i({blendFunction:f.a.NORMAL,resolution:8,adaptive:!0,distinction:3.7,adaptationRate:5,averageLuminance:1,maxLuminance:10,middleGrey:.22}),this.hoverOutlineEffect=new f.g(this.stage,this.stage.camera,{blendFunction:f.a.SCREEN,edgeStrength:9,pulseSpeed:0,visibleEdgeColor:3735408,hiddenEdgeColor:3194688,blur:4,blurriness:4,xRay:!0}),this.selectOutlineEffect=new f.g(this.stage,this.stage.camera,{blendFunction:f.a.SCREEN,edgeStrength:9,pulseSpeed:0,visibleEdgeColor:16776960,hiddenEdgeColor:2230538,blur:!1,xRay:!0}),this.selectOutlineEffect.selectionLayer=11,this.bloomEffect.blendMode.opacity.value=3.1,this.godRays.dithering=!0,this.pass=new f.d(this.stage.camera,this.godRays,this.bloomEffect,this.hoverOutlineEffect,this.selectOutlineEffect,this.vignetteEffect),this.pass.renderToScreen=!0,this.composer.addPass(this.renderPass),this.composer.addPass(this.pass)},e.prototype.spawnActor=function(e){this.raycaster.setFromCamera(e,this.stage.camera),this.raycaster.intersectObject(this.globe,!0).filter(function(e){return"Globe"===e.object.type||"Point"===e.object.type}).splice(0,1).forEach(function(e){"Globe"===e.object.type?e.object.dispatchEvent({type:"create",point:e.point}):"Point"===e.object.type&&e.object.dispatchEvent({type:"select"})})},e.prototype.intersection=function(e){this.raycaster.setFromCamera(e,this.stage.camera);var t=this.raycaster.intersectObject(this.globe,!0).filter(function(e){return"Globe"===e.object.type})[0];return t&&t.point},e.prototype.click=function(e,t){this.control.enabled=!0,this.raycaster.setFromCamera(e,this.stage.camera);var n=this.raycaster.intersectObject(this.globe,!0).filter(function(e){return"Globe"===e.object.type||"Point"===e.object.type}).shift();n&&(n.object.dispatchEvent({type:"click",point:n.point,shift:t}),"draw"===this.interactionMode?(this.control.enabled=!1,n.object.dispatchEvent({type:this.interactionMode,point:n.point,shift:t,uv:n.uv,face:n.face,mode:this.interactionMode,value:this.drawHeight,size:this.drawSize})):"Point"===n.object.type?(this.control.enabled=!1,this.selected.next(n.object)):this.selected.next(void 0))},e.prototype.context=function(e){this.raycaster.setFromCamera(e,this.stage.camera),this.raycaster.intersectObject(this.globe,!0).filter(function(e){return"Globe"===e.object.type||"Point"===e.object.type}).splice(0,1).forEach(function(e){e.object.dispatchEvent({type:"context",point:e.point})})},e.prototype.pan=function(e,t,n,r,o){this.raycaster.setFromCamera(e,this.stage.camera);var i=this.raycaster.intersectObject(this.globe,!0).filter(function(e){return"Globe"===e.object.type||"Point"===e.object.type})[0];if(i){if(r){switch(i.object.type){case"Point":this.drag=i.object,this.control.enabled=!1;break;case"Globe":this.drag=void 0,this.control.enabled=!0}void 0!==this.drag&&this.drag.dispatchEvent({type:"panstart",point:i.point}),"draw"===this.interactionMode&&(this.control.enabled=!1),2===n&&(this.control.enabled=!0)}void 0!==this.drag&&this.drag.dispatchEvent({type:"pan",point:i.point,velocity:t,final:o}),"draw"!==this.interactionMode||0!==n||this.control.enabled||i.object.dispatchEvent({type:this.interactionMode,point:i.point,uv:i.uv,face:i.face,mode:this.interactionMode,value:this.drawHeight,size:this.drawSize,final:o}),o&&void 0!==this.drag&&(this.drag.dispatchEvent({type:"panend",point:i.point}),this.drag=void 0)}o&&(this.control.enabled=!0)},e.prototype.putCurve=function(e,t){this.globe.putCurve(e,t)},e.prototype.hover=function(e){this.raycaster.setFromCamera(e,this.stage.camera);var t=this.raycaster.intersectObject(this.globe,!0).shift();this.hovered.next(t&&"Point"===t.object.type?t.object:void 0)},e.prototype.animate=function(){var e=this;this.render(),window.addEventListener("resize",function(){e.resize()})},e.prototype.refreshPopupPosition=function(){var e=this.selected.value;this.popupTarget.next(e?Object(o.a)(e.getWorldPosition(new u.ib).project(this.stage.camera)):void 0)},e.prototype.render=function(){var e=this;requestAnimationFrame(function(){return e.render()}),b.a.update(Date.now()),this.control&&this.control.update(),this.composer.render(this.clock.getDelta())},e.prototype.resize=function(){this.stage.camera.aspect=window.innerWidth/window.innerHeight,this.stage.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.composer.setSize(window.innerWidth,window.innerHeight),this.refreshPopupPosition()},e}()},yLV6:function(e,t,n){var r;!function(o,i,a,l){"use strict";var u,s=["","webkit","Moz","MS","ms","o"],c=i.createElement("div"),p="function",d=Math.round,h=Math.abs,b=Date.now;function f(e,t,n){return setTimeout(E(e,n),t)}function y(e,t,n){return!!Array.isArray(e)&&(m(e,n[t],n),!0)}function m(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==l)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function g(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),e.apply(this,arguments)}}u="function"!=typeof Object.assign?function(e){if(e===l||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==l&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var _=g(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===l)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),v=g(function(e,t){return _(e,t,!0)},"merge","Use `assign`.");function x(e,t,n){var r,o=t.prototype;(r=e.prototype=Object.create(o)).constructor=e,r._super=o,n&&u(r,n)}function E(e,t){return function(){return e.apply(t,arguments)}}function O(e,t){return typeof e==p?e.apply(t&&t[0]||l,t):e}function w(e,t){return e===l?t:e}function j(e,t,n){m(A(t),function(t){e.addEventListener(t,n,!1)})}function k(e,t,n){m(A(t),function(t){e.removeEventListener(t,n,!1)})}function S(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function C(e,t){return e.indexOf(t)>-1}function A(e){return e.trim().split(/\s+/g)}function D(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function P(e){return Array.prototype.slice.call(e,0)}function M(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var a=t?e[i][t]:e[i];D(o,a)<0&&r.push(e[i]),o[i]=a,i++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function T(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<s.length;){if((r=(n=s[i])?n+o:t)in e)return r;i++}return l}var F=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}var z="ontouchstart"in o,I=T(o,"PointerEvent")!==l,U=z&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),H=25,W=1,R=4,N=8,V=1,$=2,J=4,B=8,q=16,Y=$|J,G=B|q,X=Y|G,K=["x","y"],Z=["clientX","clientY"];function Q(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){O(e.options.enable,[e])&&n.handler(t)},this.init()}function ee(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,i=t&W&&r-o==0,a=t&(R|N)&&r-o==0;n.isFirst=!!i,n.isFinal=!!a,i&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=te(t)),o>1&&!n.firstMultiple?n.firstMultiple=te(t):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,u=a?a.center:i.center,s=t.center=ne(r);t.timeStamp=b(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=ae(u,s),t.distance=ie(u,s),function(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},i=e.prevInput||{};t.eventType!==W&&i.eventType!==R||(o=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}(n,t),t.offsetDirection=oe(t.deltaX,t.deltaY);var c,p,d=re(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=h(d.x)>h(d.y)?d.x:d.y,t.scale=a?(c=a.pointers,ie((p=r)[0],p[1],Z)/ie(c[0],c[1],Z)):1,t.rotation=a?function(e,t){return ae(r[1],r[0],Z)+ae(e[1],e[0],Z)}(a.pointers):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,o,i,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(t.eventType!=N&&(u>H||a.velocity===l)){var s=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,p=re(u,s,c);r=p.x,o=p.y,n=h(p.x)>h(p.y)?p.x:p.y,i=oe(s,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=i}(n,t);var f=e.element;S(t.srcEvent.target,f)&&(f=t.srcEvent.target),t.target=f}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function te(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:b(),pointers:t,center:ne(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ne(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,r=0,o=0;o<t;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:d(n/t),y:d(r/t)}}function re(e,t,n){return{x:t/e||0,y:n/e||0}}function oe(e,t){return e===t?V:h(e)>=h(t)?e<0?$:J:t<0?B:q}function ie(e,t,n){n||(n=K);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function ae(e,t,n){return n||(n=K),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}Q.prototype={handler:function(){},init:function(){this.evEl&&j(this.element,this.evEl,this.domHandler),this.evTarget&&j(this.target,this.evTarget,this.domHandler),this.evWin&&j(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(L(this.element),this.evWin,this.domHandler)}};var le={mousedown:W,mousemove:2,mouseup:R},ue="mousedown",se="mousemove mouseup";function ce(){this.evEl=ue,this.evWin=se,this.pressed=!1,Q.apply(this,arguments)}x(ce,Q,{handler:function(e){var t=le[e.type];t&W&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=R),this.pressed&&(t&R&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var pe={pointerdown:W,pointermove:2,pointerup:R,pointercancel:N,pointerout:N},de={2:"touch",3:"pen",4:"mouse",5:"kinect"},he="pointerdown",be="pointermove pointerup pointercancel";function fe(){this.evEl=he,this.evWin=be,Q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(he="MSPointerDown",be="MSPointerMove MSPointerUp MSPointerCancel"),x(fe,Q,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),o=pe[r],i=de[e.pointerType]||e.pointerType,a="touch"==i,l=D(t,e.pointerId,"pointerId");o&W&&(0===e.button||a)?l<0&&(t.push(e),l=t.length-1):o&(R|N)&&(n=!0),l<0||(t[l]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(l,1))}});var ye={touchstart:W,touchmove:2,touchend:R,touchcancel:N},me="touchstart",ge="touchstart touchmove touchend touchcancel";function _e(){this.evTarget=me,this.evWin=ge,this.started=!1,Q.apply(this,arguments)}x(_e,Q,{handler:function(e){var t=ye[e.type];if(t===W&&(this.started=!0),this.started){var n=(function(e,t){var n=P(e.touches),r=P(e.changedTouches);return t&(R|N)&&(n=M(n.concat(r),"identifier",!0)),[n,r]}).call(this,e,t);t&(R|N)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var ve={touchstart:W,touchmove:2,touchend:R,touchcancel:N},xe="touchstart touchmove touchend touchcancel";function Ee(){this.evTarget=xe,this.targetIds={},Q.apply(this,arguments)}x(Ee,Q,{handler:function(e){var t=ve[e.type],n=(function(e,t){var n=P(e.touches),r=this.targetIds;if(t&(2|W)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=P(e.changedTouches),l=[],u=this.target;if(i=n.filter(function(e){return S(e.target,u)}),t===W)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&l.push(a[o]),t&(R|N)&&delete r[a[o].identifier],o++;return l.length?[M(i.concat(l),"identifier",!0),l]:void 0}).call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var Oe=2500;function we(){Q.apply(this,arguments);var e=E(this.handler,this);this.touch=new Ee(this.manager,e),this.mouse=new ce(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function je(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},Oe)}}x(we,Q,{handler:function(e,t,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)(function(e,t){e&W?(this.primaryTouch=t.changedPointers[0].identifier,je.call(this,t)):e&(R|N)&&je.call(this,t)}).call(this,t,n);else if(r&&(function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(t-o.x),a=Math.abs(n-o.y);if(i<=25&&a<=25)return!0}return!1}).call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ke=T(c.style,"touchAction"),Se=ke!==l,Ce=function(){if(!Se)return!1;var e={},t=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||o.CSS.supports("touch-action",n)}),e}();function Ae(e,t){this.manager=e,this.set(t)}Ae.prototype={set:function(e){"compute"==e&&(e=this.compute()),Se&&this.manager.element.style&&Ce[e]&&(this.manager.element.style[ke]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,function(t){O(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(C(e,"none"))return"none";var t=C(e,"pan-x"),n=C(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":C(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,o=C(r,"none")&&!Ce.none,i=C(r,"pan-y")&&!Ce["pan-y"],a=C(r,"pan-x")&&!Ce["pan-x"];if(o&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;if(!a||!i)return o||i&&n&Y||a&&n&G?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var De=1,Pe=2,Me=4,Te=8,Fe=Te,Le=16;function ze(e){this.options=u({},this.defaults,e||{}),this.id=F++,this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=De,this.simultaneous={},this.requireFail=[]}function Ie(e){return e&Le?"cancel":e&Te?"end":e&Me?"move":e&Pe?"start":""}function Ue(e){return e==q?"down":e==B?"up":e==$?"left":e==J?"right":""}function He(e,t){var n=t.manager;return n?n.get(e):e}function We(){ze.apply(this,arguments)}function Re(){We.apply(this,arguments),this.pX=null,this.pY=null}function Ne(){We.apply(this,arguments)}function Ve(){ze.apply(this,arguments),this._timer=null,this._input=null}function $e(){We.apply(this,arguments)}function Je(){We.apply(this,arguments)}function Be(){ze.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function qe(e,t){return(t=t||{}).recognizers=w(t.recognizers,qe.defaults.preset),new Ye(e,t)}function Ye(e,t){var n;this.options=u({},qe.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(I?fe:U?Ee:z?we:ce))(n,ee),this.touchAction=new Ae(this,this.options.touchAction),Ge(this,!0),m(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function Ge(e,t){var n,r=e.element;r.style&&(m(e.options.cssProps,function(o,i){n=T(r.style,i),t?(e.oldCssProps[n]=r.style[n],r.style[n]=o):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}ze.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(y(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=He(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return y(e,"dropRecognizeWith",this)?this:(e=He(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(y(e,"requireFailure",this))return this;var t=this.requireFail;return-1===D(t,e=He(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(y(e,"dropRequireFailure",this))return this;e=He(e,this);var t=D(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<Te&&r(t.options.event+Ie(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=Te&&r(t.options.event+Ie(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|De)))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!O(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(Fe|Le|32)&&(this.state=De),this.state=this.process(t),this.state&(Pe|Me|Te|Le)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},x(We,ze,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(Pe|Me),o=this.attrTest(e);return r&&(n&N||!o)?t|Le:r||o?n&R?t|Te:t&Pe?t|Me:Pe:32}}),x(Re,We,{defaults:{event:"pan",threshold:10,pointers:1,direction:X},getTouchAction:function(){var e=this.options.direction,t=[];return e&Y&&t.push("pan-y"),e&G&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,o=e.direction,i=e.deltaX,a=e.deltaY;return o&t.direction||(t.direction&Y?(o=0===i?V:i<0?$:J,n=i!=this.pX,r=Math.abs(e.deltaX)):(o=0===a?V:a<0?B:q,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=o,n&&r>t.threshold&&o&t.direction},attrTest:function(e){return We.prototype.attrTest.call(this,e)&&(this.state&Pe||!(this.state&Pe)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ue(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),x(Ne,We,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Pe)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),x(Ve,ze,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(R|N)&&!o)this.reset();else if(e.eventType&W)this.reset(),this._timer=f(function(){this.state=Fe,this.tryEmit()},t.time,this);else if(e.eventType&R)return Fe;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===Fe&&(e&&e.eventType&R?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=b(),this.manager.emit(this.options.event,this._input)))}}),x($e,We,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Pe)}}),x(Je,We,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Y|G,pointers:1},getTouchAction:function(){return Re.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Y|G)?t=e.overallVelocity:n&Y?t=e.overallVelocityX:n&G&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&e.eventType&R},emit:function(e){var t=Ue(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),x(Be,ze,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&W&&0===this.count)return this.failTimeout();if(r&&o&&n){if(e.eventType!=R)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||ie(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&i?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=f(function(){this.state=Fe,this.tryEmit()},t.interval,this),Pe):Fe}return 32},failTimeout:function(){return this._timer=f(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Fe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),qe.VERSION="2.0.7",qe.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[$e,{enable:!1}],[Ne,{enable:!1},["rotate"]],[Je,{direction:Y}],[Re,{direction:Y},["swipe"]],[Be],[Be,{event:"doubletap",taps:2},["tap"]],[Ve]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ye.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,o=t.curRecognizer;(!o||o&&o.state&Fe)&&(o=t.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===t.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&n.state&(Pe|Me|Te)&&(o=t.curRecognizer=n),i++}},get:function(e){if(e instanceof ze)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(y(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(y(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=D(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==l&&t!==l){var n=this.handlers;return m(A(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==l){var n=this.handlers;return m(A(e),function(e){t?n[e]&&n[e].splice(D(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Ge(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(qe,{INPUT_START:W,INPUT_MOVE:2,INPUT_END:R,INPUT_CANCEL:N,STATE_POSSIBLE:De,STATE_BEGAN:Pe,STATE_CHANGED:Me,STATE_ENDED:Te,STATE_RECOGNIZED:Fe,STATE_CANCELLED:Le,STATE_FAILED:32,DIRECTION_NONE:V,DIRECTION_LEFT:$,DIRECTION_RIGHT:J,DIRECTION_UP:B,DIRECTION_DOWN:q,DIRECTION_HORIZONTAL:Y,DIRECTION_VERTICAL:G,DIRECTION_ALL:X,Manager:Ye,Input:Q,TouchAction:Ae,TouchInput:Ee,MouseInput:ce,PointerEventInput:fe,TouchMouseInput:we,SingleTouchInput:_e,Recognizer:ze,AttrRecognizer:We,Tap:Be,Pan:Re,Swipe:Je,Pinch:Ne,Rotate:$e,Press:Ve,on:j,off:k,each:m,merge:v,extend:_,assign:u,inherit:x,bindFn:E,prefixed:T}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=qe,(r=(function(){return qe}).call(t,n,t,e))===l||(e.exports=r)}(window,document)},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("CcnG"),o=n("AytR"),i=n("mrSG"),a=n("Wh65"),l=n("p9ch"),u=function(){function e(){this.success=!0,l.a.plugin(a)}return e.prototype.init=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){return[2,this.success]})})},e}(),s=function(){return function(){}}(),c=n("ZYCi"),p=function(e){function t(t){var n=e.call(this)||this;return n.router=t,n.title="Lore",n.loaded=!1,n.teardown=n.router.events.pipe().subscribe(function(e){e instanceof c.b&&(n.loaded=!0)}),n}return i.__extends(t,e),t.prototype.ngOnInit=function(){},t}(n("0agC").a),d=n("LRuX"),h=n("6Sbd"),b=n("PpoC"),f=n("ARN0"),y=n("pMnS"),m=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),g=r.sb({encapsulation:0,styles:[['[_nghost-%COMP%]{position:absolute;display:grid;width:100vw;height:100vh;background-color:#121212}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]{justify-self:center;align-self:center;width:64px;height:64px}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation:1.2s cubic-bezier(.5,0,.5,1) infinite lds-roller;animation:1.2s cubic-bezier(.5,0,.5,1) infinite lds-roller;-webkit-transform-origin:32px 32px;transform-origin:32px 32px}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;width:6px;height:6px;border-radius:50%;background:#bababa;margin:-3px 0 0 -3px}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-36ms;animation-delay:-36ms}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1):after{top:50px;left:50px}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-72ms;animation-delay:-72ms}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:54px;left:45px}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-108ms;animation-delay:-108ms}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:57px;left:39px}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-144ms;animation-delay:-144ms}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:58px;left:32px}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.18s;animation-delay:-.18s}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:57px;left:25px}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-216ms;animation-delay:-216ms}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:54px;left:19px}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-252ms;animation-delay:-252ms}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:50px;left:14px}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-288ms;animation-delay:-288ms}[_nghost-%COMP%]   .lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:45px;left:10px}@-webkit-keyframes lds-roller{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes lds-roller{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}']],data:{}});function _(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,8,"div",[["class","lds-roller"]],null,null,null,null,null)),(e()(),r.ub(1,0,null,null,0,"div",[],null,null,null,null,null)),(e()(),r.ub(2,0,null,null,0,"div",[],null,null,null,null,null)),(e()(),r.ub(3,0,null,null,0,"div",[],null,null,null,null,null)),(e()(),r.ub(4,0,null,null,0,"div",[],null,null,null,null,null)),(e()(),r.ub(5,0,null,null,0,"div",[],null,null,null,null,null)),(e()(),r.ub(6,0,null,null,0,"div",[],null,null,null,null,null)),(e()(),r.ub(7,0,null,null,0,"div",[],null,null,null,null,null)),(e()(),r.ub(8,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}var v=n("Ip0R"),x=r.sb({encapsulation:0,styles:[[""]],data:{}});function E(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,1,"app-loading",[],null,null,null,_,g)),r.tb(1,114688,null,0,m,[],null,null)],function(e,t){e(t,1,0)},null)}function O(e){return r.Nb(2,[(e()(),r.jb(16777216,null,null,1,null,E)),r.tb(1,16384,null,0,v.k,[r.S,r.P],{ngIf:[0,"ngIf"]},null),(e()(),r.ub(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.tb(3,212992,null,0,c.r,[c.c,r.S,r.j,[8,null],r.h],null,null)],function(e,t){e(t,1,0,!t.component.loaded),e(t,3,0)},null)}function w(e){return r.Nb(0,[(e()(),r.ub(0,0,null,null,1,"app-root",[],null,null,null,O,x)),r.tb(1,245760,null,0,p,[c.p],null,null)],function(e,t){e(t,1,0)},null)}var j=r.qb("app-root",p,w,{},{},[]),k=n("gIcY"),S=n("9Bt9"),C=n("qAlS"),A=n("eDkP"),D=n("Fzqc"),P=n("yGQT"),M=n("jYNz"),T=n("A5yv"),F=n("AtLt"),L=n("ZYjt"),z=n("yLV6"),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overrides={pan:{direction:z.DIRECTION_ALL,threshold:0,domEvents:!0,options:{domEvents:!0}},swipe:{velocity:.4,threshold:20,domEvents:!0,options:{domEvents:!0}}},t}return i.__extends(t,e),t.ngInjectableDef=r.Pb({factory:function(){return new t},token:t,providedIn:"root"}),t}(L.g),U=n("NSYL"),H=n("wFw1"),W=n("ihYY"),R=n("Wf4p"),N=n("hR/J"),V=n("dWZg"),$=n("vGXY"),J=n("OiBZ"),B=n("Z4CC"),q=n("LWQm"),Y=n("Hf/j"),G=n("4c35"),X=n("x6f4"),K=n("PCNd"),Z=n("+sEA"),Q=n("xpud"),ee=n("U/X8"),te=[{"app-lore":["scene"]}];function ne(e){return Object(ee.localStorageSync)({keys:te,rehydrate:!0})(e)}i.__spread([ne],o.a.production?[]:[Q.storeFreeze]);var re=function(){function e(e){this.router=e,this._valid=!0}return e.prototype.canLoad=function(e){return this.valid(e.path)},e.prototype.valid=function(e){return this._valid},e.ngInjectableDef=r.Pb({factory:function(){return new e(r.Tb(c.p))},token:e,providedIn:"root"}),e}(),oe=function(){return function(){}}(),ie=function(){return function(){}}(),ae=n("jbVo"),le=r.rb(s,[p],function(e){return r.Bb([r.Cb(512,r.j,r.eb,[[8,[d.a,h.a,b.a,f.a,y.a,j]],[3,r.j],r.z]),r.Cb(5120,r.w,r.ob,[[3,r.w]]),r.Cb(4608,v.m,v.l,[r.w,[2,v.B]]),r.Cb(4608,k.s,k.s,[]),r.Cb(4608,k.e,k.e,[]),r.Cb(4608,S.a,S.a,[v.d,r.B,C.e,S.c]),r.Cb(4608,A.a,A.a,[A.g,A.c,r.j,A.f,A.d,r.s,r.B,v.d,D.b,[2,v.g]]),r.Cb(5120,A.h,A.i,[A.a]),r.Cb(5120,c.a,c.C,[c.p]),r.Cb(4608,c.i,c.i,[]),r.Cb(6144,c.k,null,[c.i]),r.Cb(135680,c.s,c.s,[c.p,r.y,r.i,r.s,c.k]),r.Cb(4608,c.j,c.j,[]),r.Cb(5120,c.H,c.y,[c.p,v.t,c.l]),r.Cb(5120,c.m,c.F,[c.D]),r.Cb(5120,r.b,function(e){return[e]},[c.m]),r.Cb(135680,P.m,P.m,[P.a,P.j,P.l,P.e]),r.Cb(4608,M.a,M.a,[P.l]),r.Cb(5120,T.c,T.d,[T.j,T.g]),r.Cb(5120,F.e,F.h,[F.c,r.D]),r.Cb(4608,F.b,F.b,[F.e]),r.Cb(4608,F.d,F.d,[F.e]),r.Cb(5120,r.kb,r.pb,[r.B]),r.Cb(5120,r.c,r.lb,[]),r.Cb(5120,r.u,r.mb,[]),r.Cb(5120,r.v,r.nb,[]),r.Cb(4608,L.b,L.k,[v.d]),r.Cb(6144,r.K,null,[L.b]),r.Cb(4608,L.e,I,[]),r.Cb(5120,L.c,function(e,t,n,r,o,i,a,l){return[new L.i(e,t,n),new L.n(r),new L.m(o,i,a,l)]},[v.d,r.B,r.D,v.d,v.d,L.e,r.fb,[2,L.f]]),r.Cb(4608,L.d,L.d,[L.c,r.B]),r.Cb(135680,L.l,L.l,[v.d]),r.Cb(4608,L.j,L.j,[L.d,L.l,r.c]),r.Cb(5120,U.a,H.e,[]),r.Cb(5120,U.c,H.f,[]),r.Cb(4608,U.b,H.d,[v.d,U.a,U.c]),r.Cb(5120,r.I,H.g,[L.j,U.b,r.B]),r.Cb(6144,L.o,null,[L.l]),r.Cb(4608,r.Q,r.Q,[r.B]),r.Cb(4608,W.b,H.c,[r.I,v.d]),r.Cb(4608,R.c,N.a,[R.h]),r.Cb(1073742336,v.c,v.c,[]),r.Cb(1073742336,k.r,k.r,[]),r.Cb(1073742336,k.i,k.i,[]),r.Cb(1073742336,k.p,k.p,[]),r.Cb(1073742336,D.a,D.a,[]),r.Cb(1073742336,V.b,V.b,[]),r.Cb(1073742336,C.c,C.c,[]),r.Cb(1073742336,$.c,$.c,[]),r.Cb(1073742336,J.d,J.d,[]),r.Cb(1073742336,J.b,J.b,[]),r.Cb(1073742336,B.a,B.a,[]),r.Cb(1073742336,q.c,q.c,[]),r.Cb(1073742336,Y.f,Y.f,[]),r.Cb(1073742336,S.b,S.b,[]),r.Cb(1073742336,G.g,G.g,[]),r.Cb(1073742336,A.e,A.e,[]),r.Cb(1073742336,X.a,X.a,[]),r.Cb(1073742336,K.a,K.a,[]),r.Cb(131584,T.l,T.l,[]),r.Cb(131584,P.a,P.a,[]),r.Cb(2048,P.i,null,[T.l]),r.Cb(256,P.C,void 0,[]),r.Cb(1024,P.e,P.Q,[P.C]),r.Cb(256,P.E,{router:Z.e},[]),r.Cb(2048,P.F,null,[P.E]),r.Cb(1024,P.d,P.N,[r.s,P.E,P.F]),r.Cb(256,P.D,P.t,[]),r.Cb(256,P.L,void 0,[]),r.Cb(1024,P.M,P.S,[P.L]),r.Cb(1024,P.f,function(e,t,n){return[P.T(e),P.U(t),P.B(n)]},[P.M,P.M,P.M]),r.Cb(256,P.s,[ne],[]),r.Cb(1024,P.K,P.R,[P.f,P.s]),r.Cb(1024,P.g,P.x,[P.D,P.K]),r.Cb(131584,P.h,P.h,[P.i,P.e,P.d,P.g]),r.Cb(2048,P.j,null,[P.h]),r.Cb(1024,T.j,T.e,[]),r.Cb(256,T.h,{logOnly:!0},[]),r.Cb(1024,T.g,T.i,[T.h]),r.Cb(512,T.k,T.k,[T.j,T.g,T.l]),r.Cb(131584,P.l,P.l,[]),r.Cb(1024,r.m,L.p,[]),r.Cb(512,T.a,T.a,[T.l,P.a,P.j,T.k,P.l,r.m,P.e,T.g]),r.Cb(1024,P.n,T.f,[T.a]),r.Cb(512,P.o,P.o,[P.n,P.a,P.h]),r.Cb(512,c.D,c.D,[r.s]),r.Cb(1024,r.A,function(){return[c.x()]},[]),r.Cb(256,F.f,"./ngsw-worker.js",[]),r.Cb(256,F.c,{enabled:!0},[]),r.Cb(512,u,u,[]),r.Cb(1024,r.d,function(e,t,n,r,o,i,a){return[c.E(e),L.q(t),F.g(n,r,o,i),(l=a,l.init)];var l},[c.D,[2,r.A],r.s,F.f,F.c,r.D,u]),r.Cb(512,r.e,r.e,[[2,r.d]]),r.Cb(131584,r.g,r.g,[r.B,r.fb,r.s,r.m,r.j,r.e]),r.Cb(512,c.v,c.d,[]),r.Cb(512,c.c,c.c,[]),r.Cb(256,c.l,{onSameUrlNavigation:"reload",enableTracing:!1},[]),r.Cb(1024,v.h,c.z,[v.s,[2,v.a],c.l]),r.Cb(512,v.g,v.g,[v.h,v.s]),r.Cb(512,r.i,r.i,[]),r.Cb(512,r.y,r.N,[r.i,[2,r.O]]),r.Cb(1024,c.n,function(){return[[{path:"",pathMatch:"full",canLoad:[re],loadChildren:"@lore/lore.module#LoreModule"}]]},[]),r.Cb(1024,c.p,c.B,[r.g,c.v,c.c,v.g,r.s,r.y,r.i,c.n,c.l,[2,c.u],[2,c.o]]),r.Cb(512,Z.c,Z.a,[]),r.Cb(256,Z.f,{},[]),r.Cb(1024,Z.b,Z.g,[Z.f]),r.Cb(1073742336,Z.d,Z.d,[P.o,c.p,Z.c,r.m,Z.b]),r.Cb(1024,c.w,c.A,[[3,c.p]]),r.Cb(1073742336,c.q,c.q,[[2,c.w],[2,c.p]]),r.Cb(1073742336,oe,oe,[]),r.Cb(1073742336,P.q,P.q,[P.a,P.j,P.l,P.o]),r.Cb(512,M.c,M.c,[r.m,P.o]),r.Cb(131584,M.j,M.j,[M.c,P.o]),r.Cb(1024,M.h,M.e,[]),r.Cb(1073742336,M.f,M.f,[M.c,M.j,P.o,M.h,[2,P.q],[2,P.p]]),r.Cb(1073742336,T.b,T.b,[]),r.Cb(1073742336,ie,ie,[]),r.Cb(1073742336,F.a,F.a,[]),r.Cb(1073742336,r.f,r.f,[r.g]),r.Cb(1073742336,L.a,L.a,[[3,L.a]]),r.Cb(1073742336,H.b,H.b,[]),r.Cb(1073742336,ae.b,ae.b,[[3,ae.b]]),r.Cb(1073742336,s,s,[]),r.Cb(256,r.db,!0,[]),r.Cb(256,H.a,"BrowserAnimations",[]),r.Cb(256,R.g,ae.a,[])])});o.a.production&&Object(r.W)(),L.h().bootstrapModuleFactory(le).then(function(){"serviceWorker"in navigator&&o.a.production&&navigator.serviceWorker.register("./ngsw-worker.js").then()}).catch(console.error)},zXmz:function(e,t,n){"use strict";n("LcVi"),n("xdJh")}},[[1,0,4]]]);