<mat-toolbar color="back">
	<mat-toolbar-row id="mainBar">
		<app-hamburger *ngIf="!sidebar.mediaLarge" @leave [(open)]="sidebar.opened"></app-hamburger>

		<button class="title" mat-button [routerLink]="['']" matRipple disableRipple [matRippleRadius]="800">
			{{ title }}
		</button>

		<mat-menu #appMenu="matMenu">
			<button mat-menu-item (click)="createLore($event)">Create</button>
			<button mat-menu-item (click)="loadLores($event)">ListToConsole</button>
			<hr class="divider" />
			<button mat-menu-item>Help</button>
			<button mat-menu-item>GitHub</button>
		</mat-menu>

		<span class="menuButton">
			Current project: {{ currentLoreName$ | async}}
			<button mat-icon-button [matMenuTriggerFor]="appMenu" >
			<fa-icon [icon]="menuIcon" ></fa-icon>
		</button>
		</span>

	</mat-toolbar-row>
</mat-toolbar>

<app-sidebar #sidebar>
	<div class="controls" [ngStyle]="{ 'left.px': timeline.el.nativeElement.offsetLeft }">
		<app-scene-controls class="scene-control"></app-scene-controls>
		<div class="time-control">
			<div class="inlineFromRight">
				<button mat-mini-fab color="basic" (click)="setSpeed($event, 1)">1X</button>
				<button mat-mini-fab color="basic" (click)="setSpeed($event, 2)">2X</button>
				<button mat-mini-fab color="basic" (click)="setSpeed($event, 8)">8X</button>
				<button mat-mini-fab color="basic" (click)="setSpeed($event, 100)">100X</button>
				<button mat-mini-fab color="basic" (click)="setSpeed($event, 1000)">1000X</button>
			</div>
			<div class="inlineFromRight">
				<app-play #play (tap)="timeline.playOrPause(play.play)"></app-play>
				<div class="slider">
					<ng5-slider
						[value]="engineService.speed.value"
						(valueChange)="engineService.speed.next($event)"
						[options]="sliderOptions"
					></ng5-slider>
				</div>
			</div>
		</div>
		<app-light-control class="light-control"></app-light-control>
	</div>

	<app-timeline #timeline matRipple [matRippleColor]="'#12121206'"></app-timeline>
</app-sidebar>

<app-engine></app-engine>
