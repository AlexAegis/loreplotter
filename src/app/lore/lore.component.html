<mat-toolbar color="back">
	<mat-toolbar-row id="mainBar">
		<app-hamburger *ngIf="!sidebar.mediaLarge" @leave [(open)]="sidebar.opened"></app-hamburger>

		<button class="title" aria-label="Home" mat-button [routerLink]="['']" matRipple disableRipple
				[matRippleRadius]="800">
			{{ title }}
		</button>

		<mat-menu #appMenu="matMenu">
			<button aria-label="Create Project" mat-menu-item (click)="createLore()">Create</button>
			<hr class="divider" />
			<button aria-label="Select project" mat-menu-item *ngFor="let lore of lores$ | async"
					(click)="selectLore(lore)">
				{{ lore.name }}
			</button>

			<span>
				<button aria-label="Export" mat-menu-item (click)="createLore()">Export</button>
				<button aria-label="Import" mat-menu-item (click)="createLore()">Import</button>
			</span>
		</mat-menu>

		<span class="menuButton">
			<button mat-icon-button aria-label="Open Repo"><fa-icon [icon]="githubIcon" size="lg"
																	(click)="navigateToRepo()"></fa-icon></button>
			<button mat-flat-button aria-label="Edit Current" (click)="editLoreCurrent()"
					*ngIf="!!(selectedLore$ | async)">
				{{ (selectedLore$ | async).name }}
			</button>
			<button mat-icon-button aria-label="Open Menu" [matMenuTriggerFor]="appMenu">
				<fa-icon [icon]="menuIcon" size="lg"></fa-icon>
			</button>
		</span>
	</mat-toolbar-row>
</mat-toolbar>

<app-sidebar #sidebar>
	<div class="controls">
		<app-scene-controls class="scene-control"></app-scene-controls>
		<app-speed-control class="time-control"></app-speed-control>
		<app-light-control class="light-control"></app-light-control>
	</div>

	<app-timeline #timeline matRipple [matRippleColor]="'#12121206'"></app-timeline>

	<!--
        [ngStyle]="{ 'left.px': timeline.el.nativeElement.offsetLeft }"

        -->
</app-sidebar>

<app-engine></app-engine>
